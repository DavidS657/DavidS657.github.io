<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Neath</title>
<style title="Twine CSS">@keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes rumble{25%{top:-0.1em}75%{top:0.1em}0%,to{top:0px}}@keyframes shudder{25%{left:0.1em}75%{left:-0.1em}0%,to{left:0px}}@keyframes buoy{25%{top:0.25em}75%{top:-0.25em}0%,to{top:0px}}@keyframes sway{25%{left:0.25em}75%{left:-0.25em}0%,to{left:0px}}@keyframes pulse{0%{transform:scale(0, 0)}20%{transform:scale(1.2, 1.2)}40%{transform:scale(0.9, 0.9)}60%{transform:scale(1.05, 1.05)}80%{transform:scale(0.925, 0.925)}to{transform:scale(1, 1)}}@keyframes zoom-in{0%{transform:scale(0, 0)}to{transform:scale(1, 1)}}@keyframes shudder-in{0%, to{transform:translateX(0em)}5%, 25%, 45%{transform:translateX(-1em)}15%, 35%, 55%{transform:translateX(1em)}65%{transform:translateX(-0.6em)}75%{transform:translateX(0.6em)}85%{transform:translateX(-0.2em)}95%{transform:translateX(0.2em)}}@keyframes rumble-in{0%, to{transform:translateY(0em)}5%, 25%, 45%{transform:translateY(-1em)}15%, 35%, 55%{transform:translateY(1em)}65%{transform:translateY(-0.6em)}75%{transform:translateY(0.6em)}85%{transform:translateY(-0.2em)}95%{transform:translateY(0.2em)}}@keyframes fidget{0%, 8.1%, 82.1%, 31.1%, 38.1%, 44.1%, 40.1%, 47.1%, 74.1%, 16.1%, 27.1%, 72.1%, 24.1%, 95.1%, 6.1%, 36.1%, 20.1%, 4.1%, 91.1%, 14.1%, 87.1%, to{left:0px;top:0px}8%, 82%, 31%, 38%, 44%{left:-1px}40%, 47%, 74%, 16%, 27%{left:1px}72%, 24%, 95%, 6%, 36%{top:-1px}20%, 4%, 91%, 14%, 87%{top:1px}}@keyframes slide-right{0%{transform:translateX(-100vw)}}@keyframes slide-left{0%{transform:translateX(100vw)}}@keyframes slide-up{0%{transform:translateY(100vh)}}@keyframes slide-down{0%{transform:translateY(-100vh)}}@keyframes fade-right{0%{opacity:0;transform:translateX(-1em)}to{opacity:1}}@keyframes fade-left{0%{opacity:0;transform:translateX(1em)}to{opacity:1}}@keyframes fade-up{0%{opacity:0;transform:translateY(1em)}to{opacity:1}}@keyframes fade-down{0%{opacity:0;transform:translateY(-1em)}to{opacity:1}}@keyframes flicker{0%,29%,31%,63%,65%,77%,79%,86%,88%,91%,93%{opacity:0}30%{opacity:0.2}64%{opacity:0.4}78%{opacity:0.6}87%{opacity:0.8}92%, to{opacity:1}}@keyframes blur{0%{filter:blur(2rem);opacity:0}25%{opacity:1}to{filter:blur(0rem);opacity:1}}.dom-debug-mode tw-story,.dom-debug-mode tw-passage,.dom-debug-mode tw-sidebar,.dom-debug-mode tw-include,.dom-debug-mode tw-hook,.dom-debug-mode tw-expression,.dom-debug-mode tw-link,.dom-debug-mode tw-dialog,.dom-debug-mode tw-columns,.dom-debug-mode tw-column,.dom-debug-mode tw-align{outline:1px solid #f5a3da;min-height:32px;display:block !important}.dom-debug-mode tw-story::before,.dom-debug-mode tw-passage::before,.dom-debug-mode tw-sidebar::before,.dom-debug-mode tw-include::before,.dom-debug-mode tw-hook::before,.dom-debug-mode tw-expression::before,.dom-debug-mode tw-link::before,.dom-debug-mode tw-dialog::before,.dom-debug-mode tw-columns::before,.dom-debug-mode tw-column::before,.dom-debug-mode tw-align::before{position:absolute;top:0;left:0;height:16px;background-color:#f5a3da;color:black;font-size:16px;font-weight:normal;font-style:normal;font-family:monospace;display:inline-block;line-height:100%;white-space:pre;z-index:999997}.dom-debug-mode tw-story:hover,.dom-debug-mode tw-passage:hover,.dom-debug-mode tw-sidebar:hover,.dom-debug-mode tw-include:hover,.dom-debug-mode tw-hook:hover,.dom-debug-mode tw-expression:hover,.dom-debug-mode tw-link:hover,.dom-debug-mode tw-dialog:hover,.dom-debug-mode tw-columns:hover,.dom-debug-mode tw-column:hover,.dom-debug-mode tw-align:hover{outline:1px solid #fc9}.dom-debug-mode tw-story:hover::before,.dom-debug-mode tw-passage:hover::before,.dom-debug-mode tw-sidebar:hover::before,.dom-debug-mode tw-include:hover::before,.dom-debug-mode tw-hook:hover::before,.dom-debug-mode tw-expression:hover::before,.dom-debug-mode tw-link:hover::before,.dom-debug-mode tw-dialog:hover::before,.dom-debug-mode tw-columns:hover::before,.dom-debug-mode tw-column:hover::before,.dom-debug-mode tw-align:hover::before{background-color:#fc9;transition:background-color 1s}.dom-debug-mode tw-passage,.dom-debug-mode tw-include,.dom-debug-mode tw-hook,.dom-debug-mode tw-expression,.dom-debug-mode tw-link,.dom-debug-mode tw-dialog,.dom-debug-mode tw-columns,.dom-debug-mode tw-column,.dom-debug-mode tw-align{padding:1em;margin:0}.dom-debug-mode tw-story::before{content:'<tw-story tags="' attr(tags) '">'}.dom-debug-mode tw-passage::before{top:-16px;content:'<tw-passage tags="' attr(tags) '">'}.dom-debug-mode tw-sidebar::before{top:-16px;content:"<tw-sidebar>"}.dom-debug-mode tw-hook::before{content:'<tw-hook name="' attr(name) '">'}.dom-debug-mode tw-expression::before{content:'<tw-expression name="' attr(name) '">'}.dom-debug-mode tw-link::before{content:'<tw-link name="' attr(name) '">'}.dom-debug-mode tw-dialog::before{content:"<tw-dialog>"}.dom-debug-mode tw-columns::before{content:"<tw-columns>"}.dom-debug-mode tw-column::before{content:"<tw-column>"}.dom-debug-mode tw-align::before{content:"<tw-align>"}.dom-debug-mode tw-include::before{content:'<tw-include type="' attr(type) '" name="' attr(name) '">'}.debug-mode tw-expression{display:inline-block !important}.debug-mode tw-expression[type=variable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"$" attr(name)}.debug-mode tw-expression[type=tempVariable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"_" attr(name)}.debug-mode tw-expression[return=boolean]{background-color:rgba(179,179,179,0.2)}.debug-mode tw-expression[return=array]{background-color:rgba(255,102,102,0.2)}.debug-mode tw-expression[return=dataset]{background-color:rgba(255,128,0,0.2)}.debug-mode tw-expression[return=number]{background-color:rgba(255,179,102,0.2)}.debug-mode tw-expression[return=datamap]{background-color:rgba(255,255,102,0.2)}.debug-mode tw-expression[return=changer]{background-color:rgba(179,255,102,0.2)}.debug-mode tw-expression[return=lambda]{background-color:rgba(102,255,102,0.2)}.debug-mode tw-expression[return=hookname]{background-color:rgba(102,255,204,0.2)}.debug-mode tw-expression[return=string]{background-color:rgba(102,255,255,0.2)}.debug-mode tw-expression[return=datatype]{background-color:rgba(102,153,255,0.2)}.debug-mode tw-expression[return=gradient],.debug-mode tw-expression[return=colour]{background-color:rgba(204,102,255,0.2)}.debug-mode tw-expression[return=instant],.debug-mode tw-expression[return=macro]{background-color:rgba(240,117,199,0.2)}.debug-mode tw-expression[return=command]{background-color:rgba(153,153,255,0.2)}.debug-mode tw-expression.false{background-color:rgba(255,0,0,0.2) !important}.debug-mode tw-expression[type=macro]::before{content:"(" attr(name) ":)";padding:0 0.5rem;font-size:1rem;vertical-align:middle;line-height:normal;background-color:inherit;border:1px solid rgba(255,255,255,0.5)}.debug-mode tw-hook{background-color:rgba(0,85,255,0.1) !important}.debug-mode tw-hook::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"["}.debug-mode tw-hook::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]"}.debug-mode tw-hook[name]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]<" attr(name) "|"}.debug-mode tw-pseudo-hook{background-color:rgba(255,170,0,0.1) !important}.debug-mode tw-collapsed::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"{"}.debug-mode tw-collapsed::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"}"}.debug-mode tw-verbatim::before,.debug-mode tw-verbatim::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"`"}.debug-mode tw-align[style*="text-align: center"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 50%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: left"]{background:linear-gradient(to right, rgba(255,204,189,0.25) 0%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: right"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 100%)}.debug-mode tw-column{background-color:rgba(189,228,255,0.2)}.debug-mode tw-enchantment{animation:enchantment 0.5s infinite;border:1px solid}.debug-mode tw-link::after,.debug-mode tw-broken-link::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(passage-name)}.debug-mode tw-include{background-color:rgba(204,128,51,0.1)}.debug-mode tw-include::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(type) ' "' attr(name) '"'}@keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}tw-debugger{position:fixed;box-sizing:border-box;bottom:0;right:0;z-index:999999;min-width:10em;min-height:1em;padding:0em 0.5em 0.5em 1em;font-size:1.25em;font-family:sans-serif;color:#000;border-left:solid #000 2px;border-top:solid #000 2px;border-top-left-radius:.5em;background:#fff;opacity:1}tw-debugger select{margin-right:1em;width:12em}tw-debugger button{border-radius:3px;border:solid #999 1px;margin:auto 4px;background-color:#fff;font-size:inherit;color:#000}tw-debugger button.enabled{background-color:#eee;box-shadow:inset #ddd 3px 5px 0.5em}tw-debugger .panel{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:absolute;bottom:100%;left:-2px;right:0;padding:1em;max-height:40vh;overflow-y:scroll;overflow-x:hidden;z-index:999998;background:#fff;border:inherit;border-bottom:solid #999 2px;border-top-left-radius:.5em;border-bottom-left-radius:.5em;font-size:0.8em}tw-debugger .panel:empty,tw-debugger .panel[hidden]{display:none}tw-debugger .panel-source,tw-debugger .panel-row-source{font-family:monospace;overflow-x:scroll;white-space:pre;-ms-flex-preferred-size:100%;flex-basis:100%}tw-debugger .panel-row-source{margin:5px 0}tw-debugger .panel-rows{width:100%;overflow-x:scroll}tw-debugger .panel-rows>*{display:table-row}tw-debugger .panel-rows>div:nth-of-type(2n){background:#EEE}tw-debugger .panel-row-buttons{text-align:right}tw-debugger .panel-variables .panel-rows:empty::before{content:"~ No variables ~";font-style:italic;color:#888;text-align:center}tw-debugger .panel-enchantments .panel-rows:empty::before{content:"~ No enchantments ~";font-style:italic;color:#888;text-align:center}tw-debugger .panel-errors .panel-rows:empty::before{content:"~ No errors... for now. ~";font-style:italic;color:#888;text-align:center}tw-debugger .panel-rows:empty+.panel-variables-bottom{display:none}tw-debugger .panel-storylets:not(.panel-exclusive) .storylet-exclusive,tw-debugger .panel-storylets:not(.panel-urgent) .storylet-urgent{display:none}tw-debugger .panel-variables-bottom{padding-top:5px}tw-debugger .enchantment-row{min-height:1.5em}tw-debugger .variable-path{opacity:0.4}tw-debugger .temporary-variable-scope,tw-debugger .enchantment-local{font-family:sans-serif;font-weight:normal;opacity:0.8;font-size:0.75em}tw-debugger .temporary-variable-scope:not(:empty)::before,tw-debugger .enchantment-local:not(:empty)::before{content:" in "}tw-debugger .variable-name,tw-debugger .enchantment-name{font-family:monospace;font-weight:bold}tw-debugger .variable-type{color:#444;font-weight:normal;text-overflow:ellipsis;overflow:hidden;max-width:10em}tw-debugger .error-row{display:table-row;background-color:rgba(230,101,204,0.3)}tw-debugger .error-row:nth-of-type(2n){background-color:rgba(237,145,219,0.3)}tw-debugger .error-row>*{display:table-cell;padding:0.25em 0.5em}tw-debugger .error-row .error-message{cursor:help}tw-debugger .error-row .error-passage{color:#444}tw-debugger .storylet-row{background-color:rgba(201,233,222,0.3)}tw-debugger .storylet-row:nth-child(2n){background-color:rgba(128,203,178,0.3)}tw-debugger .storylet-row.storylet-closed{font-style:italic;opacity:0.4;background-color:rgba(217,217,217,0.3)}tw-debugger .storylet-row.storylet-closed:nth-child(2n){background-color:rgba(166,166,166,0.3)}.storylet-error tw-debugger .storylet-row{background-color:rgba(230,101,204,0.3)}.storylet-error tw-debugger .storylet-row:nth-child(2n){background-color:rgba(237,145,219,0.3)}tw-debugger .storylet-row .storylet-name,tw-debugger .storylet-row .storylet-value{display:inline-block;width:50%}tw-debugger .tabs{padding-bottom:0.5em}tw-debugger .tab{border-radius:0px 0px 0.5em 0.5em;border-top:none}tw-debugger .resizer{position:absolute;height:3em;border-left:2px solid #ccc;border-right:2px solid #ccc;top:10px;left:4px;width:8px;cursor:ew-resize}tw-dialog{z-index:999997;border:#fff solid 2px;padding:2em;color:#fff;background-color:#000;display:block}@media (min-width: 576px){tw-dialog{max-width:50vw}}tw-dialog input[type=text]{font-size:inherit;width:100%}tw-dialog-links{text-align:right;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}tw-backdrop{z-index:999996;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.8);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}tw-backdrop ~ tw-backdrop{display:none}tw-link,.link,tw-icon,.enchantment-clickblock{cursor:pointer}tw-link,.enchantment-link{color:#4169E1;font-weight:bold;text-decoration:none;transition:color 0.2s ease-in-out}tw-passage [style^="color"] tw-link:not(:hover),tw-passage [style*=" color"] tw-link:not(:hover),tw-passage [style^="color"][hover="true"] tw-link:hover,tw-passage [style*=" color"][hover="true"] tw-link:hover,tw-passage [style^="color"] .enchantment-link:not(:hover),tw-passage [style*=" color"] .enchantment-link:not(:hover),tw-passage [style^="color"][hover="true"] .enchantment-link:hover,tw-passage [style*=" color"][hover="true"] .enchantment-link:hover{color:inherit}tw-link:hover,.enchantment-link:hover{color:#00bfff}tw-link:active,.enchantment-link:active{color:#DD4B39}.visited{color:#6941e1}tw-passage [style^="color"] .visited:not(:hover),tw-passage [style*=" color"] .visited:not(:hover),tw-passage [style^="color"][hover="true"] .visited:hover,tw-passage [style*=" color"][hover="true"] .visited:hover{color:inherit}.visited:hover{color:#E3E}tw-broken-link{color:#993333;border-bottom:2px solid #993333;cursor:not-allowed}tw-passage [style^="color"] tw-broken-link:not(:hover),tw-passage [style*=" color"] tw-broken-link:not(:hover),tw-passage [style^="color"][hover="true"] tw-broken-link:hover,tw-passage [style*=" color"][hover="true"] tw-broken-link:hover{color:inherit}.enchantment-mouseover{border-bottom:2px dashed #999}.enchantment-mouseout{border:rgba(64,149,191,0.6) 1px solid}.enchantment-mouseout:hover{background-color:rgba(175,197,207,0.75);border:transparent 1px solid;border-radius:0.2em}.enchantment-clickblock{width:100%;height:100%;display:block}.enchantment-clickblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;color:rgba(65,105,225,0.5);transition:color 0.2s ease-in-out}.enchantment-clickblock>:not(tw-enchantment):hover::after{color:rgba(0,191,255,0.5)}.enchantment-clickblock>:not(tw-enchantment):active::after{color:rgba(222,78,59,0.5)}.enchantment-clickblock>:not(tw-enchantment)::after{box-shadow:inset 0 0 0 0.5vmax}.enchantment-clickblock>tw-passage::after,.enchantment-clickblock>tw-sidebar::after{box-shadow:0 0 0 0.5vmax}.enchantment-mouseoverblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:2px dashed #999}.enchantment-mouseoutblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:rgba(64,149,191,0.6) 2px solid}.enchantment-mouseoutblock:hover>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;background-color:rgba(175,197,207,0.75);border:transparent 2px solid;border-radius:0.2em}tw-link.enchantment-button,.enchantment-link.enchantment-button,.enchantment-button:not(.enchantment-link) tw-link,.enchantment-button:not(.enchantment-link) .enchantment-link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px 8px;display:block}tw-dialog-links{padding-top:1.5em}tw-dialog-links tw-link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px 8px;display:block;display:inline-block}html{margin:0;height:100%;overflow-x:hidden}*,:before,:after{position:relative;box-sizing:inherit}body{margin:0;height:100%}tw-storydata{display:none}tw-story{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;font:100% Georgia, serif;box-sizing:border-box;width:100%;min-height:100%;font-size:1.5em;line-height:1.5em;padding:5% 5%;overflow:hidden;background-color:#000;color:#fff}tw-story [style*=content-box] *{box-sizing:border-box}@media (min-width: 576px){tw-story{padding:5% 20%}}tw-story tw-consecutive-br{display:block;height:1.6ex;visibility:hidden}tw-story select{background-color:transparent;font:inherit;border-style:solid;padding:2px}tw-story select:not([disabled]){color:inherit}tw-story textarea{resize:none;background-color:transparent;font:inherit;color:inherit;border-style:none;padding:2px}tw-story input[type=checkbox]{transform:scale(1.5);margin:0 0.5em}tw-story tw-noscript{animation:appear 0.8s}tw-passage{display:block}tw-sidebar{text-align:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@media (min-width: 576px){tw-sidebar{left:-5em;width:3em;position:absolute;-ms-flex-direction:column;flex-direction:column}tw-enchantment[style*="width"]>tw-sidebar{width:inherit}}tw-icon{display:inline-block;margin:0.5em 0;font-size:66px;font-family:"Verdana",sans-serif}tw-icon[alt]{opacity:0.2}tw-icon[alt]:hover{opacity:0.4}tw-icon[data-label]::after{font-weight:bold;content:attr(data-label);font-size:20px;bottom:-20px;left:-50%;white-space:nowrap}tw-meter{display:block}tw-hook:empty,tw-expression:empty{display:none}tw-error{display:inline-block;border-radius:0.2em;padding:0.2em;font-size:1rem;cursor:help;white-space:pre-wrap}tw-error.error{background-color:rgba(223,58,190,0.6);color:#fff}tw-error.warning{background-color:rgba(223,140,58,0.6);color:#fff;display:none}.debug-mode tw-error.warning{display:inline}tw-error-explanation{display:block;font-size:0.8rem;line-height:1rem}tw-open-button,tw-folddown{cursor:pointer;line-height:0em;border-radius:1px;border:1px solid black;font-size:0.8rem;margin:0 0.4rem;padding:2px;white-space:pre}tw-folddown::after{content:"\25b6"}tw-folddown.open::after{content:"\25bc"}tw-open-button::after{content:"Open"}tw-notifier{border-radius:0.2em;padding:0.2em;font-size:1rem;background-color:rgba(223,182,58,0.4);display:none}.debug-mode tw-notifier{display:inline}tw-notifier::before{content:attr(message)}tw-colour{border:1px solid black;display:inline-block;width:1em;height:1em}tw-enchantment:empty{display:none}h1{font-size:3em}h2{font-size:2.25em}h3{font-size:1.75em}h1,h2,h3,h4,h5,h6{line-height:1em;margin:0.3em 0 0.6em 0}pre{font-size:1rem;line-height:initial}small{font-size:70%}big{font-size:120%}mark{color:rgba(0,0,0,0.6);background-color:#ff9}ins{color:rgba(0,0,0,0.6);background-color:rgba(255,242,204,0.5);border-radius:0.5em;box-shadow:0em 0em 0.2em #ffe699;text-decoration:none}center{text-align:center;margin:0 auto;width:60%}blink{text-decoration:none;animation:fade-in-out 1s steps(1, end) infinite alternate}tw-align{display:block}tw-columns{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.transition-in{animation:appear 0ms step-start}.transition-out{animation:appear 0ms step-end}[data-t8n^=dissolve].transition-in,[data-t8n=fade].transition-in{animation:appear .8s}[data-t8n^=dissolve].transition-out,[data-t8n=fade].transition-out{animation:appear .8s reverse}[data-t8n^=shudder].transition-in{display:inline-block !important;animation:shudder-in .8s}[data-t8n^=shudder].transition-out{display:inline-block !important;animation:shudder-in .8s reverse}[data-t8n^=rumble].transition-in{display:inline-block !important;animation:rumble-in .8s}[data-t8n^=rumble].transition-out{display:inline-block !important;animation:rumble-in .8s reverse}[data-t8n^=pulse].transition-in{animation:pulse .8s;display:inline-block !important}[data-t8n^=pulse].transition-out{animation:pulse .8s reverse;display:inline-block !important}[data-t8n^=zoom].transition-in{animation:zoom-in .8s;display:inline-block !important}[data-t8n^=zoom].transition-out{animation:zoom-in .8s reverse;display:inline-block !important}[data-t8n^=blur].transition-in{animation:blur .8s;display:inline-block !important}[data-t8n^=blur].transition-out{animation:blur .8s reverse;display:inline-block !important}[data-t8n^=slideleft].transition-in{animation:slide-left .8s;display:inline-block !important}[data-t8n^=slideleft].transition-out{animation:slide-right .8s reverse;display:inline-block !important}[data-t8n^=slideright].transition-in{animation:slide-right .8s;display:inline-block !important}[data-t8n^=slideright].transition-out{animation:slide-left .8s reverse;display:inline-block !important}[data-t8n^=slideup].transition-in{animation:slide-up .8s;display:inline-block !important}[data-t8n^=slideup].transition-out{animation:slide-down .8s reverse;display:inline-block !important}[data-t8n^=slidedown].transition-in{animation:slide-down .8s;display:inline-block !important}[data-t8n^=slidedown].transition-out{animation:slide-up .8s reverse;display:inline-block !important}[data-t8n^=fadeleft].transition-in{animation:fade-left .8s;display:inline-block !important}[data-t8n^=fadeleft].transition-out{animation:fade-right .8s reverse;display:inline-block !important}[data-t8n^=faderight].transition-in{animation:fade-right .8s;display:inline-block !important}[data-t8n^=faderight].transition-out{animation:fade-left .8s reverse;display:inline-block !important}[data-t8n^=fadeup].transition-in{animation:fade-up .8s;display:inline-block !important}[data-t8n^=fadeup].transition-out{animation:fade-down .8s reverse;display:inline-block !important}[data-t8n^=fadedown].transition-in{animation:fade-down .8s;display:inline-block !important}[data-t8n^=fadedown].transition-out{animation:fade-up .8s reverse;display:inline-block !important}[data-t8n^=flicker].transition-in{animation:flicker .8s}[data-t8n^=flicker].transition-out{animation:flicker .8s reverse}
</style>
</head>
<body>
<tw-story><noscript><tw-noscript>JavaScript needs to be enabled to play Neath.</tw-noscript></noscript></tw-story>
<tw-storydata name="Neath" startnode="3" creator="Twine" creator-version="2.3.15" ifid="5CDF9E7D-7EF9-46CD-A948-C9B4B130B266" zoom="0.6" format="Harlowe" format-version="3.2.3" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">@import url(https://fonts.googleapis.com/css?family=Poor+Story);

.enchantment-link, tw-link {
	background-color:#44c767;
	border-radius:6px;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-size:30px;
	font-weight:bold;
	padding:10px 16px;
	text-decoration:none;
}

.enchantment-link:hover,
tw-link:hover {
	background-color:#ffffff;
  	color: #000000;
}

.enchantment-link:visited,
tw-link:visited {
  	color: #222222;
}

.enchantment-link:active,
tw-link:active {
	position:relative;
	top:1px;
}

tw-passage {
  font-family: 'Poor Story';
  font-size: 28px;
}

body {
  background-color: white;
}

.menu {
	background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAPoCAYAAABNo9TkAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAG3RFWHRTb2Z0d2FyZQBDZWxzeXMgU3R1ZGlvIFRvb2zBp+F8AAAgAElEQVR42qy9+W+c53UFfGbf950zXIY7qX23LNmW491OnGZrgjht0yJpgaZAWwRoU6BAUaB/Q4sC/SFF2yBN0SRNvCR2bEneKcsSKVKkuJNDcjgznH3nrN8P33cuXtKS4xYfgcASM5qZ+z73uc+95557HtXFixe7586dw8bGBsbHx2EwGBCJRPDWW2+h2+0iHA7D5XLh1q1bmJ6ehk6ng8PhgNVqxfz8PLrdLl588UV0Oh2sra2hVqthf38fbrcbjUYDu7u7SKfTMBqNGBgYQKFQgEajQSgUgkajQTqdRiAQwObmJtxuN7xeL2KxGKrVKnZ2dmA0GjE+Po5UKoVoNIpisYhut4tms4lUKgWdTgedTgeTyYRsNguNRoNSqYSBgQEEg0Hs7OzI9zx//jyy2Syq1SqMRiOGh4ext7eHcDgMvV6P3t5efPjhhwAAr9cLm82G5eVlLC8vQ6/Xw2w2w2w2Y21tDZ1OB4888gg6nQ4SiQT29/fRarVgs9nQbDaRyWSQzWah1+sRiURQKpWg0Wjg9XqhVqtRKBTgdruxu7sLh8MBh8OBZDKJWq0mdg0ODiKbzSISiaBcLgMAWq0W0uk0dDodtFotjEYjcrkcNBoNKpUKent74fP5kEgksLa2BgA4cuQICoUCqtUqDAYDBgcHkU6nxe5IJHLAbofDgaWlJayvr0Oj0YjdW1tbAIBz586h2+1id3cXjUYDzWZT7M7lcqhWq9BoNPD5fKhUKlCr1fB4PAfsTiQSsNlscLlc8vyKxSI0Gg16enqQz+fR09MjdjebTRQKBWi1WqjVahgMBpRKJajVajQaDfh8PrE7lUoBAPr7+1EoFNBoNKDVajE4OIi9vT1EIhHo9XoMDAzg3XffPWD34uIidnd3oVarodfrYTAYkMvl0O12cfToUXQ6Hezu7qLZbKLdbsNsNqPVaqFSqaDZbEKlUsFms6Fer0OtVsNut0OtVqNcLsNutyObzcJkMsHhcCCdTqPVaqFer0OlUsHlcqFSqcDr9aJSqQAA2u02arUa1Go11Go1tFqtvL7VasFut8PlciGTyaBYLIottVoNzWZT9lo+n4fP5xM/v3nzJgDA6XTCarVic3MT+XweKpUKWq0WOp1Onn1vby+63S5yuRza7TY6nQ70ej06nY74vUqlgtFoPPBntVqNer0Ok8mESqUCnU4Hi8WCUqmEVqslz8tisWB/fx82mw2NRkPsbjQaUKlU8p34dz53q9WKYrGIWq0GALDb7djf30e73YZarYbb7Ua5XIbL5YJOp0NPTw/m5uYAADabDRaLBfF4XOzUaDTyfAHA7/ej2+2iVCqh3W6j2+1Cp9Oh0+mg0Wig0+lApVJBr9eL3QaDAWq1Gvv7+zAYDKjVahKfyuUyOp2OvNZkMqHRaMBisYjdnU5HngvXnH/vdDowGAywWCyoVCryPS0Wi/ijWq2Gw+FAtVqF3W6HVquF1+vF6uqqvNZoNCKdTqNSqUClUkGj0cg+6na78Hq96Ha78n273S60Wq3EXdqt0+nQbrflz3wPg8GAer0OjUYDo9GIarWKbrd74Bm1Wi2YTCY0m00AkPfmeqvVank97TYajXK+AIDZbD7wfWw2G/b392E2m6HVauF2uxGLxQAARqNR9nKtVpPP0Gg08n4ulwvdbhe1Wu2A3Vyzw3YDgF6vh0qlQrPZhF6vx/7+vuwf+iKfkcFgQLPZhMlkQqvVkvWmnQ+ym8/z0+yu1+uwWCzQarXw+XxYX18HAJhMJhiNRmQymQfa7Xa70e12Ua1WH7jetFW53vezW6/Xy/Pja41GIxqNhnzv+623RqP5hJ+bTCZUq1X5ntwnnU5HYmutVoPVaoVWq0UgEMDKyoo8I5PJhL29PVSrVfkMjUYj+8bj8dzXbu7B++3vw+tdr9eh0+kO2K2Mgc1m84DdfG+1Wi1rwb+3220YjUaYzeYD+9tqtR6IN06nE9VqFTabDVqtFn6//4DdZrMZe3t7B/a30m7u70ql8on1bjQaB/z1fnGNe5pxrVKpoN1uy/qZzWY0Gg353ofj2uH1brfbMJlMsFqtKJfLcvY5nU7U63WJax6PB+VyGU6nEzqdDsFgEPfu3ZNnZLFYkEgkUCgU7nuORSIRdLtdFAqFTz3HGJd4NqlUKtlfxWIRRqMRFosFhUIBrVYL+/v7B9bF7XbLmdTpdA6c3zqdTv7ebDbhcDjgcrmQzWaRz+cBAMFgEJVKRfKWcDh84Pzu6enBzMwMVCoVHA4HbDYbYrEYksmk5EZ6vR65XA4AMDY2hm63i0wmc9+8ZX9/X84N5i0OhwMajQblchkOhwOZTAYWiwV2ux2ZTAaNRkNy2mAwiGKxiEAggGq1Kud3sViEVquFRqORfI1+6Pf74fP5kEqlEI/HAQDDw8MoFouo1+swGAwYGBhANptFMBiEwWBAf38/bty4ITHLbrdjbW0NGxsb0Gq1MJlMsFgs2N7elny/2+0imUzK+trtdslTS6WS+FG5XJacVaPRIJ/Pw+v1Ih6Pw+VyweVyYXd3F7VaTfLv4eFhZDIZ9PX1ic82m03s7e1Br9dDq9XCYrEgk8lAq9WiXC5jcHAQoVAIOzs7WFhYAACcP38emUwG5XIZFosFR44cQTKZRDQahdlsxsTEBF555RWoVCqEw2H4fD7cunULMzMzMBgMcDgcsNvtUud86UtfQrfblXqs2WzC4/Gg0WhgZ2cHe3t7MBqNGBsbQzabhU6nQ39/P3Q6HZLJJPr6+rC4uIhAICB/LpVKWF1dhclkwsWLF7G1tYXTp09jb28PKpUK+/v7WF9fh9lshtFohNPpRCwWg8FgQCqVwsWLFzExMYG5uTm88cYb6Ha7+L3f+z3EYjFkMhm4XC48/vjjWF9fx+TkpNSh7733HgAgHA7Dbrfj7t27ePnll2GxWBAOhxEIBPDaa6+h3W7jr//6r9HtdrG8vIxSqYRarYa+vj7UajXMzc1hfn4eLpcLTz75pNSWR44cgVarxc7ODqLRKGZnZ9HX14eenh4sLy8jl8vh6tWrcLvd+OpXv4r19XWcPn1acuV6vY6FhQU4HA6YzWa4XC6srq7CbDZjZWUFzz77LMLhMLa3t/HP//zP6Ha7+MEPfoBkMom9vT243W4cO3YM6XQaoVAIOp0OTqdT8jXV17/+9a5er0coFMK1a9eQy+Xg9/vRarWQSqUksVKr1fjjP/5jlMtlXL9+HePj4zAajXIwud1uXL16FQMDA+jp6cH8/Dzu3r0rG6fVaqHb7cJut+N73/seXnvtNUxPTyOdTsNiscDhcCAQCCCVSqHdbuPxxx9HJpNBoVBAKBRCIpGQor1arcLlcsnBabfbsbe3h1KpBJfLhVKpBAAoFouw2+3odrvY399HrVaT7zA6OgqtVguXy4XZ2VkJ/O12WwIbC5wvfOELqNVqmJmZQSQSgdFolATM4XDg1q1bCAQC8Pv9WF9fx9raGrRaLQwGgxyAFosF3/jGN3D9+nWsrKxIoWa32+F2u5HNZtFut3HhwgXk83mUSiX4fD7s7e1hf38fyWQS1WoVTqdT7LZarchmsxJEeRBVq1WYzWY5cJvNJrrdLkwmEwYHB8Xu+fl5+bftdhuFQkEOFZVKhRdeeAHVahUzMzMIh8MH7HY6nfj4448RCAQQCASwvr6OWCwmhS0TWJPJhD/4gz/AG2+8gdXVVSnUzGYznE4n8vk8Op0Ozp8/L0HT7/djb29PgiGTHK1Wi3a7DavVilwuJ8k4E49mswmdTodutysHMAA55HQ6HVwuFxYWFuTAZQHMpBEAnnzyyQN2m0wm6HQ61Ot1Aat8Ph9CoRBWVlYkSDG5YzL7jW98A2+99Ra2t7fRaDSg0Wig0+lgs9mk+Dl16tQBu1OpFPb396WI1ev10Gg06Ha7MBqNKJfL8nsmfe12GxqNRtaOdjCp0Wg0sNvtiMViaDab4pdMnrrdLlQqFU6fPo1arYa1tTW43W45ZBqNBux2O5aXl2G32+HxeBCPx1EsFiXJ5PvodDq88MILeOedd5DJZCTZI5hUr9fR7XYxPDyMQqGAWq0Gp9MpyQ6TZQIxfE8WO/QB2srX8H+022azQa1Ww2KxIJlMot1ui2+wOKLd4+Pj2N/fx/b2Nux2uzzzZrMJq9WKWCwGi8UCp9OJVColSQg/m8X9o48+itu3byOfz0tSqdFooNfrpfjt7e1FpVJBrVaDw+FAsVhEu91GvV4Xu1Uq1QG7+fvDdtMGpd1ms1n+y+fP5Jt28ycajaLRaCCZTEqyr9FopHje3d0VIERZ2KpUKvlsjUaDM2fOYGFhAaVSSWIHfZ0+GggEUKvVBJBgUs/CgyABiwUmkhqNRvbUg+xmUcCiiDGF+4bPjT+RSERAVMYVFkgGg0EAZSbkjA/8bP755MmTWFxcFFsO293tduHz+VCv1yWG1Wq1B9pNn+Pv/y92089ZICt/+vr60Gg05MxV2m0ymZBMJqVQyuVyAgTSH+nnZ8+exfz8/APXu9vtIhQKoVqtSqFWqVTQarUeuN7K338Wuy0WC9RqtQDUv83P9/f3sbe3J3ZrtVrx80QiAZPJBJvNhmw2+wk/53pfvHgRd+7cEcCORRdjcbfbRU9PjxRXSrv39/dljdVqNTqdDnQ63QG7P8v+pt0mk0n294Pi2uDg4IH9TQDy8P5m0aWMa/zRaDS4dOkSZmZmpLBlPD8c18rlMhqNBmw2mzwjghYEdO4X15Rg1YPOMQLd94vnStCHDYn9/X1sbW1JvsS4ZrVasbGxAbvdDqfTiWQyKeeY0vd0Oh2efPJJ3Lx5U3IQFtjcx91uFyMjIyiXy1KY5/N5NBoNlMtltNtt+exOpwOj0Sj+QJ8h0K7VauUsV+YtPp8PWq0WdrsdGxsbaDQaMJlM6HQ6kvfQ7osXL6Jer2N5eRmBQAB6vV58zOFwYH5+Hh6PB16vF9vb20ilUgK20c+MRiNefPFFfPDBB9je3ka9Xpez2263y54/deoU8vk8KpUK/H4/0uk09vf3kc1m0Ww2ZZ91Oh2YzWYUCgXJufi9CfbQd+kHRqMRfX190Gq1cDqdWFxcFMC53W5LnsvY88wzz0gRFolEYDAYxG7ma8FgEIFAABsbG9jY2BDQQJmff+c738Gvf/1rLC0toVAowGg0wmazwev1yl579NFHkclkUCqV0NPTI82leDyOer0Op9MpwJbD4cDe3p40CViXVCoV2Gw2qUsIQFqtVhw9ehQ6nQ5+vx83b95EPp+XeiydTouPqNVq/Mmf/AkqlQquXbuG8fFxWK1WAbEDgQB+/etfY2hoCIODg7h9+zZmZmag0+lgtVrlWbtcLvzN3/wNfvGLX+D9999HIpGA3W6Hz+dDb28vdnZ20G638c1vflOKytHRUaytraFUKmFxcRHFYhHhcFgaBawH9vb20NfXJw0zNmMJ/vN5BAIBPPfcczAajQiFQnj11VcRj8cxMjKCRqOBtbU1AQF0Oh3+7u/+DrVaDW+88QbOnj0Ls9ksMcXlcuH111/HsWPHEAgEsLi4iFdeeQUmkwk+n0/iVV9fH771rW/hzp07eP3116W2Gx0dxdDQEDY2NtBsNvE7v/M7KBaLKBQKCAaDSKfTKJfLmJ+fx/b2No4ePSpAZDAYxOrqKjY2NjA5OYmdnR2oVCosLCzg2LFj6Ha72NvbEwDp+PHjeOqpp6DT6WC323H79m1sbW1hdHQUrVYLS0tLUA0MDHQjkQja7TZCoRCSyaR0YyuVCq5cuYKBgQH85je/QSQSEUTa7XajXq9jcXERNptNAuPdu3fF4QGgXC4jlUrBYDDgwoULUKlUqFQqSCaTyOVyUhT39PSgp6cHsVgMfr8fMzMzGBkZQafTwc2bN9Hb24uNjQ3odDoYjUZEIhHZ/Cw+jh07hng8LkFEr9fDaDRieXkZWq0WoVAIp06dwssvv4xUKgW/3492uw2Px4NcLicdv3q9juPHjyMUCuHWrVvweDwoFovY39+H3W5Ho9HA1tYWzGazdGo3NzclwAFAvV5HOp2GwWDA5OSkoC25XE6Ag3a7Da/XC7/fj93dXbjdbiwvL0vH8u7du8ICYMEfDAblc6xWK3Z3dzE+Po5EIiFFHzu/DESBQACnTp3Ca6+9hnQ6DY/Hg06nA5fLhXw+L6hmvV7HkSNHEA6HcevWLQkqTDaazSZ2dnZgMpnQ7XYxMDDwCbtrtZogp2NjY1Cr1ajVashms6hUKrBYLOh0OvB6vQgEAmL30tIS+vr60Ol0cO/ePUFXmVRwYxMx3NnZwZEjR7CzsyOdAL1eD71eL4iq3+/H2bNn8fLLL6NcLsNqtaLT6cDpdMqh3Gw20Wg0MD4+jnA4jJs3b8Lj8UjnnXYTNWVHeWtrC91uF3q9HgDQaDQEfR4YGIBKpZJnUa/XYTQa5ZmHQiFsb2/D4/FgbW0NoVAI3W4Xm5ubsNls8t14QNFum82GRCKBsbEx7O7uSjHLDk4ikYBarYbL5cLx48dx/fr1A59tsVikm9RqtdButxEOhxEMBrGwsACr1YparYZWqwWDwYB2uy2oNztO2WxWkmoyOpho+Hw+qFQqNBoNVKtVSTwYD9xuN9LpNOx2OxKJBNxuNzqdDtLptHTL2FmyWq3yORaLBdlsFv39/QJYMdnV6XTI5XLybyYmJvDRRx8dAGuMRqMcgp1OR/zP5/NhbW1NQB4mVJ1OB5VKRex2OBwCXvF37XZbOi4ul0t8qV6vH7CbbIlcLgebzSb2k5FgMBikA8PuDZMzk8kkAGUul5PDhXuCfmI2mzEwMID5+fkDdjOBZley0+nA7XbL/jGZTJIos6hjd4csg3K5LJ9Ju5mk2+32A3uIBbUyPpVKJZhMJuTzeVnTYrEoXVcCPEzUmPiTSVIsFgXcJeBRLpfl34TDYaysrBx45srkl3az08SziIUR7ebeZaeWHRH+TtkRtlqt0vk7bDcZDuVyGUajEcViUc6JUqkkdtPPDQbDZ7abbCSDwYC+vj4sLS0dSO5ZIB+22+FwIJFI/Fa72cE87Oe022azSexoNBoHnjmTWdqby+VgtVoBAIVCQVgA91tvg8GAcrmMQCCAfD4vxS47v+VyWfYG/VxptxKspN1OpxNOpxPxeFw6+If9nDYq7VauN/c3/fzT7C4UChKnmA/l8/n77m/abTQaUSqVEAwGpbA7vL9ZjEejUdy9e1f2N+0+vL/Z7WOHiP55P7vtdruwrpTrzWLU6XTK/mYHUhnX7Ha72J3JZOBwONDtdpHNZgWM5XqzYcCue6FQQE9PjwDtSgZTPp+XYnx4eBgzMzPCSLpfPG+32/D7/fB4PNjY2JAisNVqCaurXC6Lv7jdbmHFKc+xRqMBtVoNv98vbCCCTHq9Ht1uV1h/mUwGdrsdu7u7wkjY3d2VmMc9y2fCuJBOpxGNRpFOpwWs5t5nB9zlcmFiYgLvv//+gWYLAR+ybJrNJqLRKHw+H+7duwen04lyuSzAMvMWg8EAANLoYoxUntUajUbyFrIZa7UazGaz+JXf70cymYTL5cL6+jp6enqkU+t2u5HJZGQNfT7fgf2RTCYxOjoqjSZ+B4PBgFgsJv/mxIkTeOONN1AoFOB0OuWzybzd399Ho9HAxMQEQqEQ7ty5I0w5Zb4Wj8flLO3v70csFhO/ZX5eKBSg0+kwOTkpuX82m0WpVJL8PBAISMfb5/Nhfn4eg4OD6Ha7uHPnDsLhMLa2tqDT6aTr2+12pQG1tbWFM2fOYHNzE6VSSXzBZDJhcXFRGKxXrlzBv//7vyORSEiO7/f75ZnWajVUKhVcunQJIyMjeOutt9DT04NMJiOM5f39fSwuLsLhcAAATpw4gbm5OfFb1mO7u7swmUy4cuWKxNd4PI50Og2fz4d2u42hoSGMjo5iYWEB0WgU169fx9mzZ9HtdvHaa69hcnISd+7cgdlshsViwbFjxw74ydzcHB5//HFsbGwgk8lIDmiz2fDOO+/AZDLh+PHjuHDhAv7lX/4FCwsLOHLkCNrtNkZGRrC5uQmdTodisYhcLoevf/3r6OnpwfXr1xGNRpFKpVCpVBAKhVCv13H9+nX09PRApVLh8uXL+PDDD9HpdCQnzWazmJ2dhcvlwu/+7u9KXRKLxRCLxTAwMIBWq4WRkRGpuQKBAKampnDy5EkAwM9//nNcuHAB77zzjsTZo0ePynrbbDbs7OxgdHQUuVxOciey/2ZnZ+UMGxgYwPXr13Hr1i2cOXNGcvG9vT1hW2QyGaj8fn+XCBspmaTzsZNhsVjwrW99Cz/+8Y9RLBYFiW+32xgbG8Py8rIkB1qtFoVCAePj45idnYXBYEA0GkUikUA+n0er1UKhUIBer8fJkydx/vx5vPLKK9je3obRaERvby+sVit2dnbgcrkEDZqbm0OpVEJvby+OHDmCzc1N+fy7d+9KAc2ivFqtwuv1IpvNYnx8HG63G1NTU9KdJOXKbrcL+sLEQGn3k08+iatXr6JUKiEUCsmzIbpE5JuO3tfXh9XVVaEiZbNZSbYqlYoUrsePH8fbb7+N3d1dGAwGhEIhmM1mpFIpoep6PB4sLi6iVqshFAphaGgI8XgcnU4Hg4ODWFlZEbsJXFSrVQEchoeH4Xa78fHHH2N/f1+6dERzlR0bJgZEd5944glcu3YN9XodHo9Hnk04HEY8Hj9gd7VaRSQSwebmpgAhROSVB35fXx9OnjyJ69evI5/PCw2V3QCr1Sp2E8FyOBwYGhrCzs4OOp0OhoaGsLS0JH5KVJs0+3K5jP7+fng8Hty+fVuQWSLEyq6RsiND9P7y5ct4//330Wq15HDqdDoIBoNIpVLS/SDdj4cWKdXFYlESLXZEvF4vTp48iffee08KIFKNi8WiIK52ux2pVErWp7e3F8lkEp1OB/39/djY2JCCigkAuyGkjblcLiwvL0tirex00k6l3SwAjh49irt37wrNkq9jl5evVVLrSSVUFvbdbvcA9XZkZARzc3OSSBLdJvWb3btisSggi9frFRYLgRruOxY2fC19xGazYXt7+4B9tE3ZZVD+qFQqDA0NYXV1VZJH+gmTdmUXrd1uS/HGZJudfWWny2KxoK+vDysrK1IwkY1ASiyfM4M4qU08xJnwKP1U2XnjOA1pnXzuStuUnU+uHZ9JJBIRJJdJNw9Rgjj8N1wjdpKVBY/SbpPJhFAohFgsJsWNTqeDRqMRuibpy5VKRT7bbrfL3wmG0JeY4Cu7bRaLRWLGp9l92M9VKhWCwaDsKSbnTNzY2eEP9yH3LAtc5b7i8/D7/YjH459qt16vl+RUq9XCZrPJ31kssYN22G7SUv+vdjM5f5Ddh9ebdiup+Yft/qzrfdhusr263S6cTqd0wA+vN+O61WoV2vb/xm61Wo1wOCxnh3J/swv6ID9XUvMP72+TyYRIJCJnFPc37WbHVOnnHA1k14i05sN2s5jm/mZOcHivHd7fh+OaEkRW2v2g/U1QieAJgQhlp9JisSASiWBtbU3sNhgMUjhxvQk8cO0J9He7XXg8HhntOrzeBBw4QhmPxw+co1xTvv5+6z08PIzV1VVhw9BunmPK8/vwOcb9qDzHSLUfHBzE/Py8AFpmsxl6vR7lclnAbKvVinQ6jU6nI3sjnU4Ls2JnZ+fA+a1kM9TrdQSDQTgcDjm/lYwIJfOCNtFurVaLU6dOYXp6WuIjX0c2In1SORLIZpzb7UapVBLAgPlaMBjE0aNHMTU1JUC90+kUtg5HN5xOJ7a3t+XPAwMDEmui0ShWV1clP+DYAde5VCqhv79fmKwEg/j8DQaD5ONcD2V8eOyxx/Duu+9Knsr4yfycPsk8ta+vD+vr6zLylslkhAHFsayRkRGcOXMGb775Jvb29qDT6RAKhYS9wdELn893ID+fmJgQIGB8fBzz8/PS6FHWJYFAAOl0GkeOHEEgEJDvz0YT9yPBXMYI+ovZbMY3v/lN/OQnP0G5XEZvb688n/HxcaysrEhupNfrkc/ncfToUdy+fVuo7fF4XEYeisUidDodLl26hGeffRb/+q//KnT28fFxOJ1OrK+vywhDNBrFtWvXUCwWMTk5iccffxwzMzPCMLh27RqSyaQ0xex2u9QjsVgMTz/9NCKRiNST6XQa7XZb8mmOLvLMIdjn9Xrx/e9/H//4j/+IRCKBc+fOSWPlkUcewY0bN2Q8xWAwIB6P43Of+xxeffVVOBwOPPzww1hZWcHGxgaq1SpisRisViu+/e1v4+zZs/j5z3+ON998E36/H4899hhcLhcWFxdlxHhwcBA/+9nPEIvF8Pzzz+Ohhx6SWHPs2DFMT0/Lc3W73fB4PNjb28PExATW19dx+fJlOJ1OXLt2DdlsFisrK2g0GigUCjh27JgAf2TZOBwOqMbHx7tutxvxeFw6O8ViESMjIwiFQggEAvLAaThpikrKCekeJ06cwIkTJ/A///M/gmQ5HA6MjIwIVcHlcuGxxx7DjRs3sLW1heHhYfT09GBqago7Ozuw2+2SjKRSKYTDYSn89vb2sL6+LociaTU2m01QrGazCbfbDavVKkGn1WohkUiIk5M2RZojqSeRSARutxsulwszMzNC2VHazcKtVqtJV5GI0zvvvIN2u41EIgGHw4FIJIJ4PC4HwNmzZzE7O4tkMone3l5Bm4i+ms1moVmGQiGo1Wr4fD7kcjlsb28Lck6U02QyCRrPAMkZMNqdTCYlySP9lxR7dr1DoRCcTifcbjfu3LmDQqFwICkm6seuC1HowcFBTExM4Nq1a2i1Wsjn8zCZTOIP7MSdO3cOMzMzMgPu9/sxOzsrXQbOTRUKBaFlE0FMJBJCQSNdkDOvDMB8dkq7icQzwVDOzpESTyTM7XZjbm5OqGv8d0oqFJPFSqWCcDiMyclJXL9+XXxBp9OJPzCRO3fuHKanp1EoFOD1eqVbXavVhGqp1WplllKtVkuBypk0fhf6rdHm1wYAACAASURBVDJJ4YwpAZR2uy0JGH94ICq7JBaLRUZLSJ2j3fwvCzcmO0RqBwcHMTMzIzR5jUYj4Aj9c2xsDCsrK6jVatJ1INWf4AITO86r2+12mUFkAsoDSzmzyaRTOQvMOUJl4kl/UXbF6Mc2m00KqsPFjPI58aCz2+2IRCJYXFw8MPZjNpuFGqrT6RCNRhGLxYTOZ7fbJXYq145AGAGOarUqBTC/C/1WaTcTHKXd7B4qaan3s9toNMJkMkmCfDipV75eWRyRGkhfIDjBglar1cp+JwWTXTWlzxLcod1kLvB9HmQ3v4+Sgsrxnc+y3kotCWVBdD+7lSAAqaBcb8YCZccvGAxib28PjUZD5odzudwn9iqTJcYhJbXx09abHSkl7ZvF0Wex22g0fqIQ/LT1tlgsogmj9HNl15IjQ9QgIS2efnU/u9kJ/m3rraRB024WJFzv3+bn3OP0v8N+TrbDYT8PhUKi26K0W+nnvb29iMfj2N/flziipEDfb3/Tz5XUeQK//O6H9/dhu5U/yhyGccpoNMr+3tvbu29cYzxXFsN2ux3BYBBra2tSnFF3RhnX+vr6sLOzI3GNbBTazQKSuZISuOX78Lscjuf8PoxrtPtwPGehprSbM/fUE2EsVBbtynOMfuxyudDb2ytzuzzHSONmfjkyMoL19XVUKhU4nU64XC6J7xwJIvDK8QOXyyW0WKWNfLZ8Xvc7v8neUtqt1DJh3uJ0OmG322Gz2WTWWJm3KEcs2byoVCro6enB4OAgPvroI6Ea6/V6+Hy+/7dj9//568mTJzE/P49cLodAIACfz4elpSVhPxFo52go9ZXy+byM/HF/1ut1AbC4xgSflHkLNaS4L8xms8z8s+sdDAZlHdiYU4KY1IrqdrtStOdyOQwNDWF8fBzXr1+XzyLgxPzc4XDgoYcewvT0NBKJhOhY3b59G+l0WnyNmh6hUAharRbBYBCZTAaxWOxAXUI2EZtnzWYTXq8Xdrtd6pJ2uy1AAhteTqcTe3t7wkAql8sYGhqC3+9HMBjEe++9J00L1jvM5TqdjjQyd3d3cebMGTz88MP4j//4D7TbbcRiMbjdbhw5cgRLS0tSX3zpS1/CG2+8gbW1NZw4cQIjIyP41a9+hZWVFXg8HjidTthsNmxubmJsbAwGgwFjY2PY3NzEzMyMNJ0qlQri8bg03hwOB2q1GgYGBhAIBASY3d/fx9zcnOjw6PV6YcOx651KpXD58mVhibzyyitYWloSJnOlUoHP50M4HEa73UYqlcKJEyewsLCAz3/+8xgbG8PPfvYzNBoNTE1NYWhoCI8++ihu3rwpjJHHHntM6P+XL19GKBTC1atXcfXqVYyOjqKnpwdOpxN37tzBhQsXpHGWSqVw48YNYckUCgV8/PHHGB0dhdPphMfjQbVaxeDgIFwu1wHw69atW1KbUmvh7t27CIfDUKvV2N7exqVLl+D3+6H64Q9/2L127ZqIizkcDty7dw9TU1NSpHH2yOVyicPQ4TiblclksLy8LF1yjUaDP/qjP0Jvby8AYHV1FYlEAnfu3BFqb7FYxPHjxyVQDQ0NIZPJYHt7W2Z1SS1OpVJCESKFI5vNysxTNBoVZKtcLmN9fR0Oh0OE0O7du4eNjQ2cOHECbrcbDz30EN577z14vV54vV54PB7Mz8/LTCFFVBhMWMiy26lWqzExMYFSqYSdnR3p+mg0Grz44otC/9ne3kY6ncbq6irsdjt2dnZQKpUwOjoq9Ie+vj7kcjmhdFOARKvVSiGdzWZht9sBALlcTpKKSCQiHfdqtYqtrS3Y7XYEAgHodDp57iMjI3C5XLhw4QLee+89+Hw+sXthYQFLS0tCmeZ/OabAAMvkfHx8HKVSCfF4XFA/tVqN559/Xuj5m5ubSKVSYjdndfj/U/Qjl8sJcMKZep1Oh3w+/wmKqJLC39PTI6Im1WpV5uk4e0X/CoVCcLvduHTpEq5fvw6fz4dAIACPx4O5uTksLi4Kqk0UkpQwMkKYQA4NDaFYLEpCzp/Pfe5zB9Y7mUwK1Y5FAYWYKE6Xy+UEwVauN2f0a7Wa0OeJKJNxQDGsWq0mNGkKoVHIxOVywWq14vz58/jggw9EgNHr9WJ+fh5bW1tiA5M55Ryccr46GAyiWq3KXDwThxMnTiAcDgMAtra2kMlksLe3B4PBIOwJJVWdYjLsyDPxIBuBjA4WyEqKLw/0RqOBRqMhbBQKRBENJoB24sQJ3Lp1Cw6HA263W8ZHksmk2MsiV1mQK+32eDziX8p53rGxMfj9fgAQUSIKQjJRUlJZvV4vyuWydKioZ6AUiKKvHbabQGWz2USz2RSKKmenC4WCCI8ZjUaMjIxgcXFRkGu73S5royzqlbR1+jfX1el0in8pu5X9/f1wu90AIKI2pAlyD9FuJhqk5tFu0rtpN2Mmnz/tNplMEnNarZYAWiaTCWq1WnyR4m8DAwNYX1+XYtFut2N7e1u60vdbb9rNHwpdkmnE5xGJROTsIzOIAkO0m0kkgSZlIUqAjADFYbvpjywIecYQjKTYHsUmlXaTScVRL4fDgVgsJmf2p9lN+zi2ddjuvr4+eL1emR/8bevtcrlQrVYFIPzfrDeBaVJ3leut0WiEhWYymWAwGDA6Oop79+7JWrtcLmxsbAgY8Wl+zh+Hw4FGo/EJP2dCCACpVEpillarPWA3nyntZmGlHN9gPLvf/tZoNLJvD9ttNpuh0Whkf7MweJDdyv39aXGN+5vUZmVcGxoaOmB3qVRCPp8/IIDHs5id12q1KnGNonns0j4onvPMY4HWbDZRLpdFRFSr1Qr13WazwWQyYXJyEnNzczI7zq4eCxXl/DYL2cPx3O/3o16vS+zgz7FjxySeJ5NJKTKVmi8cNeN8MPcCYxUp9NVqVfxEeX7ze7ndbpnV5cij0WiU8zsejwv702az4fjx45ienpbmCUWoYrGYgOqH8xZ2qunv/f39qFarMidOP7h8+TKCwaCcY+l0Gtvb2zKqwbla5muRSASFQgHpdFrWkPuC4zvlcvlAw4ugSDAYlDy1VqshkUjAarWK8B337sDAABwOB86fP48PP/wQHo9HBIDv3r2LtbU1YeMwXjFP5TPnuo+NjUnByDxVpVLhC1/4Avr7+6FSqWRWemVlRUZiqtUqhoaGhB0VjUaRzWaRSCRkhjuXy0Gv10uDL5vNSl1CgNZqtSIajUqBVq1Wsba2BpfLJdpGd+/exdbWFk6ePAmv14vnnnsOL7/8MiKRCHp7exEKhXDjxg1MT08LC4X6DhytK5fLovOl0Wjw8MMPS4c2m83K7//yL/9Sxhg2NjYQi8Vw48YNmdXO5XJ46KGHhBJ/+vRpJBIJLC0twWAwwO/3y2jv9vY2HA4Htra2EAqFoFKpsL29jVqtBr/fj/Pnz4seRy6Xw40bNxAOh3Hs2DGYzWZcu3YNH330Eb761a+iv78fFy9exLvvvotwOAyv1ytCae+//z729vbQ6XSQTCbRaDTEhnQ6Lc9Wp9PhxRdfRD6fx40bN7C2tiZjMf/wD/8g53cul0Mmk8EHH3yAvr4+vP/++1hfX8dLL70kdkejUZRKJWxsbMBgMIiYt8lkQiwWg8vlwsrKinwPismNjo7i9OnTcq5UKhV8/PHH6O/vx8DAAPR6Paanp/GTn/wEf/EXfwGPx4OhoSGsrKxIvk7GFGtp1cTERPfhhx9GOBzG4uIi3n77bfT19eGFF17A6uoqpqamZI7l6NGjWF1dxeTkJGKxGM6ePSvqgTMzM7DZbBgbGxPlQA7Ns6jhbGy73RaaydbW1gHnotq31+uVzh7nrnggcJ4uGo0ik8kgEolgd3cX7XYbPp8PtVoN+Xxe5kZbrRai0SieeeYZxONx3L59G6VSCZOTk/B4PNjZ2cHt27cRCoVw/vx57O7uYnFxUZJuUsv7+/uRTCYxNjYGi8WCzc1NLC0twWq1oq+vT+a0yEioVCqycTm3wmKUM6BM2Nxut6hnEgnmoc4EgGBFb28v8vm8aAZwlr1Wq6FQKAjA0Ol0EIlE8LnPfQ67u7uYnZ0VcMDr9YqSpMfjwfnz5xGPx7G8vCyHTV9fH3Z3dwUxGhkZEdGs9fV10QI4bDeTNAY3zmdpNBopwFnUc56TKvacjdZoNEJ5VypsFotFESXhrCHpQTywSBF++umnsbOzgzt37qBWq2FwcFC6Ypubm7BYLDh37hzi8TjW19elu+vz+ZDNZuH3+4UdYbVaJSHgfDvpR1SlZ/FISlS325XDjEWKEhUn6pjL5Q4kxgS/mNzabLYDomKkKvKQV9KgLRYLLl26hEQigeXlZTlkXS6XiHzwZgT+nfRUouxEJwOBAMxmMxKJhNAD7Xa70M2tVqsAU9y/TGRID6cN/H4UC6JgDv2UnQ7lbDfRVXZzONPGz1MmlwaDAadOnUIymcTOzg5arRZcLpewZEjjojIsnzmVj8lgoOAlO81cNwoKMknlIclkgOwjFif363Jy3WmLkuGgtFup9k3klTRKPnt2kYlkE+hqt9uw2+2yNtzLPT09KBQK0nFQdnJJ1aegUj6fl26f2WwWu5WKzVwzJkd8PQsx2qecE6Ytyo6YctaXdpOtRECLdispvnq9HtFoFIVCQYoTm80mfkW7/X6//F2pTs2ONwFedoMIGBmNRtlXBJKUbA4moaSHc72VXU6uLZPi/43dSqE3pZ/r9XoMDg4in8+L3TzYS6WSAFfsViiF3A7bTUFEzptyzynHoFjEKdebyfGn2f2/WW/64eH1VhbNBoMBIyMjyGaz2NvbEz9nl40FXigUkoL6QX5ut9uFpsv1NplMst70IeV6E2gk6EIbDu9vJUinfCaH7SbIwve7n93K/Z3NZqUYJUuuWCwKUKTc3/RzxjXOZFPAiuJeyrimtPvT4hrPSOWacn3uF9eUjA9lPOczUoITSj83Go2ibkymE8HpXC4nBRLBbhZFSkYSKes+n09uruBNMWR/ssBjY4nFLQF1nnsEHmi3kh1BXzt8fhOU4y0Lh89vdpeVDCiyDdnU2d/fRyQSEcExNiImJyelmcU1IfPO5/Mhn8+jt7cXFosFu7u7SCaT0Ol08Pl8UtDzPTn+aDAY0NPTI4AcASKuo1Kckc0z+jW1YqjurgSmmU8xX9vf35dbChgf/H4/rly5gt3dXczPz6NarcqIJnMZl8uF06dPS+OHsa63txeJRAK9vb3Y29vD8PAwrFYrtre3JU/lWG6r1ZKcn0ArtQ4AIB6PQ6vVIplMyplLEI7sCOYXrEs4iptOp6HX69Hf349sNitd7FarhWAwKA0VdpE5qvq1r30NGxsb+PDDD5HL5XD69GmEw2Gsra1JYfvMM89gfX0dt2/fRjabhcFgwJEjR7C2tobJyUlsbW3h3LlzIv7M5sSRI0ekHuvt7cXi4iIKhQKSySQ8Hg8uXLiAbrcrRfjS0pLcpqPT6URcmcLfZH4RsKG6u9lsxpkzZ7Czs4Njx45hcXERrVZLlPnj8bgwapvNJi5duoTf//3fRyqVwssvv4zd3V188YtflJrxRz/6EU6dOoWvfvWriMfj+OUvf4n19XXYbDY899xzmJqawhNPPIG5uTk89dRTsFqtWF5exk9/+lOEw2FcuXJFbgAZGBjAnTt3EI/HcffuXYyOjuL5559Ht9uVLv5bb72FUCiEWq0msUen0yESiWB6ehrlchnFYhFOpxOjo6PI5/N4++234fV68cwzz4gGGnPu0dFRlEolbG1tYWFhQW6H+drXvoZLly6hVCrh1q1biMVieOKJJ0To/N/+7d9w5coVEQtXffe73+3Oz89jd3dXZrNYeNRqNQSDQXzlK1/BzMwMVlZW8J3vfAc7OzuYnZ2VGSGKO5lMJlGB9/v9uHfvnmza48ePw+/34/XXX0coFILX68Xy8jLOnj0LnU6Hq1evygxpOByWeQSv14vNzU2MjIxgY2NDDtXx8XE4HA40m020Wi3pGC8uLgoCSuoLuz4UKrt8+TLUajU2NzdF9IpBlXRlr9eLRx99FGtra9jZ2cEXvvAF6Yzu7e1JckbkmAryLpcLm5ubUnwPDQ3B7Xbjxo0bcLvdIhwxOTkJnU6Hjz76SGZIWfTxyq9EIoG+vj7E43FRwRwaGpJOD8Wu2CkvlUqi9Mhg0u12RYDm1KlT0Gg02NnZEbupCE8k1m6349FHH8XKygp2d3fF7vX1dXlvdgcoakQkf2trSw7cwcHBT9i9vb19wG4eVrSHyDiDLUGOVquFnp4euSKD4g86nU4ABYo68dCkmn273RbF/u3tbXkdi0EGSqPRiMuXL2NpaQmpVAovvvgidnd3sbKyIlRzFh+ktLFrxWvx2u22dJ1IY3E6nSLkp9PpMD09faDoYuHDsYNAICAdeh5oVN0kEKPT6bCxsXHg6iWuBwXrOp0Oenp6oFarRUhESaVUUh2PHj2KWCyGYrGIRx99FIlEQsT32HlSUkop9MNkh7OFDocDa2trIoiTy+UQiUSg1WoFAFEmbnq9XroPTF6UxT+LpE6nI1oRRFGVVEZlp6jT6QjIxzkmJeVROdM3PDyMRCKBSqWCM2fOYG9vD6lUSpJm5cwbZ0M5V8rnSOrX1taW2MMrZ+hz7NbwWfF9CArQx9l5Z2LAvcHrKJVKt8piiP+Wok4sRpUjC0q7e3t7kU6nUavVMDExgXw+j2w2Kz6inHlngsIEnDaQ0cDEj8/F7XZDo9Ec6Gzx31AMiXRQ7k/GXwr08TnwupvDYMzhDixFvDg/qhwLoT1kcOTzeYmjpKEqbzNQalKQbqyc0bZarUIjVtrtcrmg0WikeOT3VIo4MmZQyZ12KynNVOEn8KWkph+2mzcVKO0+7OcEZ7LZLOr1uoA5PBOUnWWlFgfXWykgR70DinFSLJYJ7f9lvRmHyAghO+zT1tvhcIjYrHK9lQCORqNBJBKR6+UmJycFmFParfRz5TVxfD+lzoNyvT0eD7RaLRKJxH33N9+H+5vfncwQpXo0gevPsr+VLIoHxbW+vj5hehw5cgS5XO7A/r6f3bSLNjgcDlgsFuzs7Mh4DG+W0Wq1B+jkSnFG+g1HnvjdOVNLu5VxjcUs7VFSuXm2HI7nyv3NPTY8PCyzr6dPnxZQgxT7w+cY6dBkrzGf4vVdHNVhsaXVarG6uirflfYor12j7pHy/FaCu7wijgrpyo62ksrd6XTQ19cnMYVnEmOKMm85ceIEtre3kclkcOXKFaTTaWF1KkE0xjLl6BXPGrKEZmdnhTqfTCYxMjICvV6PO3fuSGHJfMRms8l1saFQSJ51q9VCKBSCzWaT85x5C8cFqMVAAIMMyWaziaNHj0KtVssVqA/KUx9++GFsbGxInppIJLC5uYlMJiN5Kmn1HFHg1ZvMz4eHh+HxeDA1NSWd21gshuPHj0Ov1+PDDz8UHQFqMXm9Xrjdbuzs7GBwcBBbW1tyjoyMjMDhcIjdwWBQGLyFQkFqBzYjycqq1+t47LHHoNVqsba2Jq9T1iWsib785S/jzp07WFtbw/e+9z1sbm5idnZWVMN5TrOzHwqF0NPTI2vbaDRw4cIFRCIR/PSnP0UkEkE4HMbs7CyeeuopmM1m/Nd//Zdo80SjUaGpcyzkwoULuHPnjohTP/LIIwiFQgKCDA0NwWAw4IMPPkAymcTy8rLkvNFoVNgLhUIBf/qnfyo1AUdteFUsKftjY2P49re/jaWlJXz00Uf4sz/7M6TTady7dw/37t2DSqUS0I412JEjRxCNRnH16lX09PSgVqvh8ccfh9vtxk9/+lOMj48jFAphZmYGjz76KPR6PX75y1/iN7/5DVqtFp588knkcjmcPHkS4XAYd+/elRtr1tfXkUwm8eUvfxlut/sTfk625tTUlMS748ePQ6VSYW5uDhsbG/jBD34AjUaDlZUV3Lt3D51OB36/Xxg+qVQKqmAw2CWaRmSWc+WNRkMSTW4+qlP/4R/+IX784x+LKjjVgdnV5b3ma2tr0Ov1sFqtGBkZQT6fh8fjwb1794Ryu7CwAL1eL3T35eVl2Gw2URhvtVpCpTh+/DhMJhPW1tZEbZxFe7fbxbFjx7C2toaBgQF4vV68//77yGQygjBy9jWTyaDT6cBms8Fms0mgovqn0+k8QLVi4fP888/jzTffRDabFUTXarXKTHYqlTqQsPO+PhaysVhMnjVV6YeHh9HpdLC9vS0FC0XYqCY4NjYGo9GIWCyGUCiEu3fvynejKEUsFpMZ+ps3bwrljochEz8mChQqIxjDruNhu5vNJp599lm89dZbqFQqoljIApSIHIM6Z+LD4bDc/03qPSl5Go1GaP4ENJR2k3kwPj4Ok8mEjY0NCTLValUO6v7+fsTjcQSDQXi9XszMzMj/x9lHIuDK5ImHKw9SJkrK5IfX/b399tsHhD7MZrNcjaek4rN4DwQCcpVGIpGA2WwWZoRGoxE2BQENJsKcPzMajRgeHj5gt5KKT+E53oLgdDqxtrYmSS2v6uLhrFTIVV5FxAOeNwwoC5oTJ07gzp07UqDxuTHx4iw/O2+cxeG959QW4EwuBbo6nQ4ymYzQfmk3dQVCoRAMBgOSyaQcgsquErv7vP6LYjRM2pTzicoCXnnl1mEVWyXld3R0VER6lM+MBQZnD5UK5Lxmg0ksZ86YhFDll8KIyu46kWpS/dLptFz/w4SEzIhqtSr7lt0L2s0uJu3ms1DO2ypFEpWiO91uV5RulQKEpNry7nHlXfTsInPGmKMZ/DOptKTkMY7TbiU7iCMtNpvtE8J4/HzO2FJ9Wam4TaErpd2H/YB7gkk/7e7p6cHu7u4n7Ga3WWk39xFBSBapLOx4PrLryILnfnbzfCkWizLao7Sb7InParfyPntlMau8r1xpd29vrwDiSruV8/GH11spwHO/9SYgTNqr0s9pt9vtPrDeFAg6vN4mk+mAIN5vW+/DV+rRz8lIeJCfc3+zm/1Z/ZzK8yqVSm6joN3K9eb+9ng8Qoll5/Lw/qbdZrP5vvubdiuV/Q/HNWqzHI5rvHFFGdcYpziOoRy9UcY12qqMayqVSu6Rz+fzB24Q4Iwp6eBKuwloHI7n1EQhI1AJUHA0hM+Cs9+H4zlHpZSF+8TExIHbDuizBE4qlYrsXT5TdnlZ4LAAZx7JcTbed02WGMcD2bGlMjvZoPxuvH4xl8vB5XLJ+a0spLnejDuMMTy/Gb85CqEE6Xht7ccffyzrR30CCrPlcjk5m3kVKEXArFYrkskkrFYrbDabsB/JhiT7k4Vgu91GPp+H3W7HyMgIjEaj5OscGVXma4lEAoFAAG63G7OzswKAEpxUq9XCruP3ZjODzUOHwyEjXtyrzWYTTz31FK5fv45KpQKr1So2UAk+mUyK+j4bDX19fdIk2NzclDUhy3diYgLdblfGFnnGt1ot7O7uwu/349ixY7BarVhZWUFfX5/UJcyhWZdEo1EEAgG8/fbbkjPyLOCoHgs6MoToV81mE36/HzqdTq4hJkvxO9/5Dn70ox8hk8nA4/FITRYOh5FIJLCxsSGidkajEQ6HA0ePHpUCfmZmBsFgEOFwGLdv34Zer8eVK1fQ6XRw69YtuYGHQMn8/DxGR0fx9NNPw2q1Ynp6GpOTk/jVr36FnZ0duR3ihRdewI0bN3D+/HkMDAzghz/8oczc9/f3i2bI2tqaABrUw6Jf1et18au1tTWpC4vFIv72b/8W//RP/4SVlRWMjIwgGo2ip6cH4XAYyWQSMzMziEajePPNN+F0OhGJRHD+/Hlks1kEg0HcuHED0WhURgnMZjMuXrwot0m5XC5hkDebTVy/fh0PP/wwLly4AIPBgK2tLYTDYUxNTWFtbU2a1i+99BI++ugjnDt3Dl6vF//5n/+JDz74AEajEY888oiMLE1NTaHdbmNychK9vb3C7OHtT6o///M/73IO5eOPP8aNGzfQ398v6o0MDqQWbW1tIRgMIpfL4cKFCyJasLGxIerPpDGNjY1JpzwajUKr1SKdTiMSieDmzZtySBmNRjz88MNYWFiQ7hkF0dglUIqG9PX1AYB0/YxGo8w75nI59Pb2CgL35S9/GdVqFYVCAdPT04hGo8jn84hGo9JZX15exr179xAIBDAwMCBCUJyB49UEpFiTGj83NycIM9XKKaPPefNQKCTOxOswmIRSyX5jY0OKxHg8Lh0LJiTc5KQfEVk0GAwy78h5a7VajUQiIXeYF4tFzM3Nob+/H4VC4cAc6crKiogy8NoeJqGkTLJQrlQqGBkZgcfjwd27dw8IerDbFA6H5QonfpdCoQC/34/FxUWZIddqtZicnBThKQoZkSrH9eaB4/f75UDkbBuTRVLH1Go18vk8nn76aVQqFRQKBdy7dw89PT1y8wDnKZeWlrC9vQ2bzYb+/n6srKyI3ex88KBtNBqIRCICJPEgZ7eG4wlEpH0+n1DDAoGA0NT42v7+fmGrMOFTFhBK9VhqDrCzzEKZnRYyBWq1Gi5cuCDrvbW1JeMgPAgByJyX0WiEz+fD7u7ugaRHSdEnFYyzvEpBLtpCNe1CoSD31NZqNWEVKLvXFJDhvlIKbSlVs5VXjbHTqKTHct/wYJqYmJAxiHQ6LWMRLpdLZsJ49SLRVSLsSiEbPl9SZwk2KSm87HQwYSiXy0L5q9frnygwWbQorzJiwqUsqrneyg6KsmuqtJuAGe84rlarkmxRDIjiMqTo855NMkHuZ7dSaJHiWoftZteTQAETSCVFlO/PxJu2Kjtfh+3m7CQTWKXdyjuUm82m3GG+v7+PQqEgcYCdbV5vRQCJCZWyG0sqMT+DQCVtUHYlD988oLSb3TdlkaxUZucM7uG7pfneD7Kbhcf97GasV9rNOJDL5e5r94PWm/tXSQ8+bLdyvVn40e7Put6f1e77rXd/f7/MiRcKBfFzJt/0c9pNBeDf5ue0+377+7Cfs/Cjnyv3NxXpD+/vw3Htt+1vpd2NRgPRWiePRwAAIABJREFUaFTszuVywkTk+IpSF0Cv1//W/c24RtDjfnZTmZwFs3J/s8PPHyp/088fFNfuF8+VImmMa3zGo6OjMqd8OJ7zPEwmk3J13+F4TmBIeY5RMJiihoft5pw7zzEWvAQUCG5R2ZxFFH1EeX4THFN2htkRI9uSuSILUjK4eH96LBaD1+uVa6R4jlHfxmKxIBQKYWtr60DewjlnjnJQn4hd68N5C+fc9/b2pHlVLpfh8Xiwvr4uTS82FZi3MFYq8zWllgbzLHaGeXc8/ZnjnNlsFk888QRqtRpKpRKWlpYQDodRKpWk0QQAm5ubWF9fh9vtRm9vL1ZWVsTHzWYzyuWyAATVahWjo6NwuVxYWFiQsVClr/X19cHhcGB7exvhcFjyc7/fj4WFBeTzeWH4nThx4kB+Tpq2Mj+nT1Fva3t7W/Jz1iXFYhGRSETqkpdeeklGYG/evClXc1GYDADm5ubkfu6xsTFMT09L44kNTDbw8vk8HnroIfT09ODdd9/F5ubmAZFAs9ksd4Pfu3cPY2Njou01PDyMt99+W+48N5lM+PznP49bt27JrPvi4qLkcQTOCEAfO3YMKpUKs7Oz2Nvbg91uR09Pj+hUnTx5ElqtFrOzs/j7v/971Ot1ZDIZ/Pd//zeuXLmCWCyGixcvijjc7OwsfvGLX+DkyZO4ePEiXn/9dYkjzFtv3bqFY8eOYXNzE9/85jcRCATwq1/9Cu+//z6cTieazaaIyL3wwgsIBoOYnp6W75JKpTAwMIC33npLbrnyeDz47ne/K0VzIBDAO++8A5VKheHhYck72Wg5c+YM1Go1bt26hYWFBUQiEWlCT09P47nnnoNer8f169fxV3/1V3Ld4xtvvIGHHnoImUwGIyMjEie2t7fx6quv4vz58xgZGcH09DRUx44d61KobG5uDqdOnUKxWMTm5qbMsrLDzQDjdDqxubkp1HW1Wo2FhQWZ47PZbOjp6RG6fKPRQLFYlGvJeGcyO6LKjc3OMw+1ZrOJI0eOYHh4GMvLy7Db7VheXkYgEBAp/VQqheeff14OhZs3b6JQKAg97ejRo6jVatJlJCKi0+kQCASwvr6OkZERVCoVpFIpoYXxLj4WMEQWm80mhoaGhCZPu61WK7xer6AtvFqN13BReMrr9crdvfwdZ19od7vdxvDwsNyxzpl3r9cLvV6PVCollCbafefOHZRKJUnaxsfHUa/XBTnPZDKilurz+bC5uYnBwUHU63Ukk0mhu25tbUkHgkkPO3qkp2xtbcn96SaTCR6P58D1LBSHIBJss9ng8/mwvr4uCS2vX1DOMHLEgaJPVqtVCk4ijJVKBQ899JC8nigskeKJiQnUajUJrJxHpbBNIpFAJBJBtVpFPp/H8PDwAZE+HrhGo1GEEoPBoChLMgFl4aO0m4ckbSJ4lEwmDySoykKf1FKXy4W+vj5sbm5KF4WiOaVSCfv7+zh69Kj4h/L+ZyqI1+t1OUiV3RAGdLfbLQIWwWAQlUpFRNv4P+UcJZMDvoaUSFJzOa9IQSvlrCwTWuX8+WFFYnaPfD6fdCQIuik7A/39/ZJcUG+C+zIYDKLRaMjYBkcRGNTJ4mCB4/F4DoiXKZM72sAEld1Bdtx47Qspi5xFU76H8vo0peqy8ocsFjIxSMNTJqvtdlsO606nI/Rp2u31etFsNoUVwyJLKcDHWUdea8PkV6nmTXCGFGvlTDkpz0oVdX7WYTru4TlUZRdVabfRaJRrxXQ6nRRXLABbrZaINvG+eGVi73Q65bBTjp7Qd0kl59pwpo6dmvvZrbwfV7neVB9mEaW8/khpN4tTJYX2fnbbbDaZ0aQys9JuinTRbmWH+39jN4s52q28muuw3WTFPcju/z/WmyMsFNJS+jlH1Ph6sgloNymELAiVdh/28/39/QPib/wufK/P4uc8h7neyhlh7m92+D7NbpPJBKfTKR1m+jnPzXa7LSJd1Cthh5sUWF5Ly/XmGpJ5Rboxi1ieP8q4ptRBeFBcY7wl+EAfok3snh+Oa4dvkCALgnGN438UOeTMNYuZbrcruQXPaL/fj2azKVdtkmlFEIHxnOKR1N8ho+HwOUaGqEqlkq4lnzNVthnPD8cJg8EgDBfl+X34SkaOIAQCASSTSQFCDp/fExMT8nqOfZGRQTCK5zcFQalNlMlkEAgEROiur68PpVJJ7spm0UpGX6fTQSAQgEqlkqvWyATktcrsxPM9aTfZkbzWl7+jMJ4ybwkGg8LIYZOJeibZbBblchnnz58Xu3mLDbvjIyMj2N/fF0YP5955xlH/qV6vI51OY3R0VOoJ5qnMz3lGKvNUxlqz2Qyfz3fg2shKpSLq9QTU/X4/VlZWJE91uVyiPUTQifd1Dw0NYW1tDTabDaurq0JpTyaTSKfTeO655wT4vHHjBorForB2T506hVqtJow9+o3BYEA4HMbS0hKOHj2KSqWCra0tXLhwAel0GouLi3K9IUEq1mOnTp2Seoy5lNPpRG9vr2ghMGfY3NwUv4lEIohGo5iampI9HYlEsLy8LPUYz6lLly7hwoUL+OijjxAIBHDjxg2MjIzAbDZjeXkZa2tr+P73vy92/+xnP5P73b1eL55++mlUq1VMTU2h1WphaWlJ2NvHjx/H9evX8eyzzyKfz2NmZgZf+cpXEI/Hce3aNVitVmHAsNFbrVbxxS9+ERqNBlevXpUrGtlopqhyo9FAOp3G1NSUnG8nT57EyMgIXn31VcnbT548ibfeegs2m+3AFdovvfSS3E7Ea7vJ8F1dXcUHH3yAH/zgB+Lnb7/9NpaXlzEyMgKfz4cTJ05gf38fq6uraLVamJubg8/ng+X/Ie5NY+O8zrPha4acGXJmOPtKcsjhkENSpLiIomTJuyTLMhxHsZ2tjpMgTdCmSZsURX4ECJAfBYqiBYoWbYE3KYIUTRokQWIkThtvsi1rlyhLXERx3zlchzs53Lf3R3DduGdMJU7a9/sMFI1lkTP3c85zzr1ci82G0tJSNDU14bHHHsPq6ir6+vrw2GOPwWCz2fbZESG8jLYVtLuiZRjhGTdu3MDCwoIcvBsbGzh16pQkgfRjTCQSovpNeE4wGMT169eFr7mysiL2Suz87e3t4c///M/R3NwsgmMsIiliQ3hwOBzG5uYmZmZmRFGanSpONtva2qQw48Jcv35dLjHC+ghf5jSQnWuKbHV2doogDe12GhsbxZaHD55dtlgsJtAVl8uFtrY2gUmzkUFIMyFpL7/8Mtrb2wVmuLm5idnZWeTk5GB/fx8TExMwm81yiZH/Q7gmoaVOpxPt7e1wu93ClzQajWhra5NDmIUDYV+8xBg3fbW7urqwuroq8L+dnR1UV1enxc2DFYDQIghh7ezsTOvyEr5JC6u9vT18/vOfR0tLi9jRsOAiT5FdK17MtPfQcZMH3draCo/HI9xwo9GIgYGBtGRNQxyZPKyursJisQg8qKenRxJn/kxJSYlMcEZGRgR2RbQHkytSGHRXnx19JkIA8MILL+DevXsCM9QK5bykmUDxs1hMsFPNaXFHRwecTifm5+elo59MJtMshvTkhs+GXC1eHBTl0RBJn88n3VX6EfMg55SJIjIzMzNpdkPa4o9F9qlTp9DZ2SnTDu1DqrvS7H4TUsznzKkdbWaYuPFz2eHPjDuT48gkjQ0R7UPNpIvddP5OFiq0E2IjgM0mvb/0/weAY8eOCZyRHGMmoDoJp3cx3082DZgoUUmVwm2MW0+LM+PmZcz9TAXpTPsx8roZN7UiuGe5b1ggsXmjE9/MuA8fPix0BcatBeW0jzYLI8bN/U7Y8/T0dJpPN3m5B/lB67i53pyQUlBLx61dB1iE6bj5eSw8DopbT6Krqqokbu6tg+LWVlB8d0k/0XFr54MHxa0L0sy4LRaLTP113Hl5eTLFZRH2P1nv2tpajI6OpgmfHbTPM+PWzTHSOSYmJj4Q94fd50xi+X7+PvucExM25jJtsw56vxsaGjA0NCTrzX3Ou+d3vd8sQq1WKyYmJuT9ZkxEBxwUt6Zx8FzTNnsPOtd0g09PRR90rvH+yjzXGLcu+jLPcyb7pEro89xms4kILc9zxs1iPdNCjUMEfZ5TL4GFv47b7/eLbSgn4WwaEy5OdBgHK5qrnxn3k08+KX7GzBVIe9H3N6mj5IBzMEMUhs1mQ39/P5xOJxYWFqTwJK84M2/Rzg5seJFyyWJN5y3RaFRQd+Pj4wKbZv7Az3M6nRgaGpL8gHmxRiTs7+/j+eefR2dnp9CA6OfMO5r5GvnYqVRKlLSDwaBAu51OJzo7O+FyuYT6lpWVha6urrQ8VWtE2O12QSnm5uYiGAzC5XIJnJ70ip2dHdTU1IiiOvNUojXp8MQ8tb29PU0fhrQTFvT7+/v48pe/jDt37ki+trm5iWQyKW4WrDGCwSC2trYwNzcn+WlRURGMRiMCgQD8fj9u3bolE2E2/q9evZp21uq6hPUYvdhpXdbU1CT6Wqxlzp49i62tLbjdbty9ezetHqupqRF0VGFhIS5cuCDN44WFBUE7Upx4d3cXf/u3f4s7d+6I8Ojq6qo4Ze3v76OjowM2mw2VlZUyDOVkndpXdF66evUqioqKMDAwINoU3/3ud+X8Yj3ocDjg8/kQjUZFX6ywsBBHjhxBKBTCm2++idHRUXkey8vL+NrXvib2yZcuXcLm5iZu3rwJo9GIj3/84+IWUlhYiB/84AfSVBsdHUVpaSnGx8cFIb6zs4NvfvObGB0dFWFDNlQoIvn6668jFArh4Ycfxvr6Om7fvo3Tp08DAOLxuFA/c3Nz0dvbC5/PJyLnJpMJ3/72twVJQ1HuoqIiFBcXo6ioCIazZ8/up1Ip8SvXnTdacDFB4IvtcDhQXFyMSCSCpaUlEfNh54Kqih6PB/n5+bh8+XKaIrHf75eC6emnn4bRaMT9+/exu7uLT37yk7h8+TLu37+P5eVllJaWSndXC6VROfDcuXNYWVnBnTt3MD8/LwqehCivra3hzJkz6OzshNlsxt27dxEOh2WKxi4nkzEW9SMjI5LQUMQtLy8PoVAIfr9fLs2VlRVJ7qn6zY3V0tIih9v+/r50ugwGA06ePClCCXt7e3j66adx+/Zt9Pf3I5VKCT+DyQgtysbGxpCTk4MnnngCqVQK9+7dw+Lionitrq2tyQHz2GOPoa+vDyaTCV1dXeL3vbGxIfZtnJTSVzORSMghpWHnoVBIvP1YzNIPknFzSt7a2pqmSEyFdgBobGyUgnlvbw/PPfecUCQokMe4KRpSUFAgVIIzZ85gZWUFLS0tMmnlJUEe3IkTJ9Dd3Q2z2SzPi100TjF44LIZRdVSTng4CXO5XLLeOu6FhQV4vV7Z94FAAB0dHWnicxSOAYDq6moYjUZZ73PnzomABpWYeUlSB8Hv92N2dhbZ2dl49NFHsbKygvv37wsPmskvL+Hq6mq5XBcWFmTqwWmITizIw+fUIROmyEYVp/BsqHBqw31GqFjm76anN5tlXP+TJ0/K2tGChYk5EztOGbOyslBXVye2iVtbWxK3TpSi0ajw5IiW0Mro+rtpGgOTTg3VpcAdnxc/Uwt8carCBI5NBzagdBJC+GVtbS26u7tFHVonwXov8v0qLy/HxsYGxsbGJPHkVI/JZkFBgaA+yAfUitE6bjbMOB3ScbPgJGyaCBH61OuGGt+VzN/NvePz+QQGtr+/j4qKCgwPD4vgCyenWtSPz5UUECY9B8XNu2lhYUEoFYw7c19o7QXyRDWfletNVW1d1JG7ycRUFyp6gsi4PR5PWgFVWlqK0dFRmTDruLUgIL8/XUAorqchwIznD437QftcW6WSI86EkOcpKQ+ZyvwPWu/KykqB1JITrQtmQkW5z4ngIpT4oPUOh8MyJeTP6cbd/+Y+Z9wH7XMWLAAEjsm4q6ur0dfXl7bPM+3F9PtdVlaG9fV1UXnm5+iCPz8/X74D32+tjK4RDpw4HhQ3mz2Mm2eOPtf0+80Ga+Z5bjAYEAgEBJ7MxhuFWnmu6cYQKQW8PysrK7G2tvaBc03v36KiItGyIeqCNEJS3HTcpBtplATfAQqw8v2nFRc1YpgnMvfh+8TBDe9HWipNT09jb28PDz30EO7fvy/ND07KNfpJo6OOHDmCtbU19Pf3C+w7k4JAd6Ts7GxxWyE0nD/Dpjj/G5vxOm/hQIgON3xviAj0eDxYWlqC3W6H2+2WHJH7lIgBg8EgeUsikcDe3h5OnTqF5uZmTExMCCyYZxvRbqFQCNPT0zCbzXjkkUewurqKzs5OGeiRokRE3fHjx9Hf3w+LxSJK3UT/LC8vS6FK1CWHCMxh+A7m5OSIsDTzltXVVUEzBAIBLCwswOFwpOWpvH+p0M78nAJee3t7eOGFF3DlyhX09/djdXUVRUVFaXXJ9vY2SkpKMDw8DKvViueeew7Ly8u4ffs25ubmpNhl/ri+vo6PfOQjaGtrQ05ODpqbm6Vw39jYQDKZlPeGAtIejwe9vb2iiUC+s91uRywWQyQSEX484xwfH0dJSQkmJyfh8/lQUlKCN954QxxrmEd0dHTAYDDg5ZdfRnZ2Nm7duoW9vT185Stfwa9//WvcvHlTBNPsdjtMJpNQixobG9HS0gKn04kvfOELWFtbwxtvvIFEIgGfzydUWdJw/vIv/xKXLl1CXl4efvrTn6KqqgrxeBxLS0vo7e1FMBgUYb7y8nIUFxfjvffeE5G/1tZW7O/vIxwO4+TJkygrKxPUxezsrFjq8n0Kh8MoLCzEK6+8Ar/fLw3JyspKvPXWW8jKysLXv/51GWDu7u7iueeew7179/DGG2+gv78fH//4x5GXlyfoiFQqhaNHj8rw9/Tp09ja2kJbWxtGRkZE7G1qagperxczMzP43Oc+J/X03/3d3+H8+fMoLS3F6uoq7t27J3pae3t7qKmp+U0D76mnntonf+L69etYXV1FLBaTyyeZTIqogs1mQzAYlMLX6/Vib29PFD0JSSkvL0dtbS36+vrw+uuvw2g0iugJ4ScUL2DnYHBwUKbkFCHLycnB+Pg4nE6n+BlTZZmQFvo+E+qxu7uLtbU1uN1u7O3tSaLHCSCTa17Yfr8f9+/fx/r6OgoKCkQFmS8Vu2OEltObc39/X7hcLOQikQji8ThGR0dx48YNUWdlAp+fn49AICAJTzAYxPj4ODY3N+Ugp3o1RTroZUwVXgo3JZNJSR7ZpVxfX5epMqeBTqdT4maHntPmrq4useEyGAxYWVkRfiPhp06nU+LmtIE8W05dI5EIDh06hKGhITQ1Nclhrf1mqW5qMBgQDAZlzzDxYEeJBzIv1sXFRUmmyBPjpUZrHHJsKMxE8TNOwnQxRHoBnw3hnXy2LMyoIs2uM8WuNCSwsLAQlZWVGBkZ+Q1fRImy8RJ1OBwyafN4PMLvZUxMpHmRMoGk8m8mVE9PITQvWXulkzfG/8auJAXVCGvl9FpDcplY8ncTKq/tZTweD8rKyjA6OoqRkZE0MS4msizqOBlhAsfP4aSCn68Vnxkn10P/Ozn6WuxOKygTFaHh83wHtU8sE0LNcddq7Zz6aHi+0+mU5iP5+9oKilMNFkUU0tEFh06euf5MVDQfl0mD5iUz7kxPYS0axfXmu8LikGvEePVnsejUAkQa0mu324V7mUwm5ed13ETDcN9zHTMF/Bg3iywm8b8r7kwlbx235r1SxIrJu46b+/q3xa3to6xWqzQf2WjRNlIHxc2k56C4NXLl9437oH3+YeNm4aPfO/0OZcZN1Njc3BxmZmb+n603//uD9rkWAXvQPiec98Pscx033+/Mfc6m14P2OZs2/Gyey/8b77f2bD/o/dbnmtVqlcLkw55rPM95rnGST0piMpnE9PR0mgifhvUfdK7xc3RxTBSZ2WyWuHVjR5+pWrxSnz18Djpu3iW07CKnn/cp7zHuNa434+YdyaaDx+NBUVGRqH/r5p2mabGpkpeXJ5Q3fX+zwcPGsL6/2RTi8+K/89lZLJY0+z7+N96HGnqdSCRES4B3PgtdNiByc3MFsUcah85brFYrQqEQSktLMTY2JoWZdrIgvJ10ABYYzDG5tiaTCSsrK5KvUf/hQfka1ewP+m42my3N2YVxU8Nqa2tLmmJra2tIpVLSQOGkXueppAjxsx0OB4qKiiRfu3XrlgyBuCd8Pp8Uh0ajEeFwWBpJLACJSpmZmUkToJudnZUckvo1zM/dbrc8O05ek8mkNHGITKTeFoUIOakvLi4WF4PZ2VnRDaC/PBu9FG3U9VgwGER1dTWOHTuGnp4e/PznPxctMJ5bZWVlokafnZ2N8vJydHZ2Yn19XQQBvV4v8vLy0N/fL88pHA5jdHRUEMU+nw+9vb1IpVKwWq3SdF5cXBSKYm9vr2hsbG9vw+l0IhAISA5YUVGBV199VTzZieDu7+9HOBxGV1cXPB4Pqqur4XQ6sbS0hGg0ir29PXR0dIgGQ2VlJerr61FSUoLp6Wl85zvfgdlsRmdnpwxunnnmGdTV1QmMv7q6Gq2treLb7vP5BJ7+zjvvoLq6GrFYDIWFhRgaGhLtn1AohFu3bmFqagqBQAD19fVCNaXA4K1bt7CysoKTJ09ia2tLqM5c73A4jPfeew9TU1N4/PHHBTVkeO655/b39/dRVFSEtrY2fOlLX8Lw8DDu3LkjnO/S0lIxiN/Y2EAkEpEpt9vtFm4rD2hCZvx+P3p7e7G7uyucYoPBIBNwk8mEhx9+GDdu3MDKygq2trYQDoeFD+NwOPDEE0+gp6cHg4ODyM/Px8DAgPDS19fXMTMzgyNHjqC3txdLS0s4fvw4tre3MT4+jmQyicLCQoHoUzBidXVVNkwgEMDAwABefPFFDA4Oor+/H2NjY7Db7QiHw+LnTgXFtrY2DAwMCIfS6XTKxUCIM6eK7P5PTEzAYDAgPz9fuOa1tbW4d++e+HfTYo2d3aNHj2J4eBhjY2PCF9/e3hYIyfz8PKqqqjA0NISVlRXU1dWJNH8ymUR+fr4INjDutbU1FBYWCrxqdHQU58+fx9DQEAYGBjAxMSEbjjzQ7e1tBINB3Lt3T7jRnKIyESHkiFZqu7u7CIfDmJyclLjHx8dhMplQV1eH1tZWgc643W7x4bRarTh+/Lh8F9ISaF/Gl53NgLW1NdTU1GBrawvT09Ni8UdUBG3AeLgTvTEyMoJPfOIT6OvrQ19fn2gS0COUdhHhcBgtLS3CjSZ/ixc/IWZECNDii8k8edVZWVk4fPgw2tvbJUHV3GCz2YyjR4+iv79fGkNMvnw+n4iBFRcXY3x8HFtbW4jFYtje3hZoE9VZNRR0Z2dHLnOn04lkMomzZ89iYGBAhEy4XykKt729Le8tp9gadstLlIma9nUlD5cTcIPBIBoKnJbSNYC/s7S0VEQPNbeTVAZai7ApFAwGsbu7K6gSXk5MgvkdmQCQB3/y5EmBQzHJYFJA5UwiXLQ6rS7kmORrLibfB34WuZ181/Wkh0lZdnY2ioqKkEwmhVbBJgiTmK2tLZl00F6PnDk97dNNJU6wmMAvLy+jtrYW09PTYrXHxImTLcY/MTEhUwddGDJ5ZiHGNdYezvzf1BYhD1DHzd8ZDocxPz+P9fX1NMQBvxMvbbopsNFK2gsLBc3r13HzOx46dAjJZFLsxDRNhMq4drsdyWQyTYWZRS/XO1OTQcfNvceGJ51BDoqb029OKh8U98rKCnZ3dwWCTM4gp0i/K+7q6mpMTU19IG7uVSJUpqen09b7w8bNwvRB662LD8IaaXWm4ybkl/aaRNRQEX1tbS3Ns51FLYtNFmekydXV1WFiYkLcR/Q+5zvldDoxOTn5W/c50QUH7XO93oFAAMlk8sD3mxZvtDLUnvC6SKGy9O7uLrxerwwXMvc5p966KOX7XV9fj4mJCWngE9rO/b2zsyNxP+hcYxHPuPmOkJOp/3coFJJGr/at57OkhSPPNTYwyOfc3NwUBXPmGDzX9DRfn2u7u7tyntvtdiwsLOD48eMYHx/HzMyMxKXPM32es4gj3Ypxay9z0pd4d/HOJOeaKvhsrNCmi9Sr8vJyTE5OYmFhQbja2pprbW1NmgGbm5soKSnBzs6O+GK7XC6ZMLMhQDchwtCnpqZw6tQpJBIJjI2NYXFxURoN3EM7OztSKFF1m2ggPksW8RxAMW8hKoJ7Ozs7G4cOHUJ3d7doRTBXINKmvr4eIyMjSCaTcLlcchZEIhFsbm5ieXkZ5eXlGB0dFVvPnZ0dzMzMYHFxUe525jxcd3LnPR4PEokEzp8/j8HBQQwPDwvFKRwOC9KQOhb379/H6OioNFaYmzI/J7qAeWpBQYHk54WFhRgbG4PJZEJDQwNaWlpEPd3v90seZrfb8eijj6Kvrw+jo6MIBoMYGRnBzs4OqqqqpC5paGhAb28vlpeX8dBDD2FnZ0f8wKPRKCYmJoTfTlRHaWkpDAYDwuEwuru78dWvfhXt7e24f/8+BgcH4XA4JPejZkFJSckH6jGv1yuNG1p/scDd2dlBRUUFent7YTQaUVVVha6uLuTk5OC5557D66+/LudoLBYTIdpAIIBPfvKTaG5uRltbG8rKytDc3IzNzU089dRTol12/vx53LhxA9PT0/jUpz6Fra0t9PT0oKenR2zKCgsL0d/fLyiQhx9+WMTYbty4ga9+9asYGxtDc3Mzbt68ifz8fBFSJF0jGAzi5s2beO2111BcXIxEIoGysjK5C6PRKHJzc1FQUCBCcI2NjWhubobJZJL/bbfbcfr0aVy+fBnj4+NYWVnBsWPHQGR5cXExTp8+LYO4yspKXLp0CUtLS/j0pz8tyJgzZ86go6MDY2NjePbZZ0Xlv6urC/X19RgYGEBBQQH6+/uFQnPixAkZWvb09ODs2bOYn5/H8PAwWlpaYPjTP/3T/ba2NsTjcQQCAfzqV78SZVB2zxYXF1FfX4/W1lbxjiS08qWXXhLf38XFRdy8eVN1a5GoAAAgAElEQVQUsnnRejweEQahRy67S6Ojo2LHtLGxAbvdjrq6OpSVleHdd98V6JvL5ZJD2O1248KFC3L5RiIR6Tq88847YisSj8dx48YNST71NLmiogIDAwOidHnz5k25VADIgRmPx9Hf3y9wYULtzpw5IyiClZUVdHR0yNSb3vAU9SHclaqx2dnZGB8fFwsdxh2PxxGNRsV7kUkbkw2n04kbN25IpzUcDuOhhx6CwWDAtWvXsLe3h8LCQpSVleH999/H5OQktre3JSkwm83iJ0910Nu3bwsHmV3iVCqFWCyGwcFBgZDxojp16hRSqZQo2nd0dGBubk6SQCIMePkSRUAONiHbvDgoEhKLxXDt2jVRUqY6NuNub2+X5NHtdgtF4MqVK4JOqKioECiOnhhQhZSHqdPpFCiLFtXa3NyUA5tdeCZkhJgHAgFRxqf1DCe5VM3kXmXSSaiVVq/Nzs5GNBpFLBbDjRs30qDP/D55eXkYHh5O83dvaGiA0WjE7du3JQEoKytDS0uL/A49RaevOv1Yh4eH5TtpHQK32y3wWUI/DQYDqqqqxPd3ZWUFo6OjkkBlTrvIpWFSRmi8VivOysoS1wCK++nkmNOa2dnZNH/3eDwOo9GI7u5uoZtEIhH09vbKZITTJk4cyKPKzc0V4R2tckxqAWGMetIZi8UEkbK6uioKwEzoGQuLF23xQ2QA95bet6FQSCYCuhji9F1zLc1mM4qLi4UKwwQ/FApheHg4TV2Y/5/vL/nl7JRz0sp10I0FJm6kJPAd3tjYwMzMjBRGOm7Nwddevpm+1GxgsSGo4aeZ/F6NwKA43vj4uBRHFAzSz46fSzggfaaJmtBxM9FnAqwnhWzCUtiUZ3Vm3JxYagivXu/MtaBVIP8u9zknaZpTzCTKYDB86Lj1en+YuDV3nM4gW1tbsNvtoq77oPXWwm78DJ4Tmevt8/mEC6snojz7M9e7sLAQBoMBo6OjUoAGAgEkEgmJWwufad0a8okz9zmhxzpu7k/ucyo/z83NpXHk9bnG9daTZx0394DL5UIgEBCNCf1+M26tjWE2mxGJRGAwGDAyMiLv90Fx8/8TkaUneb/PucbCyeFwSCHxoLipgcApONc+s5njdrsRDAaFi/27znOLxYJoNAqj0SgOKqQPDg0NyTmqp+iZ5zmbn1rEjgUkcxU25w0GA+LxODY2NuQ8J3JRozbYXLLb7YKsY9xsevP5mkwmhEIh5Ofny+ROF/2cvlNpndPrqqoqGI1G3Lt3TwYl9Jbm1J05RVZWliBNvV4v7HY7+vr6BCXABhILWlKumLcYjUY0NDRInppKpTAwMCCOJqSVsVnmdrvT8hbCtzkxZ45Dfuzdu3fl7/LuJ2qws7NT3kOPxyN5C32hw+EwYrEYWlpapPnOBqrJZJKJbigUQl5eHlpbW4VuxkbN2tqawMqpo8ShzOOPPy4CgisrK+jq6sLc3JxwxXnHUaiReSqbOITo8/larVYcOnQI5eXluHz5siAKOKCz2Wxwu924evWqvNsFBQU4c+YMjEYj3nzzTfEUr62txXvvvSfuOGwo5eTkoKamBr29vSgpKYHb7cbFixdFY4CNYNZj9+7dk33GhsrnPvc5cS2an5/H1atXMTo6mmb9SX58aWkpTCYTJicnpeHS29uL3NxcORfdbjdOnTqF6upqvPLKKxgZGcHGxoao37vdbkQiEXzve9+TRlxdXR1eeuklGAwG/Md//Af29/dx/Phx1NfX41e/+hXa29uRSqWkweJwOHDu3Dlcu3YNjY2N8Pv9+P73vy+DNubvY2NjOH/+PF577TUR5O7u7kZOTg6+8Y1vCIpgdXUV165dw/vvv4/CwkLs7e1hdnZWhpt1dXXIzs7G2NiYaGJdvHgRPp9P6FTRaBSPPvoowuEwbt68iZ6eHiwvL6OiokLsQv1+P771rW9Jbfvss8/iiSeegMFgwNtvvy3UJ74rd+7cwfT0NKqrq7G1tQWXy4Xjx4+js7MT8XgcDocDr776KgYHB8VOzxAOh/ePHz+O3t5erK2t4ZFHHgEATE1NiWgDDx/6Di4vL0vHl9yYgoICWK1WuN1uWK1WXLlyRZQmyaUlR5mwL8r6Z2VlYWZmRiyB2Nlid3Z/fx8DAwNis7Kzs4NoNIqSkhJ0dnZifn5ekgZyNcbGxlBfX4/FxUUYjUZRPtzZ2cHx48dx8eJFVFdXY2xsDOvr66itrRVYDF9yDRteWVnBysqKKMpqn8+cnByBpre2tiKVSqGgoEA8wumDTRiHVmulNQ65T8FgMA36pSEkOzs7iEQiKCgowMDAgCSRPOhdLhfGx8dx+PBhmWCS27O9vY2jR4/ixo0biMfjckFRVXRxcVH4XpwYkLtEixnN6aVqO1UVOzo6hJNE5Vqr1SrFKq0NeKnS548FA+0bmDiy00xOrc/nE4sNFqKEY9FPt7y8XLrfdAzY29vD4cOH0draKqgCqtFrS6ZMriJ5ZLws+b1tNpvQBXJyckRJ3WazSbJM+ztyw2ZmZuSipycoky52dQkD1IrVjC8UCqUlbEwaOT0qKCiQBoDmixYXF2NwcFCsvoggYAOJyZa2idLTbcat1cspLsIpCiFpmn5BWCL1LFioa/40+VtMLjUkkP+d0DHtF6zVo71er8AuV1ZW0ri6U1NTcomzaUKVbu3Xq9Vo+V21BQ85tIT0sRBgQsCkgUU6efA6kWcjSBc5/EdTF/jfydXScEst2kOVagBpbgBerxezs7PC6eb+IhxSw371eusiQBdNWtWa1jMmk0mgyoT8sjDgPaGLVz2t0p+hLbb4eYRIal9svkNbW1vIy8uT844JKPUz5ufnpbhmkk0Yc6aFGAuRB8Wt/bE5CWOBxbi1gBj1Fgi3zYxLf4ami/C50BLt94mbrg+Mm7/3941b73Mm91xvTob/kPXmxI57Ta83/zsnjZlxP2if85nSk1fHzX2u4/7f2udcezYvNX1LN2kO2uf63NMWSdqmLtMqy+VySWFJbjXRVDMzMyJexWkxn+9BcWsUR+Z68zOzs7PFMSDzXCOnnHHrhpQ+1/j3+NnaUk07N/B+07x+IjUyz3PulVAohImJCeGM7+3tiQUXhVUPuscOipv3GF1IqAGjhyUcQj3oHmMOxIaKvsdoiarvbwqBabg/h1K03+L+phbO3t4eSktL0dvbK9xp5sUAkEql0pByPIu4/zmc4BqQP0srvaGhIWxvb4ttHxFstJnLzs4WKgHvNJ2PESXLeNjoYQ7n8/mQn5+PkZERrK6uyl4nh5z5GptI1D7a3d1FTU0N7t69i2g0Kq5J8XgcALC0tCSICO6VrKwsoSkSFUdou8fjEfi4xWIRDR+/3y9NH0L6eQ5k5udE6FGxnnUJrZ757HZ2dlBUVIRoNIru7m6hZzLvYpO6sbFRmkidnZ3ys48//jjeeust1NXVic3d8ePHZV9QNJl7hXszlUoJioL7t6ioCHa7HR6PBzabDRcvXhRNr3A4LIiH/Px8oWXQ5YpFO+mmOzs7KC8vF9SIwWBAa2urIB+oHt/Y2IjLly9LTbW/v494PI6ioiK0trbiE5/4hGhLXLhwAU6nExsbG/jjP/5j/OM//iNeeOEFNDU1YWlpCX/0R38k+yKRSMBqtYoGDAU0JycnxQFgeXkZdrsdR48eFfi4zWbDj370I0xMTODUqVMoKSnB2NgYAoEAwuGwnD0UMzWZTEgkEpiamoLD4cDm5ibq6+uFSgsAV69eRXd3NwoLC5FKpfDcc88hHo+L1RqFJx977DFRmX/22Wel0fX222/D7/eL8vy//Mu/4KWXXsK9e/eQTCbx/PPPy3rPzMzA8Dd/8zf7v/zlL9Hd3Q2fz4eFhQXp2h8+fFiso6ampkRYbGNjAx6PR148dvdcLhcuXrwIl8slfI3FxUXU1dXBYrHgrbfeSoPucUpIXo32GV5dXcXMzIxsqrKyMvHtprWV1+uVaTzh5WazGQMDA8LTICyMYjRut1s6qjdu3MDIyIhACwkXKikpEZjp/Py8bFR2u3j5OBwOWK1W2O12vP/++3A6neKdvry8LN55N27cgNPpFBVuKlESAaAvDwrXEYZfWFiIRCKBkZER2O128VbkpIMXhNlsxsjIiBRtTCojkYhc+qQXNDU1Cbd+fX1d+HfRaFTiJvSKnWlOWHZ3d5GXlydxt7e3i9AXIXKlpaXIzs5Ga2urTNaZ6BB2SF63ti1ZXl4WCByh0YSXU8GdCR0TQB6o2kqGBzPXCwDKy8tx+/ZtEdHQvqQFBQXCY2PjgBeNFvnjJW632wVdoC2O8vPzYbFY0NfXJ51eJmcs9Mk50/Y3vPTz8vJEEI/wckIW2ZRgIk3+FOFbTEwIa+T0o7i4GJ2dnTIt0NxEHuq7u7tYX19Paxxo0Rg+f05s9NSXMDx2nfVEQvNFWfDrn2PCou2ItFIzOWV6EsUkKTMh4yVHBEw4HJYpcyYHl+geQi41T5dJB98fJudEF+gJJJMZNkV0Yc9/137IfP5M6imyt7S0JM0S7mk9LdVNI1308N3hviCtgqrhujjTkH4qauuCSQsv0e6Ik87MuHnmsPmpudn6+x7kPc6mDqGk2kJJizfyzzjBy4yb0y6+gy6XSwTWMuPmWcO4deGgC1VtLcmGD78DzyxOlQ6KW6+XVl3WcTMZ/v877oPWm41ovXcPWu9MHr7mEOt9wrhZjDPJ5z4nfFvH/WH3udfrFYG137bPdYPs993npHFl7vMHvd/8zvr95j7PfL/5d/S5xoJDx01KENeblqw6bp5rzCWYZ/y29WYjZHFxMe078H7nuaYRQ/z+mvaiUViMibZ6FPV90HnOP+eZr89zJsU8zwOBgCBw9HlO/rE+z/U9pkVbeY/l5uYKAlS7rHg8HphMJkxMTHwgbu5v7j/9c2yOUCw2mUymWbtqzj7vbwoMZ74DRB9arVZBPHR1daUNcZhzBINB2W88U/jOUoyNcHwOFYaGhtKaM5yGmkwm9Pb2phX2bMjxd2gdmq2tLTm/WYxPTEykWRjn5eWlicFy7yeTScl1uRcCgYC4QJFS0NzcjPn5+TS6h9VqRXFxsdyji4uLaYM9m80mzcDMPJXQfkKgy8rKYDKZcOfOHXl3iPTk2UlELPck6aWkLHCCTytk1iVEnlH8lwJ4pNzxfCBSj3zkmpoavPPOOzL15sDH7XajqqpK9ngymcTCwoLkpz6fD6lUSpojDocDXq8XFy5cgMvlSrMLfOihh2C1WvGLX/xCBq3r6+ti+0q6BNfGbrdjZWUFY2NjmJ+fR0NDA44fP473338fzc3N8Pl8gmgcHh7G+vq62NnZbDbcunVLLLT5njz66KNYXl5GLBZDVlYWGhsb8eMf/xhNTU0oKCjA9PQ08vLyEI1GcebMGeHwDwwMYHR0VJAwsVhMnnVZWRl8Ph/8fj/+9V//FdFoFHa7HcFgEMPDw/joRz+KnJwc/P3f/z3i8Th2d3cxPz8Pj8cjsPn8/HyJmzTmzs5ODAwM4IUXXsChQ4fQ09ODX/ziFzh06JCozA8MDCCVSqGwsFCa7q+++ioqKipw/fp1ec8+8YlPIJVKCWojFovhypUr+M///E+cPHlSfO+PHDmCI0eOwOBwOPbLy8tFtMBisSAcDiMej+PevXsIhUKw2+2YmprC2tqacKbdbjdKS0tFuZRQKy06Rb4zlRkpyX/8+HGBLZMvwsliNBrF8PCwCHhR8X1nZwcnT54Uy7WpqSkRIygtLUVHR4cUJeT8OJ1OFBYWYm5uTny+a2pqcOnSJfT396O4uFi4UBQ5KCgowODgoEyIye3i5E0XUYQEEuLMiyMUColYA7uStNyh3cPk5KQc3IRIJBIJOBwO4d4QjtzQ0CAcTCINcnNzUVxcjJ6eHrEhos8zRV/m5+cxMzOD8vJyVFVV4dq1a9JBYleYIhb5+fkYHh6G2+1GTk6OFEv68iGffmNjQ+x9dJLPONktIl+usrJSBCbIi2ICQQ4jhUGcTqeo5tPPnJBTohYKCwsxPDwsMDoe1haLRagWy8vLiEQi4qtI1VJ9KdhsNhG6cDqdEvfW1lZakkX4GEXVdILKwp3dfC1qE41G4XQ60d/fn8bn5sHPS5z8ZU7rioqK0izX2A1mQ0rzJjnt5oHF5lllZSXu3LkjAopajIne7JxCESVDkSEmNk6nUy4TNgEyp0/aOojfy+/3w2q1YmpqSvje/L26KaQ94TXfnp1gJkecOOkkmcmtzWaTZ+VwOBCNRkX8kE0G7QfM38VJCptOTF55IVHUTosl6YSUz57FFCd7hHPqRJLJYWZRRqSKy+WSQkLDSSmux9/PQpLUD+5Tm82G/Px8mYpoJIoW/mITktMHFjGMm40gbTWl/9FCbboIp6fuwsLCgW4BGkKrlbCpM6CbFoxNe9TruJmQMIllQyIzbi1WyASOkFfGzN9J+PfvGzenUsvLyx+Im0XYQXEzCdfF3O+KmyionZ0dsRaigJEuQri3dNx6vQ+KW4u7fZi42SD/Q9abDUHdIOI+Pyhuai1wvcPhsHCBD1pv2nNR7JKfk7nPtcjZH7LPdeNPv9/8Wf1+k7eb2Sjh+6abQPyOjJtJfigUEsrAQe83k+jM95t/j2clG70ataDPNaJAdBOCOYHWseB35dT5IN0CUhs5kNHnOa36mDs86DwnV5WTQd5jLPiJNuJEnMOTzHuMjX19j/GzM+8xPodgMIjc3Ny0e4yfz2fJn+U0nHQ7nlGZ97ducGs7Sd7fa2trCAQCKC0tRWtrq+R6mu7Ac48oMYvFgpWVFTkfmLcwt2ITITNu5lx0JCLsnYXN6OgoFhcX5Sxj4UaoOCk2zP05zaTlGodR4XBYJuTM1wgbDwQCWFpawuLiIqLRKCoqKtDU1ISZmRl4PB5Bo3Ed+f5zMs68kO8V70KqzPPndZ5Ku7e5uTkpppifM08lz53vIKmPROr4fD6ZvDY2NkqemkwmRaistLRUJuSkDTI/j0ajmJ2dxdTUFGpra3H8+HH8+te/xuDgoMDTWY8Fg0H5XazH+DmsHzweD+LxuCChSSkh8ml3d1fqMWpJcVh5+vRpsX3jAJR32uHDh3H//n2hq0YiEbS2tmJ7exuf/OQnsbS0hLW1NQwODmJubg5utxsnTpzAO++8I6jhjY0NLC0tIRwOi7ZWZ2cnPvrRj+LEiRP4yU9+gitXruD48eNytufl5aGyshJHjx7FlStXUFFRAZfLhZGRESwtLYmOTTQaRUNDA+7evYv5+Xn09vaKvSHrDPLbL168KAKJBoMBL774IhwOB1pbW3Hz5k1Z41Qqhaeffhpvv/02qqqqRCvp7bffxtraGv7sz/4Ma2trYrk2NDSEoqIiPPTQQ2K7RoTZ+Pg4KisrUVNTg6mpKTQ1NeH5559HWVkZrl27hh/84Ad46aWX0NXVhfX1dQQCAVRVVSEWi/1GwLG0tHSfEDHaC2VnZ6Ovr0+6odnZ2airqxPIxP3790WsjUVZQUGB8GUoxMJktb6+Ht3d3XjyySdhMBgwMDCA5uZmnDlzBqFQCBsbG9INunr1KqLRKFZXV7GwsIBoNCoFl8lkQnl5OWZnZ5FKpbC4uCgec5OTkzCZTIhEIlhYWIDf70dpaSleeeUVVFRUYG1tDYlEAh6PR6YOPFhpP5KVlYXR0dG0bms8HheIzNDQkCRFnPjT1oFKvxT9mpubEzGzo0ePCq+wu7sbx44dg8/nw+bmpgh73b17F4WFhVhfX8fi4iIKCwsFVm8ymRCNRgUOv7S0JEkSISMFBQVioVFcXIw333wTsVgMq6urwo2nJzoPZx782dnZ4t3OznYsFpNp8ejoKKampiQ55AGl42bnkfz10dFR1NfXw2AwYGxsDIlEAtXV1RI3UQn3798Xa4lUKoVAICB+g0ajEZFIBIuLi2Ihp718jUajcIxcLhdisRguX74sv4/PloJxTJzYbaWFnZ7ghMNhaaoMDw+nQVyZXHu9XiwsLAgslXSIQCCA2dlZVFRUwGg0YmxsDAsLC4hEIggEAoISYDfVbrdL0U8rGCa3fr9fOtRMRjUnnrYddrtdDk1CYYkAYJea66r9ipk8MgF1Op2S4FJ4R08EqdLKJgB/D98FcooMBoMI19GXfmtrS4pyIje0mqv2bCX3mckUv7f2qiVfigKPhF7xHeYEWvtB84Lmn7PoZYc7NzdXqDL6v3P/ULyJcZN3x+63wWCQiRFhfOz6mkwmgadp9V4WpyxS2LTintJaAPz7RPkkEgmZrrFYyJzEcoqk3QUYl9VqlT2ytLT0AZ4v9wKTZU0FYJOF1mKcEHJiwS4/p82EBOq4WdDpicdBcTMpN5vNInZFyyW9PxifjlurnzNuujPwrNLPi3HrxIxx6/UmGomCfXa7XfY0izTeVwett26waIspHYdebzow6Lj1BDoz7kw3CU5/mIRz2qbjJt+SjeiD4j5ovSl2yTPnw6w3k+kH7XM2W51Op3iga+XszPf7w+xz3Ug5KG6ut36/iRZkIntQ3JzsUbCLzUwiej7s+82Jp9lshtvtFntQvt9EODxovTPPNdp+8f3muca4SZFi41+vN887nmvLy8uy70l143pTf4b7MjPuzPOcKBVC+PkecPI4NDQkZwjfJb3efG78vpnntcPhkAYVxQk/zD1GPvHKygry8/PFSo76Sg6HA9vb23KeT0xMHHh/s7lBzjeRYsw7SEkiEtNutyM/Px9tbW1CbeBdyQGOpn5oTRudtwQCAYHNT01NSd7CBoLD4RAxxpWVFVmLjY0NgTyXl5eLJWoymUQsFhMk4urqKsxms3hAUzDN5/PJ0IyikEQhciprsVhEAI4cYboeXb16VYShqYqtRXKZ7/H70n6L+6i4uFjWNJFICGVB56l+vx/z8/PSUDSbzVhZWUFZWRlGRkaEHz82NobBwUE0NDTA7/dLfk4btPz8fKyvrwstQefnZWVlkvcsLy/LGTE1NZVWlwSDQZSXl+NnP/sZKisroS2u6ZHNAY7VapW8mhoVbDzW1dUhLy8PLpcL3d3dQrXkgK+oqEh8tTlMJHKEk9rz588jKysLHR0daGpqwsc+9jGUlJRgfX1d3LteffVVVFdXi2VYbW0tZmdnkUwmYbVaceLECSQSCSwuLmJychKhUAhutxtdXV2wWq0iYllaWorGxkZ8+9vfxlNPPYX5+Xm0tbUhEomgpKQEXV1dUk+53W6pH2n3xkbU+fPnxdGrpaUFV69excbGhjQfGhoaxM+cNAOPx4OOjg68/PLLuHDhAr74xS8iKysL3d3d+Pd//3d861vfQigUksaS1WrF9773PZw9exaLi4vo6urCqVOnkEwmMTw8DJfLhYcfflhQ5d3d3aioqIDH40FTUxM8Hg+OHTuGqakpQVl885vfxBe+8AUsLCzgrbfeQmNjI0pKSkRbq6CgAG63W86K//7v//7NGfr000/vj4yMICsrC7OzswiFQlIgWK1W9Pb2CkxgenoaPp9Puro7Ozvo7e3F6dOnkUqlMDs7K8X55uYmnnzySQSDQbz66quorKxEOBzGrVu3MDw8DLvdjtnZWXnwdrtd1C0pTEYOnsPhEN71nTt3pHtLUQxCJjnx1vAwn88n6vGEGK+urqKmpkZ+ngU9IYM5OTlIJBIC+ZifnxfBNyZiiUQCDQ0N0h1id3lrawsNDQ3wer24fPkyiouL4fP5RN3ParViaWkJOTk50r1jh46QIiZqnPCOjIyIT/z+/r50nzmltlgsUoBygkJxIl5cfJZlZWUSdyqVEkgRYTBMDDweDxYWFqT7z7jJ7WexyabE9vY26urq4Pf7cfnyZRQVFcHn84lXKCcKhH0xIQmFQmkcXu4tTvS7urrSeIzaekVPKfjn2ntcC2Bxss7kgFNv7r9kMilWWuSzEJq1u7uLmZkZHD58WBok5BDu7e2hsrISwWAQ165dQzAYRCgUQkdHh3SmtdUQpx8UZCFUnygFIjhoX5ZZZGj7Ih2j9qrV032KfVDAi11sbWvHqRKn7Vowh0gEXtLaVig/Px8ejwednZ1ihUjhE21xxKkEYcJ8DhqOFwgEMD4+LhdwpoUZ49YTL23Fpv+MDSgNGdVCV9pPmeKAjJvT8bW1NQSDQUnK9ATS7/fD6XRicHAQNptNCqhMOL0WkcrNzZW4mQjzPZuenk4Tj9JxZ4p6ZcIrM+PmhFkLfPHvk6unLZC0IBE7zzzjeZ5xokk+G88xm80mzTkNt9UicUQ1MbFm0UbrSE6dMtEZD4pbUzr0Pyzs+Gz1JFPDhzPj5r5kIcZGD+Mm35KTtNzcXFGezYRXa7E0vtf8P6KVyMNlY/B/K+5MQTciBijSSP48mwbc5yy8WUhohAHXe3x8/IHrnRm31mLQrg+kZbFwOCjuTHj3Qftc3+3/031O1evMuN1uN/Ly8pBIJGCz2cQT/aB9zuYf4850u6COxod9v7V2wUHnGuPmPmfjmEgJKppr15HMc41uJXy/GTepiqOjo7Db7TKp0yry+lzjOcsmmX6/PR4PZmZm0vIxvae5Xpn7XCMudNxscPD38DlzkEI0GptMmfdYKpVCfn6+nOectHPi7XQ60dPTA5fLJfcYi07e3/oe05RK3bD1+XyYnJwUj+rM+5vPSb/Lmtap/4xce6Ko2LgiD5eikNTvWF1dlQYKoemzs7OIx+PY2tpCKpWSSfve3h7i8Tg8Hg/u3r0rhVV/f780F9kg4T3JCbrWJqD+DnVyBgYG5L7g2cOmGhsU+t1xOByYm5tL+zMiSufn50X7gBZkHEyxUUsnBKJz2NwZHx+XPJU+3Gyg1NfXw+fz4cqVK4hGo5KnJpNJcWihxzoHCJFIRJq3WhW+qKgI/f39aGtrk/dID4Mo1sqclHvc7/djdHQ07X3f2NhATU2NUCyWlpbg8/mQlZUFn88Hq9WKgYEBed4zMzPyLpMq3NPTg3PnzmF1dRWzs7OYmJgQvaFnn30WRVIaGJcAACAASURBVEVF+OEPfygWZO+++664dVHfIjc3V4rkw4cPy33NiXQwGBSk4q9//WvZy4lEQprPHo8HeXl5UoMwNy8rK8Pt27fTNBwWFhbwwgsv4P79+zCbzRgbG0M8HofJZEJJSQlcLhdu3rwJv9+PsrIyDA8Po6SkRJDcu7u7uHr1Kl5++WURvuzv78fi4iKWlpbwxS9+EW63Gz/84Q/xxBNPIBQK4dKlS3jnnXdQUFCAzs5OhMNhGW7SDo0NL1J48vLy5P3+r//6Lzk7r127JmtKsfW7d+/KWgeDQdTX1+NnP/uZnEfBYBC9vb34xje+ISiLtrY2nDx5EmazGaFQ6Dc0l2eeeWZfizisrKxgcXERPp9PBHg6OjrSphWPP/642GUNDAwIzJsHF22G2EVpaGiAzWbD9evXJUl2u92SnJIDQd++vr4+mTRSQCoUCmFzc1OgaVxcFnPFxcW4dOmScJwocEHxh3g8jqysLFy7dk2gsCw2KGqyvLwsYlI2m01EE5hkNTQ0IBaLiQ0YL13NV/N6vRgcHITVakVFRQVycnJEsZONBC2WwkmTx+PB6OiodOSoIspOHrvQugscCARQUFCAW7duSdza/om2BUajEc3NzcjJyUFRUVFa3ITJUFzIbreLRRwv4+rqapSVlaGvrw+Tk5NpsCFCnbxeLxKJBCwWC8rKypCbm4v29vY0ASin0ykiW5wUs5HAy5AXGqfBnOawG5ybmysq4Ldu3RLIGS9vPrvCwkJRiaVyOCcYFBPihceEb2FhQZIv8rcrKirQ3d2NmZkZaQZolVpeMIT/2Gw29PT0pPli644wk3r+HP+dyQovQu5xLRBGysa9e/ckDu2PTGpEVlYWJicnBa6tJ1icbjCxo72HTjp9Pp9oAFD0hnHzc3iRcQ0tFot4g7NhQMsYLVbDn9MCQ5m2VIybCS8hfYODg7IXtN8ykQ1stmkOoy72deGmxRB5cRJCNzk5KaJ1+rtoCCeTBYvFgpmZmbTLVyMXtCiQfu+YgGnOe2ZBxgJ+fHxcfk7/PBM1eqRyXTLj1oUb0R76H4p3zszMSOKqGyPcJ0y48vLyBBWQ2TDThW0m5FU3jh4Ut1YCnp6e/kCzRk9GiYBhw0n/vkzRP43C4D9EhJHGdFDcLBio78ApsS4gdVGhNScyBcJ0gaiLVN4v/1/FTRQQJ4yZRZIulP7Q9c6M+3ftc6IjHhS3zWZLEw/7Q/e5z+cTz+LMJqdeNx03nRW0GjvvW8aZ+X5/2LhdLhcmJycf+H4zbr7fRAvpYv93nWsOh0PiXltbk/XWk2V9rhFNRbvQB51rjJu/M3O9+XwOOs/p6814NRSfE1+isQjr1nFrMVPGrcUaqVPA81yjZfR9Sc0eQtBzcnLEQYHvZG5urlD6NCJicXExLW5CyzMpBCzkHQ4HgsEguru7H3h/+/1+mebSulZ/b+ZEzFuIkND3dyQSQVFRERKJBObm5tLyFjYsKdRGymBubq4o6nONKNpJVAj3Bq0pf1u+ptEpXq8XBQUFaG5ulni5Vmw4RCIRZGdno6urS9wstKAmaaaEo9tsNmmC8N44dOgQYrEYhoaGZM25LmyQM0/NyckRdGx7e7vscSINqCxPhCldKagFwO9EWh6/K5tWpJnGYjFcvHhRzkk2pFkvVFVVwWQy4erVq1LAssZh7UNxatJlent70zQhHn/8cbGFy6zHqJMTiUTQ3t4Ou92Ohx9+GC6XCxcuXJB3wO/3IxQKif0cleNpv00tAJ7BpaWlSKVSksuxsRkIBATS/YMf/EByS55xVCc/e/YszGYz/u3f/g2BQACPPfaY0FAAYH5+XuzoWE++8847aWjSP/mTP0FlZSV6e3vR3NyMwcFB2avkgh8+fBivvfYaQqEQnnvuOdjtdvzyl78Up5/CwkKJe2dnRwT/iouLBfLPYdrY2BiefPJJQQtwTWOxGAoKClBaWorCwkK88cYb8k6+//772N7expEjR5CTk4NTp04hOzsbf/3Xf436+nqcPn1aaEc874aGhlBVVfWbO8Dn8+0/++yz8Pl8uHPnjsBfp6amUFdXhzt37ogcPqHQ7L7m5eXhkUcewYULF2A2m0VYjsbuxOmTV0xbLQpO0J86JycHKysromB56NAhgWQQZsKXwuVyYWpqCgsLC/B6vaL0qG0wLBYL5ufnUV5ejoGBAZw/fx5NTU3Cn9/Y2EAymcSJEyfgcrnQ09MjHcr5+XmUlZWhq6sLPp9PLn120GlJU1tbi1u3bsFkMsHr9aKkpAROpxN3794VeA+7UoQq8lClUb3FYhGovrYCYdyrq6sSN7k+S0tLcLvdKCgokMOXcbOjyi7TuXPn0NzcLPDc9fV1LC0tob6+Hk6nEwMDAwKPW1hYQCwWQ19fnwj5URhIwxUPHTqEtrY2EduKRqNwuVy4e/euFL3aJ5pNHd3IIFSbU8z8/HyBLfN7MmGisMX6+rpwEOfn59NsjSjqRC/EZ599Frdu3RLhM3bN4/F4WtzUKiC3ngJ2FK7R3LiSkhL09/dLN7mwsBBerxetra1SAHOamykkxIub3WFOhNxut8AaubcYN58hp15er1eKZT1J39jYEGj9Y489hpaWFoGMEx4ZDoflQtMcMJfLhYWFhTThGz0xZWNjenpaihV2RrW3eaZQXWaixv/O7054KJNX/rnuJDP5om6A5ntraP3y8jKOHDmC7u5umQzwd5KnNjs7KwUxkQo8UzJRCiyYqAzOZJpqt9rb/KBJZ2YDR/NA9f7in2uEC3l+RDRkFngaabG6uoqKigoMDQ3JOvB3kivLc4VxkzfJ91HbonHPUoiRcRO+nUwmP6B6f1DcepLGv0P7HMatixC+M9xHPPsyCxVtFVZSUiJCWVwLiltpNBGfB6G8WtBLJ9A8X1kEGY1GQdboZIeIjwfFrVWzD4r7oPXW/HOt8vw/iZuNQP7ch42bHODc3FwRWOU+/0PWm9PlzLh/13rz/c7LyxMxJ/I9M/e5tqrL3OdauO7D7vPMuH/X+63jZlPwoLjZzHjQ+50ZdyqVQjwe/0DcFOV80PvNSTK/P+8abYHHJibPtdzcXGkKHXSeZ/LztfghE3z9fuizmo0envc8z3WDlag2oteqq6sxODgo+5zweK/XK9B1rjfvgaWlJUFJ8Pfpfe73+5FMJuU7ud1uQQvo5o7WatHrzUk57zEWS7y/ibzh/U2kpqYtEPLOtSbCJRAIYGZmBg899BC6urpkkEAKBRW5x8bGZM9RiXx6elrg3BzqaPvToqIiQZDm5uYiHA7D4XCgu7s7zcddWydqgbzc3Nw0MVt6NhOFSEodzz8iRNfX12Gz2QS5yNwmM18bGxvDmTNn0NraivX1dUG0rKysoLq6Wqxm+Q4vLy+juLgYQ0NDQjPltJl7xWw2o6qqKi1PjcVicDqdaGlpEeQIdQP4rJgHke7A5hOFMyk0TZodNQjY3E8mk1hZWYHT6UQ0GpWhDhtTpPxWVVWhr68PL7/8Mi5duiRUKdo9Pv7440IlJvprdnYWNTU1aG1tRTAYlPyIAqGsS6gET4epI0eOIBQK4bXXXpN6zO12P7Aey8/Ph91ux8LCgoj+njhxAqurq0LLIB3ZaDQiEAhgaGgIU1NTiEQiOHLkCIaGhmTQSIrgyMgInnrqKVy/fh1f//rX8e6774rY3tLSEvr6+vDlL38ZgUAA165dQ3Z2NlZXV9Hf34+PfOQj+OUvf4mqqiqh0fA9oeDaZz/7WfzzP/8z7HY7Dh06hCeffBJerxevvPKKKOCXlJSIroPH45Eh9PLyMhobG+HxeDAxMYG2tjaYzWa89NJLaXFTs4n2xX19fbh//z4aGhpQW1uLsbGxD8Q9NDSEhx9+GG1tbXj++efR0dEhDgyLi4u4cuUK/uqv/gpOpxPd3d2y3j09Pb+hhH/kIx/ZX19fx8TEhIz/L168KDL27KbyIM/KykIikZDiit5xtbW1aGpqEt/HSCQCn8+HlpYWTE1NiT/3wMAA1tbWYLPZpBBcXFxEMBjE3Nyc+GSvr6+juLhYDsitrS0UFRVhdnYWbrcb9fX1WFtbE/U8j8cj3aLNzU1J2NfW1oT3GggE8Oyzz8JsNuP69evY3NzE3Nwc6urq4Ha70draitnZWczOzsJms8nkl4fz9PS0HFJc4Fgshs7OTuFw01+8u7s7jROeSCTk0MrLy8P+/r5AWBYXFzE/Py/Tjvz8fIF28d8JN6eXXyKRwOrqKpxOp8Cttra2hIuytrYml7Xb7cZTTz0Fs9mMpqYmbG1tYW5uDocPH4bb7UZ7ezvm5ubSxHXIHTIajWJ1xakTGxJdXV1S/JBvPDAwgM3NTVitVuTn50uniXB+ejE6nU6kUikRRWLCxbi3t7dFzM5ut6OmpgZra2sYHh4WAUC93rzQdaGbm5uLs2fPwmKx4OrVqwLzKi8vh9frRVtbW5r6KS9vHrqcouruallZGTo7OwV2xvWcnJyUQ5P0AG1RxrUklFzDBnnB8mJ1Op1YXV0V7821tTWMjo6K3R2nxVtbW1Iw6sTIZDLhxIkTsFgseP/99wWhUlBQIGvEIlgnC7yYeVkzIePFnkgkZCplsVgEuqUFftgNJGdSe8RnWj9RlIbJAC8++n8TrsSmD+FlbKTxeTHZy87OxuHDh2EymdDZ2SlIDa/Xi7y8PNGPyPRLZjKWOWExm82SBHEKSegbG1DcZ0yMdIJDASDNycxUQNawVfp/8/3kc9M0CHZmMxEWZWVlyM7Oli7y9va2cEanp6c/YP/FZIkJiZ5yaWgu33takmi0Bbm7B8VNWJgu7HTchAWzI04VX1JH2NBkQkpIeGbcRUVFyM7OlmkckyuKWuk15V7neuu4iVKh6BQLGw3NzIxbOxXopJjv4kFxc9+z8UY6AZtv3F+MW6OV9HctLi5Gdna2FBjkH1qtVmkmf5i4ud5sSP2+cf+h680kX6+3hgtz0pQZNylww8PDafucjbjM9/tB+5zrfVDcep9ziqqneQ96vx+03qQh0DubDXH+vIYLE52Rea7FYjGYTCYMDQ2lxW21WgWGnnmuMe7Mc007wfBco32m1mThXXXQejNufZ7z3mQjj+utzzU+a1LzGDfRa7qxkZ2djcrKSlEY53nu8/mkWartI/kz3Ov6HmOBFAgEhIbJZhLFxvj+apFQ3mN8jnwHtKUdJ4t6akmhsJKSEmxuboptLFGfvMc4WdTP0mKxoLGxEWazGe3t7ZLHRqNRETGjdoAW52PTiHcw1zUvLw+FhYVSOLG5wKa9FkmmxRjRiqSD0OKONDrGyf22vb0tSuI2mw0VFRXY3NxEIpFI02Vh3BRA5kCGhfQTTzwBi8WCO3fuyPlQWVkJp9OJrq4uscUlhSc3N1fODYo3crDj8XgQi8XQ3d0tTR2/3w+XyyXi1hQipO0w0alEo3q9XrGWZsMrGAxK3FtbWygsLMTCwgJcLheOHDkiomn8edZQm5ub6OzsFG0a6lb4fD58+tOfhtVqxVtvvSUDxJMnTyIQCODmzZvCdybkmme99vMmQoAq4HSpMhqNKCkpQSAQQFNTE+bm5hAOh3H48GF0dnZKERoIBLC3t4eZmRkUFxdjamoKU1NTgsqprKwUaPr6+jqqq6sxOTmJcDiM06dPY319HS0tLZifn0ckEkE4HBbk3cWLF0XseWRkBA6HA/F4HF/72tdgNpvx5ptvIpVKob+/H5/61Kfg8/nw1ltvobu7GwMDAzLIJa3SZDKhpaVFtA3i8Thqa2tx5MgRXL16FU1NTTAajXjkkUdQUFCAV155BZ2dnTh27BieeuopXLlyBclkUurS/f199Pf348iRIxgYGEBLS4vcpefPn5dh0vLyMo4ePSp8+8OHD2Nzc1PE64LBoIjjbW9vo6WlBevr65iamsLbb7+N0tJSPPHEE/jYxz6GrKwstLW1YWNjA4ODgzhz5oyI1vX09ODtt9+G4aGHHtonFLu/vx93797F7u4uPB4PgsEgVlZWhJ9nMpnQ1dUFi8WCY8eOAYBwIniJTU9Pw2QyYWpqCjabDY2NjXA4HGhraxO4bzAYxK1bt0RciocieX0AUFRUJPzQxcVFgUZnZWXB7XbDaDRiZmYGFosFR48eRVZWFi5dugSr1ZpmX6YtkNgxnp2dRSQSQSQSEd51d3e3HDper1cOQMIaaU9RXV0NAKLQTq4X4UIUTaFie19fnxSnbrcb9+7dg8PhkMKU3Spe8PR/5+HEi4vdb4qXmEwm1NbWwmg0oqmpSSB/LPY4FdH2W9xA/IypqSkMDQ3JZep0OqV4ZNyESpeVlR0YN18QTmpKS0ths9nQ398vHB6Px4Ouri4R3WFRw0uQsGpOGahmqhMkg8Egn0G6wv3799PsTwh1111/HhAOh0MOjMnJSVG55CHP6SWLIUIpw+Gw7CPtjcspP7vmwWAQVqsVY2NjAoN0uVwYHR2VZOYgjh3FfNhY0HBUJjxsOFC8ZnR0VPa0Tj4zFXl58fJAm5+flwuaCSqnM0xseAE7nU7xW2Xxzok8iwf+PSI3mMxYrVaB/fPv6ekEEyP9Ow/iJ/KZ6fdd2wZpJfVMzQEqttM6ipA6zSPUk08iMgih03ZvelqklafJ4WfympubK7ZF3NeZ3GEmE/ydmnvKxFLTIDRsX3O7Myea/G4Ud8vKypLOvI6bE1TGzcLEarWmORFkTn35eVT951SBCb/2oT+IR01opW4mHaSazaku7a1+W9zaCoz7jpxFLZqlC2gNy9Rx89zQ31HzpJkMUXVbC679b8VN2CMnu3qC+dviZuOcWgkPivvDrndm3P+v15uJvl7vB8Wt+fz/031+0DQ4c5+zEUtIOjU7dHNTx/b7vN9sSGe+35l8bf05JpNJbO8odHbQuaYn02ys81zTcWfyy202m6ASuN50N9Fim5nnufa9z2xYHHSeGwyGNO7xQXHrfU56IL2fKZ7GiaxWbSf8WN9jRA7xO/JO5XciKoH3Fp8ztWn4vbQtmj4XWGzqc4cT2d92f/Nd4Dro94cNfZ/PB7PZnKZlwHXhs87MW0KhkECFWbxzcMN9kZWVhXA4jNzcXIyPj8tZQoFcretBuhrfD+YUzIW4HpzUa3V4No87OjokX+PQQuvmaC4+nYUsFgumpqaEdsCGg3Z24CTZaDSKQjdFNdkMZZ5KZE08Hofdbpc8VQtg00lAaxoxbn4nInvZMCfljfe12WxGQ0MDsrKycP36dYmX9m3alYaUg4WFBRQWFqK0tBQ5OTkYGRkRDSbS0HjWuVwumM1m9Pf3w2Qy4fjx42n1GIUe+RzolPTwww/D4/Hg9u3bQjUpLCzEO++8I80IIiU5dKLCvc1mEwE5DoZIR8jOzhZ1+BdffBFmsxnf//734XA4REthf39fqBs8r0KhEIaHh9HY2Ihjx46JJd7rr7+O3d1dhMNhlJeXi/V0JBKB1WrFu+++C6vVipdffhkGgwG3bt1CIBAQocf29nbk5eWho6MDfr8fn//85+HxeHDhwgV4vV6EQiEUFBTghz/8IeLxOMbHx8UZ6/79+5IPnD17Vp7l2NgYmpubBdVWX18Pk8kk/PjPfOYzyM7Oxj/8wz+guLgYW1tbKC4uxv7+Pu7cuSN3A+vDGzdu4Pnnn0c8HkdOTg5GR0fx/e9/H5ubm2hsbMThw4dhsFgs+/QwJ//l3LlzMJvNyM/Px//5P/8HkUgEN27cwOrqKh599FEReGMxzmnt3t6eJLbV1dXi2fnpT38a165dQ29vr/jhffrTn8brr7+O7OxsOUTYfSsoKJDpmcViQVVVlXQ+AWBychKdnZ1i/0FuCqcohF3TG4/KsfRRp/UVuSIulwtGoxGNjY0wmUwoLi7GT37yE/j9fulw0LCelhCc3HLCwQuBMOrZ2VmcOXMGbW1tSCQSAvM/d+4crl+/nqb8Sru4YDAoU316JPp8PlGcn52dTfOB50Se3D2KndCujgJ0Q0NDGBwcRF5ennTEWJAbjUYcOXJElOJ/+tOfwu/3S6evsrJSErL5+XmxcOFEgS9wYWEhXC4XZmZmBFrPuGdmZnD27Flcu3ZNxOnYlWPndnNzUw6H0tJSiXt/fx/JZBKTk5NipUJ4FQ9Hl8slHKjM9aaYCBNKXkLUFLBYLCgpKcGPfvQjeL1ejIyMYG9vDwUFBUK94M+yy625hxQUWlhYwLlz5/D+++9Lc2p5eRmnTp2SuGlRQz0HrhUvskgkIhNb6ijwYuEFS3oAIZVU+oxEIiK0mEgksLCwIGvFBI+TuYqKCphMJsRiMfzqV7+S95nCUPwM7umDEnc25VZXV3Hy5Em0t7eLfdn6+jpqa2vR2dkpybGOm1BQPg+PxwO32y0c11QqJc0YJlREiPByp1J0IBCQBsv09LQ8S612zKSN09aioiK89957yM3NTeOEsXmiRe54MTNuIkvW19dRU1ODgYEBgTVtbm4KrUY3bzSSQieHRIEw6aJ4kS6YdCxsEJHvxQRtbm5OnhcLTz3xys/Plyn1nTt30igobBCRnqKRHDpuPvPNzU3E43FBUfFno9EoEolEWiKeGTeTPYfDIbZvLJYyC8WD4ia6hGtPK8hMSK7mczJuNoi1RoemnOgJ2IPiJsSceimcnkxMTKQl+w+K2263C8rkQXFrAak/NO5AICBT6paWlg+sN9+l3xY3z9rNzU2UlZVhbGwsbb0JT/1t6819TnoI15tny4fZ54Sa7uzsyPQsM26+38FgEFlZWSgoKMDt27d/6z5/0PvN5vPm5iYqKiowMjIiUFbuAYo7aWtVnq9abf6guLlu2pddo3O43m
}
</style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="The Beginning" tags="" position="305,197" size="100,100">(set: $transCounter to 1)\
(set: $hasDoll to false)\
(set: $hasDoneDoor1 to false)\
(set: $dollPoints to 0)\
(set: $therapistPoints to 0)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)+(text-style:&quot;shudder&quot;)[(&#39;&#39;//The choices you make will affect how Claire sees her actions... but you can never save her from this loop...//&#39;&#39;)]]

|sample2)[(transition: &quot;dissolve&quot;)[You wake up in a room. The room is very put together and clean, almost too clean.]]


|sample3)[(transition: &quot;dissolve&quot;)[A small locked box sits in the middle of the room, chained to the floor. A voice comes over the intercom...&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/at69w1HcMnojWEXrZ5zMcSa9zON47IbO&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[&quot;Claire.&quot;]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Next-&gt;The Next Passage]]]]


{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}
</tw-passagedata><tw-passagedata pid="2" name="The Next Passage" tags="" position="499,201" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[Your head is throbbing in pain as you steady yourself, and notice the familiar decor of your old family house. At that moment, all you can focus on is...]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Door-&gt;The Door Passage]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Room-&gt;The Room Passage]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Voice-&gt;The Voice Passage]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Box-&gt;The Box Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="3" name="Main Menu" tags="" position="29,199" size="100,100">(set: $transCounter to 0)\
(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=XXX=&quot;)[=

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 125px; font-weight: Bold&quot;)[neath]]]

|sample2)[(transition: &quot;dissolve&quot;)[&lt;img alt=&quot;Two Hands Interlocked&quot; src=&quot;https://i.imgur.com/TuR54ov.png&quot; style=&quot;width:500px; height:500px;&quot;&gt;]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ffffff; font-size: 50px; font-weight: bold;&quot;)[[Let&#39;s Begin-&gt;Start]]]]

&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/4rxxXcLoyxSdq5weSl2K8Sd7Q13UsE6O&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;
{
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="4" name="The Door Passage" tags="" position="97,398" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample1, ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You see a solitary door centered along the side of a wall.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Try to Open the Door-&gt;Try to Open Door]](css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Next Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}
</tw-passagedata><tw-passagedata pid="5" name="The Room Passage" tags="" position="299,401" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You recognize the couch, the fireplace, the TV, and most immediately, the gilded portrait adorned to the wall.]]

|sample2)[(transition: &quot;dissolve&quot;)[It&#39;s a perfect copy of one hanging in the family room of your old childhood home, with the exception that the subject of the horrible thing has been rendered completely unrecognizable.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Next Passage]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="6" name="The Voice Passage" tags="" position="700,399" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[A crackling profusion of sound only partially manages to twist itself free from out from the intercoms hiding within the corners of the room.]]

|sample2)[(transition: &quot;dissolve&quot;)[A voice, barely recognizable from what you can only describe as a fork scraping across a ceramic plate, asks a series of questions as your eyes meander into the dark lenses of the many cameras bolted to the walls.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[&quot;What are you feeling?&quot;-&gt;What are you feeling]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[&quot;Where are you?&quot;-&gt;Where are you]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[&quot;Who are you?&quot;-&gt;Who are you]]]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[&quot;What is your favorite color?&quot;-&gt;What is your favorite color]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Next Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="7" name="The Box Passage" tags="" position="1301,396" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[The box is chained, locked, and embedded within the floorboards.]]

|sample2)[(transition: &quot;dissolve&quot;)[As you observe the exterior you feel as if the static grain broadcasted by intercoms intensifies, the scratching becoming only more degrading.]]

|sample3)[(transition: &quot;dissolve&quot;)[They stir to life, the voice now harsher, more impatient.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[You havent answered all my questions, Claire. Focus on the questions.]]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Break the Lock-&gt;Break the Lock]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Next Passage]]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Next Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="8" name="What are you feeling" tags="" position="501,600" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You think for a minute about how you feel. This room, disregarding how you even got here, has always made you feel nauseous.]]

|sample2)[(transition: &quot;dissolve&quot;)[You contemplate saying this but are soon cut off by another question.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Voice Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="9" name="Where are you" tags="" position="701,600" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[This place is your childhood home, yet the more you test your memory of what it actually was like, the harder it becomes to recognize this place.]]

|sample2)[(transition: &quot;dissolve&quot;)[You contemplate saying this but are soon cut off by another question.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[I&#39;m in the family room-&gt;Family Room]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[I don&#39;t know-&gt;I Don&#39;t Know]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[I&#39;m home-&gt;I&#39;m Home]](css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Voice Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="10" name="Who are you" tags="" position="902,600" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[Claire. Your name is Claire. It sounds so fitting, the only thing familiar, undeniable within the garble of your mind.]]

|sample2)[(transition: &quot;dissolve&quot;)[It makes you feel strong to remember this.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Voice Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="11" name="What is your favorite color" tags="" position="1103,601" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[For the life of you, you cannot remember.]]

|sample2)[(transition: &quot;dissolve&quot;)[Your head spins at the thought, every hue and pigment blinking through your mind and yet they all are uniformly pallid and stripped of meaning.]]

|sample3)[(transition: &quot;dissolve&quot;)[You can barely make out their names as you brain sifts them again and again. Perhaps it is best to dwell on something else.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Voice Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="12" name="Family Room" tags="" position="503,799" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You hear muffled scratches as the voice cuts out, the red dot of the intercom flickering dead.]]

|sample2)[(transition: &quot;dissolve&quot;)[With a harsh beep it returns only a second later, repeating the same questions again and again.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Voice Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="13" name="I Don&#39;t Know" tags="" position="701,801" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You hear muffled scratches as the voice cuts out, the red dot of the intercom flickering dead.]]

|sample2)[(transition: &quot;dissolve&quot;)[With a harsh beep it returns only a second later, repeating the same questions again and again.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Voice Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="14" name="I&#39;m Home" tags="" position="901,799" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You hear muffled scratches as the voice cuts out, the red dot of the intercom flickering dead.]]

|sample2)[(transition: &quot;dissolve&quot;)[With a harsh beep it returns only a second later, repeating the same questions again and again.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Voice Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="15" name="Break the Lock" tags="" position="1300,600" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[You notice the fat, antiquated brass contraption sealing the box from the top, holding together two sealed doors masking the contents within.]]

|sample2)[(transition: &quot;dissolve&quot;)[You pull on the housing of the lock and to your surprise, the shackle snaps off with a resounding clank, the box now free from its prison.&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/BEgwekvyUhQpJkiDfI3fen06YuUfCfAj&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;]]

|sample3)[(transition: &quot;dissolve&quot;)[The voice within the intercoms has grown in its ferocity, now beckoning you to stop.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[This isnt helping, Claire. I need you to comply when I speak. That is what we agreed upon, yes?]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Open the Box-&gt;Open the Box]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="16" name="Open the Box" tags="" position="1300,800" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6, ?sample7)]

|sample1)[(transition: &quot;dissolve&quot;)[You let your hands open the box, prying apart the doors of the unbound cube and peering within.&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/gCYOZFYshzBU21is4YoRJrKCCUln93A8&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;]]

&lt;img alt=&quot;Disfigured Doll&quot; src=&quot;https://i.imgur.com/7ajGKOW.png&quot;&gt;

|sample2)[(transition: &quot;dissolve&quot;)[Inside, you find only a misshapen amalgam of plaster, string, and twine, with a key wrapped around a protrusion you can barely describe as a head.]]

|sample3)[(transition: &quot;dissolve&quot;)[To your horror the mass now stares directly up at you, its shattered porcelain face painfully twisting into a broken smile as it takes you in its broken eyes.]]

|sample4)[(transition: &quot;dissolve&quot;)[As you wrap your hands around the doll, the speakers crackle and split your ears as they die, the red light fading from the cameras.]]

|sample5)[(transition: &quot;dissolve&quot;)[The silence is replaced by a sound cutting its way from the wireframe throat of the figure in your hands.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Finally, you let me free. I thought for a second you never would.]]]

|sample7)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Take the Doll-&gt;Take the Doll]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else-if: $transCounter is 7)[
			(show: ?sample7)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="17" name="Take the Doll" tags="" position="1301,1000" size="100,100">(set: $transCounter to 1)\
(set: $hasDoll to true)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[The doll is already in your hands, and now it can never leave.]]

|sample2)[(transition: &quot;dissolve&quot;)[It seems to have understood this before even you, given that cracked, wicked smile taunting you. ]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Dont worry, you can trust me. You always could.]]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Next Passage Post Doll]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(replace: ?sample3)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Dont worry, you can trust me. You always can.]]
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="18" name="Open Door 1" tags="" position="101,1600" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[As you begin to reach for the key strapped to the dolls head, the intercom comes back to life,]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Claire, where do you think you&#39;re going, all the doors out of here are loc-]]]

|sample3)[(transition: &quot;dissolve&quot;)[The voice trails off, it appears that the cameras have picked up on the key lying in your hand.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[How did you manage to get that!]]]

|sample5)[(transition: &quot;dissolve&quot;)[The intercom stammers out, the pretense of civility in his tone having vanished and been replaced with frustration and discontent.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Open Door 1 Part 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="19" name="Open Door 1 Part 2" tags="" position="98,1802" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Claire, listen to me, put the key down, lets just go back to answering my questions]]]

|sample2)[(transition: &quot;dissolve&quot;)[His tone has changed back to his previous demeanor.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Quite the trickster, isnt he? Dont let his politeness fool you, you just saw what hes really like a moment ago.]]]

|sample4)[(transition: &quot;dissolve&quot;)[The doll grins. You expect to hear a response from the intercom, but only silence follows.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Open Door 1 Part 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="20" name="Open Door 1 Part 3" tags="" position="99,2001" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Dont worry about me. That creep cant see me at all, nor hear a word I say!]]]

|sample2)[(transition: &quot;dissolve&quot;)[The doll exclaims, then gestures to the lock on the door.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[ Well? What are you waiting for, we need to get out of here!]]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Go Through the Door-&gt;Through Door 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="21" name="Through Door 1" tags="" position="97,2202" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]
&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/q705t7IPohAgCDmCHhc1TWkF5LyKtX9m&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;
|sample1)[(transition: &quot;dissolve&quot;)[As you walk through the door, you hear a faint muttering from the intercom ]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[All my efforts, gone to waste. Ill have to come up with a new strategy, I just hope that it isnt too late.]]]

|sample3)[(transition: &quot;dissolve&quot;)[Through the metallic, abrasive shrill, you think you hear what appears to be a tinge of sorrow and regret.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Door 1-&gt;Door 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="22" name="Door 1" tags="" position="98,2402" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[Bright, fluorescent light floods your vision. It takes a few moments for your eyes to overcome the blaze.]]

|sample2)[(transition: &quot;dissolve&quot;)[As they adjust, you find yourself adrift trapped within a sea of  never-ending sea of cubicles. You turn around.]]

|sample3)[(transition: &quot;dissolve&quot;)[As you feared, the door is no longer there, in its place are cubicles, spanning as far into the horizon.]]

|sample4)[(transition: &quot;dissolve&quot;)[Before you can even process what your next step should be, you feel a small thud against the side of your leg.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Look Down-&gt;Look Down]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="23" name="Look Down" tags="" position="98,2604" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[Below you is a small, robed figure, whose height barely goes up to your knees. You notice a splay of papers strewn across the floor.]]

|sample2)[(transition: &quot;dissolve&quot;)[The thing probably dropped them after bumping into you.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Pick Up the Papers-&gt;Pick up the papers]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Let it Pick Up the Papers-&gt;Let it Pick Up the Papers]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="24" name="Pick up the papers" tags="" position="97,2800" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[You bend down to help collect the mess. Once you finish, you try handing them back to it.]]

|sample2)[(transition: &quot;dissolve&quot;)[&lt;img alt=&quot;Small Robed Creature&quot; src=&quot;https://i.imgur.com/EWhb1Bw.png&quot;&gt;
Now that youre at eye level with the creature, you notice the creature lacks arms or legs, and the creeping smile below a pair of large, oval shaped eyes peering into the depths of your soul. ]]

|sample3)[(transition: &quot;dissolve&quot;)[You start pulling the papers back, but feel a sharp tug of resistance. You let go of the stack and watch as it perturbingly hovers back to hooded figure.]]

|sample4)[(transition: &quot;dissolve&quot;)[You hear a weak thank you.as the creature scurries off. As you attempt to stand, you feel a tight grip on one of your shoulders.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Turn Around-&gt;Turn Around]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="25" name="Turn Around" tags="" position="99,3001" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You turn and are met with a large, imposing person.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Im so glad I&#39;m not the only one stuck here! Do you know where we are right now? Im trying to find a way o--&quot;-&gt;Way Out]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="26" name="Let it Pick Up the Papers" tags="" position="300,2801" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[The creature hastily collects its papers together as you stand back to watch.]]

|sample2)[(transition: &quot;dissolve&quot;)[Curiously, the creature has no arms or legs, yet manages to scurry away. ]]

|sample3)[(transition: &quot;dissolve&quot;)[You think you hear it say,]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Hes here]]]

|sample4)[(transition: &quot;dissolve&quot;)[as it enters into the maze of cubicles. Before the words enter your mind a commanding grip takes hold of your shoulder.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Turn Around-&gt;Turn Around]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="27" name="Way Out" tags="" position="98,3201" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[A voice, inhumane and hollow, cuts you off]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00a7ff; font-size: 36px;&quot;)[&quot;Claire,  you have failed to report your two week absence to management. Your pay has been adjusted accordingly. To avoid incurring further penalties, get back to work now!&quot;]]]

|sample3)[(transition: &quot;dissolve&quot;)[You shrink back as the voice booms at you, and you can barely manage a response...]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[I have no idea what youre talking about, Im just trying to find the-&quot;-&gt;Sir]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="28" name="Sir" tags="" position="98,3408" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[The voice once again doesnt wait for you to finish.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00a7ff; font-size: 36px;&quot;)[Leave? Look around you, all the other workers are giving it their all, are you really trying to extend your absence?]]]

|sample3)[(transition: &quot;dissolve&quot;)[You notice the countless limbless creatures crawling about the maze.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00a7ff; font-size: 36px;&quot;)[ Why is it always like this with you forcing your coworkers, your family to pick up your slack. ]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Look at the workers-&gt;Look At Workers]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="29" name="Look At Workers" tags="" position="98,3599" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[To your horror, you watch as thin red droplets begin running down their lifeless eyes. Eyes fixating directly on you, they begin wailing. ]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00a7ff; font-size: 36px;&quot;)[Help us, Save us from this place.]]]

|sample3)[(transition: &quot;dissolve&quot;)[The boss speaks up once again.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00a7ff; font-size: 36px;&quot;)[Do not place your blame upon the workplace. You know what they say, a chain is only as strong as its weakest link! We could be thriving, but Claire continues to hold us back, she does not care for your livelihoods, your families! She is too absorbed in her own personal issues to care about any of you! ]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Look At Workers Part 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="30" name="Look At Workers Part 2" tags="" position="299,3600" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[You watch as the moans from the mob turn into jeers. ]]

|sample2)[(transition: &quot;dissolve&quot;)[The workers begin snickering amongst themselves. It is then that the true horror is revealed. ]]

|sample3)[(transition: &quot;dissolve&quot;)[&lt;img alt=&quot;Small Robed Creature&quot; src=&quot;https://i.imgur.com/M9nrZGh.png&quot;&gt;
The boss speaks up once again.]]

|sample4)[(transition: &quot;dissolve&quot;)[Slowly, you see the creatures&#39; true faces revealed behind the masks they adorned. ]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Look At Workers Part 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="31" name="Look At Workers Part 3" tags="" position="299,3900" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[Their mouths extend to the edges of their head, brandishing a crooked smile with reptilian, jagged teeth.]]

|sample2)[(transition: &quot;dissolve&quot;)[Thousands of weary, sleepless eyes with pupils emanating the fluorescent hue office lights pierce you all at once. ]]

|sample3)[(transition: &quot;dissolve&quot;)[Thousands of weary, sleepless eyes with pupils that seem to mimic the cold, fluorescent office lights pierce into you at once.]]

|sample4)[(transition: &quot;dissolve&quot;)[You hear the workers mutter obscenities amongst themselves, looking at you, then turning away to sneer amongst their peers. ]]

|sample4)[(transition: &quot;dissolve&quot;)[You have been made their enemy, their scapegoat for their burdens.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Look At Workers Part 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="32" name="Look At Workers Part 4" tags="" position="102,3898" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[This aint looking good, we need to get you out of here before you&#39;re crushed under the struggles of the working class.]]]

|sample2)[(transition: &quot;dissolve&quot;)[You look down, and notice that the doll is still gripped tightly in your hand, snickering at its own remark. The workers are now inching closer to you.]]

|sample3)[(transition: &quot;dissolve&quot;)[If you don&#39;t do something fast, you will be torn apart by the masses]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Come on, that cant be all you have in you! Think with that bulbous head of yours!]]]

|sample5)[(transition: &quot;dissolve&quot;)[The world fades away for a second as scour your mind for a memory of the past.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Look At Workers Part 5]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="33" name="Look At Workers Part 5" tags="" position="100,4101" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00a7ff; font-size: 36px;&quot;)[Please Claire, reconsider! We all need you here? You don&#39;t want to let the team down, do you?]]]

|sample2)[(transition: &quot;dissolve&quot;)[A sharply dressed man leans against the exit door, his brow furrowed, clearly displeased by your announcement.]]

|sample3)[(transition: &quot;dissolve&quot;)[Your head is full of words, retorts, yet you only attempt to push the figure aside, to finally escape this family.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[This is not how family treats each other. -&gt;Look At Workers Part 6]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="34" name="Look At Workers Part 6" tags="" position="300,4099" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]
&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/K2CH4QCyp5XMK0Y4MXl3UCBJsHlaJznx&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;
|sample1)[(transition: &quot;dissolve&quot;)[The man&#39;s voice has gone cold. ]]

|sample2)[(transition: &quot;dissolve&quot;)[As your hand twists the doorknob, you barely notice the words escape your lips: This is not my &quot;family&quot;]]

|sample3)[(transition: &quot;dissolve&quot;)+(text-style:&quot;shudder&quot;)[The monsters have managed to reach up to your neck and you&#39;re unable to move away from the writhing bodies pressing against you, and with your last breath you scream out... ]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[&quot;I Quit&quot;-&gt;Look At Workers Part 7]]]]
{
	(show: ?sample1)
	(live: 10s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="35" name="Look At Workers Part 7" tags="" position="299,4301" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[The world goes black, the endless row of cubicles, the harsh lights, the workers &amp; boss, all gone. The only thing that remains is you, the doll, and a door.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Well done Claire, you made it through the first test, Im glad]]]

|sample3)[(transition: &quot;dissolve&quot;)[From seemingly nowhere, you hear a voice, his voice.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[I didnt think you would be able to do it, seeing as how you ignored all my steps. Luckily though, you managed to pull through, and now youre all the better for it.]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Look At Workers Part 8]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="36" name="Look At Workers Part 8" tags="" position="98,4303" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Better, he says? You nearly died in that place, and he sees it as a learning experience for you?]]]

|sample2)[(transition: &quot;dissolve&quot;)[The doll says through clenched teeth, its porcelain face contorted in anger.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Listen Claire, I am not the enemy.]]]

|sample4)[(transition: &quot;dissolve&quot;)[The voices words seem to enrage the doll even further.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Look At Workers Part 9]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="37" name="Look At Workers Part 9" tags="" position="98,4496" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[The nerve of this psycho! First, he captures you, then, he has you go through an insane death game, only to have the gall to tell you that it was actually a good thing, and that he&#39;s on your side! Dont believe him for a second, theres no way this freak can ever be trusted.]]]

|sample2)[(transition: &quot;dissolve&quot;)[You pause for a moment and reflect. ]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Trust the Doll-&gt;The Doll Is Right]]]]
{
	(show: ?sample1)
	(live: 5s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="38" name="The Doll Is Right" tags="" position="100,4701" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[I don&#39;t believe you You yell into the void.]]

|sample2)[(transition: &quot;dissolve&quot;)[You cant thrust me into this nightmare, then expect me to be on your side The intercom spits out a garble of incomprehensible noise before retorting back .]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[I pushed you into this? Nevermind, if you dont understand now, you will have ample opportunity to later.]]]

|sample4)[(transition: &quot;dissolve&quot;)[His last words leave you with a sense of unease.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Proceed-&gt;Proceed]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Trust the Voice-&gt;The Voice Is Right]]]]
{
	(show: ?sample1)
	(live: 5s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="39" name="The Voice Is Right" tags="" position="291,4700" size="100,100">(set: $transCounter to 1)\
(set: $therapistPoints to it + 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[I think I understand. And if I dont, Ill at least try... ]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Good, I&#39;m glad that we are finally starting to cooperate. You will see soon enough.]]]

|sample3)[(transition: &quot;dissolve&quot;)[Through the distortions you think you hear him say]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[I am not the enemy who is trapping you here.]]]

|sample5)[(transition: &quot;dissolve&quot;)[ The voice seems almost jubilant, the assertion having greatly relieved the entity. The doll, however, has gone silent.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Escape-&gt;Proceed]]]]
{
	(show: ?sample1)
	(live: 5s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="40" name="Proceed" tags="" position="97,5100" size="100,100">(set: $transCounter to 1)\
(if: $therapistPoints is 0)[
	(set: $dollPoints to it + 1)\
]
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[You make your way to the door. As you near it, you reach into your pockets only to feel the cold steel of another key.]]

|sample2)[(transition: &quot;dissolve&quot;)[As you move to take it out of your pocket, the monotone of the intercom cuts you short,]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[What are you doing? The door is already unlocked, you dont need that key, yet.]]]

|sample4)[(transition: &quot;dissolve&quot;)[&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/q705t7IPohAgCDmCHhc1TWkF5LyKtX9m&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;You twist the knob and the door easily swings open.  The key however, still burdens your pocket.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;The Next Passage Post Door 1]]]]
{
	(show: ?sample1)
	(live: 5s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="41" name="Try to Open Door" tags="" position="99,601" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample1, ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[The metal bolts rattle against their sockets as you wrestle the dilapidated brass knobs. Perhaps the keyholes are a better chance at an egress.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Next Passage]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}
</tw-passagedata><tw-passagedata pid="42" name="The Next Passage Post Doll" tags="" position="498,1000" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[Silence permeates the room, leaving you alone with that dreadful doll.  Your eyes now fall to...]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Door-&gt;The Door Passage Post Doll]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Room-&gt;The Room Passage Post Doll]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Box-&gt;The Box Passage Post Doll]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="43" name="The Box Passage Post Doll" tags="" position="1299,1202" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You turn back to, expecting to see the now opened box, only to find that it&#39;s no longer there. ]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Next Passage Post Doll]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="44" name="The Door Passage Post Doll" tags="" position="98,1201" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample1, ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You see a solitary door centered along the side of a wall.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Try to Open the Door-&gt;Try to Open Door Post Doll]](css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Next Passage Post Doll]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="45" name="Try to Open Door Post Doll" tags="" position="100,1402" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample1, ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[The metal bolts rattle against their sockets as you wrestle the dilapidated brass knobs. Perhaps the keyholes are a better chance at an egress.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Next Passage Post Doll]](css: &quot;font-size: 36px;&quot;)[[Take the Key from the Doll-&gt;Open Door 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="46" name="The Next Passage Post Door 1" tags="" position="500,5299" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[You emerge from the door. You are back exactly where you started.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Lets get back on track Claire. No more distractions.]]]

|sample3)[(transition: &quot;dissolve&quot;)[The voice grades into your mind, each word stomping you further into despair.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[ Dont listen to him Claire, lets get out of here.]]]

|sample5)[(transition: &quot;dissolve&quot;)[The doll flicks his hand to one side of the room where another door lies. As your body begins to move, you make your way to...]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Portrait-&gt;The Portrait]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Desk-&gt;The Desk]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Intercoms-&gt;The Intercoms]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Doors-&gt;The Door Passage Post Door 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="47" name="The Portrait" tags="" position="297,5496" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You recognize the couch, the fireplace, the TV, and most immediately, the gilded portrait adorned to the wall.]]

|sample2)[(transition: &quot;dissolve&quot;)[It&#39;s a perfect copy of one hanging in the family room of your old childhood home, with the exception that one of the figures in the painting has been rendered completely unrecognizable.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Next Passage Post Door 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="48" name="The Desk" tags="" position="498,5495" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[An office desk sits tucked away in the corner of the room. Its metallic appearance so distinctly contrasts the other furnishings that it immediately stands apart.]]

|sample2)[(transition: &quot;dissolve&quot;)[The top of the desk is empty, yet as you rifle through the desk drawer you find a picture frame, its back facing towards you.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Pick Up the Frame-&gt;Pick Up the Frame]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Next Passage Post Door 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="49" name="The Intercoms" tags="" position="701,5495" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[Though not currently disparaging you with questions and remarks, the presence of the omnipresent monotone, the flickering red lights, and that drowning voice still leaves a repugnant malaise. ]]

|sample2)[(transition: &quot;dissolve&quot;)[He is always watching.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Next Passage Post Door 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="50" name="The Door Passage Post Door 1" tags="" position="99,5497" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You see that there is now a new door standing to the right of the first. Its appearance is identical to the first, save for the number 2, which has been carved into the header.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the First Door-&gt;Examine the First Door]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the Second Door-&gt;Examine the Second Door]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="51" name="Pick Up the Frame" tags="" position="496,5697" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[You attempt to pick up the frame, but fail. The borders feel as if they are tethered to the desk itself.]]

|sample2)[(transition: &quot;dissolve&quot;)[As you move to turn around, you notice faint markings on the frame&#39;s stand. Claire &amp; -----]]

|sample3)[(transition: &quot;dissolve&quot;)[The rest of the letters are too faded to make out, but you feel a slight prick in your heart as you close the drawer and move away from the desk.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Next Passage Post Door 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="52" name="Examine the First Door" tags="" position="102,5700" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[The door stands ajar, but there is no room behind the doorway.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Guess we cant head back.]]]

|sample3)[(transition: &quot;dissolve&quot;)[The doll grins.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Not like we wanted to in the first place.]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Door Passage Post Door 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="53" name="Examine the Second Door" tags="" position="300,5699" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You try your hand at opening the newly appeared door. It appears to be locked. Perhaps the key you found earlier could be of some use...]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Turn the Key into the Lock-&gt;Going Through Door 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="54" name="Going Through Door 2" tags="" position="99,5900" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Claire, you may be thinking that you&#39;re ready for what lies beyond that door, you are wrong.]]]

|sample2)[(transition: &quot;dissolve&quot;)[You feel his words wring out what little confidence you had, replacing it with a sense of fear and apprehension that has become all too familiar to you by now. ]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Each trial you face will be worse than the last. The doors will only continue to become more painful, more agonizing, more personal.]]]

|sample4)[(transition: &quot;dissolve&quot;)[Your underlying fear morphs into complete panic. You&#39;re unable to even mouth a response.]]

|sample5)[(transition: &quot;dissolve&quot;)[Just as you feel as though your mind is on the verge of collapse, a sharp pain pricks at your hand, the sensation bringing you back into reality.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Going Through Door 2 Part 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="55" name="Going Through Door 2 Part 2" tags="" position="99,6101" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[It appears the doll was trying to get your attention, as it sighs before proceeding.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Who cares if there are more doors? The only way were getting out of here is if we keep pushing forward!&quot;]]]

|sample3)[(transition: &quot;dissolve&quot;)[The dolls words of encouragement resurge your confidence.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Twist the Doorknob-&gt;Twist Doorknob]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="56" name="Twist Doorknob" tags="" position="98,6301" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/q705t7IPohAgCDmCHhc1TWkF5LyKtX9m&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;I see, so that is your answer.]]]

|sample2)[(transition: &quot;dissolve&quot;)[The voice affirms your decision.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[&quot;I guess it was the only choice left to you, ideally, we would still be having our little QnA, but...&quot;]]]

|sample4)[(transition: &quot;dissolve&quot;)[The voice trails off for a moment, before picking back up again.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[&quot;Clearly that ship has sailed, what has been done cannot be undone.&quot;]]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Go Through Door 2-&gt;Door 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="57" name="Door 2" tags="" position="99,6501" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[As your vision returns, a sense of unease crawls up from inside of you. You find yourself located in a kitchen.]]

|sample2)[(transition: &quot;dissolve&quot;)[This place is familiar, or atleast, it was. The first thing that grabs your attention is a mountain of dishes precariously stacked to the point where they nearly meet with the ceiling.]]

|sample3)[(transition: &quot;dissolve&quot;)[Though the sight momentarily transfixes you, it isnt before long that you quickly move on, the smell from the heap of silverware having become too repugnant to bear.]]

|sample4)[(transition: &quot;dissolve&quot;)[Scanning around the room, you notice a sleek fridge, tucked away into the corner, you realize that you cant remember the last time youve had anything to eat, perhaps grabbing a quick bite wouldnt be such a bad idea?]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Open The Fridge-&gt;Open The Fridge]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Don&#39;t Open The Fridge-&gt;Open The Fridge]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="58" name="Open The Fridge" tags="" position="99,6699" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[Before you even have the chance to consider your next action, A deep and derogatory voice fills the room.]]

|sample2)[(transition: &quot;dissolve&quot;)+(text-style:&quot;bold&quot;,&quot;expand&quot;,&quot;shudder&quot;)[(css: &quot;color: #FF0000; font-size: 36px;&quot;)[WHAT DID YOU DO?!!?]]]

|sample3)[(transition: &quot;dissolve&quot;)[You freeze. Never did you expect, did you think it was even possible, that you would hear this voice again. But that tone, that anger, is unmistakable. You turn around, and come face to face with the monster you knew as your father. ]]

|sample4)[(transition: &quot;dissolve&quot;)+(text-style:&quot;bold&quot;,&quot;expand&quot;,&quot;shudder&quot;)[(css: &quot;color: #FF0000; font-size: 36px;&quot;)[YOU PUT THE MILK BACK ON THE WRONG SHELF IN THE FRIDGE!!! WHY ARE YOU LIKE THIS? WHY DO YOU MAKE ME WATCH YOU SO CLOSELY?]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Open The Fridge 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="59" name="Open The Fridge 2" tags="" position="99,6900" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[ The endless gauntlet of beratement stabs at you, the overwhelming force of his words bringing you to your knees.]]

|sample2)[(transition: &quot;dissolve&quot;)[&lt;img alt=&quot;Dad?&quot; src=&quot;https://i.imgur.com/teyxt5E.png&quot;&gt;
You try to face him, but cant bring yourself to look him in the eye, or eyes, in this case. Though his voice is the same as it ever was, his appearance could only be described as nightmarish.]]

|sample3)[(transition: &quot;dissolve&quot;)[A limp torse shuffles on the ground , you see its nails break off as its boney hands dig into the ground in an attempt to claw itself forward.]]

|sample4)[(transition: &quot;dissolve&quot;)[ Though you&#39;re certain that his voice is coming from it, you cannot fathom how. He has no mouth, no face, only eyes.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Open The Fridge 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="60" name="Open The Fridge 3" tags="" position="98,7101" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[The eyes encompass the entirety of his bulbous head, all focused on one thing, you.]]

|sample2)[(transition: &quot;dissolve&quot;)[Though you arent looking back, the weight of his gaze is palpable, crushing you into the deepest chasms of your mind.]]

|sample3)[(transition: &quot;dissolve&quot;)[Repressed memories of tormented nights come flooding back.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[One Particular Night Keeps Playing in Your Head-&gt;One Night]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="61" name="One Night" tags="" position="98,7302" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[On that night, your father was livid about the placement of the milk carton in the refrigerator.]]

|sample2)[(transition: &quot;dissolve&quot;)[Your father had a place for everything in the house and if one thing was just the slightest bit out of place, there was going to be trouble.]]

|sample3)[(transition: &quot;dissolve&quot;)[He enters the kitchen enraged from the travesty he had just witnessed.]]

|sample4)[(transition: &quot;dissolve&quot;)+(text-style:&quot;bold&quot;,&quot;expand&quot;,&quot;shudder&quot;)[(css: &quot;color: #FF0000; font-size: 36px;&quot;)[WHO DID THIS??]]]

|sample5)[(transition: &quot;dissolve&quot;)[He yells.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;One Night 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="62" name="One Night 2" tags="" position="99,7499" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[You raise your hand, since it was you who misplaced the carton.]]

|sample2)[(transition: &quot;dissolve&quot;)+(text-style:&quot;bold&quot;,&quot;expand&quot;,&quot;shudder&quot;)[(css: &quot;color: #FF0000; font-size: 36px;&quot;)[WHO DID THIS??]]]

|sample3)[(transition: &quot;dissolve&quot;)[ You suddenly feel anxious. For the next 20 minutes, furious insults and scalding remarks are thrown towards you by your father.]]

|sample4)[(transition: &quot;dissolve&quot;)+(text-style:&quot;bold&quot;,&quot;expand&quot;,&quot;shudder&quot;)[(css: &quot;color: #FF0000; font-size: 36px;&quot;)[Dont ever make that mistake again.]]]

|sample5)[(transition: &quot;dissolve&quot;)[There is still a menacing stare on his face, so you quietly agree that it will never happen again.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[As you awaken from the flashback...-&gt;Back from Flashback]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="63" name="Back from Flashback" tags="" position="100,7698" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[You return to the kitchen with the torso still approaching you. The next moment you decide to run away from the creature approaching you.]]

|sample2)[(transition: &quot;dissolve&quot;)[You dash out of the kitchen exit on the left, only to appear in its right entrance. You attempt to leave from the right, only to be met with a similar result.]]

|sample3)[(transition: &quot;dissolve&quot;)[Your futile attempts at escape leave the creature momentarily perplexed. There is no way out of the room.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[It seems the only way out of this situation is by defeating this hideous abomination, no?]]]

|sample5)[(transition: &quot;dissolve&quot;)[ the doll asks you. You nod your head in agreement. You must defeat the creature. ]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[But How?-&gt;But How?]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="64" name="But How?" tags="" position="99,7902" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[A sinister revelation comes to you.]]

|sample2)[(transition: &quot;dissolve&quot;)[The creature seems to take on the characteristics of your father, so perhaps it would be possible to have them both meet the same ultimate fate.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Turn Back to the Monster-&gt;Turn Back]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="65" name="Turn Back" tags="" position="99,8099" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[You pivot around. As you expected, the creature is still crawling towards you. ]]

|sample2)[(transition: &quot;dissolve&quot;)[ The display is pathetic, but its eyes, eyes of sheer malice, prevent you from finding any sort of humor from its ineptitude.]]

|sample3)[(transition: &quot;dissolve&quot;)[Eyes which you have to confront if you want any hopes of escaping from this nightmare.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Gaze Back at the Creature-&gt;Gaze Back]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="66" name="Gaze Back" tags="" position="100,8299" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[As you expected, you cannot withstand the full brunt of his gaze for longer than a few seconds.]]

|sample2)[(transition: &quot;dissolve&quot;)[A searing pain shoots into your head, vivid memories of abuse, of neglect, and yes, of even that.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Recall the final painful memory of your father-&gt;Final Memory]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="67" name="Final Memory" tags="" position="99,8500" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[You remember one particular night. Your father had just picked you up from school.]]

|sample2)[(transition: &quot;dissolve&quot;)[While he was driving you home, he decided to lecture you about how to be a better listener. Ironically, you chose not to listen to him.]]

|sample3)[(transition: &quot;dissolve&quot;)[&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/A0PItLCs9ICIBb1R8HVIyzwXHhPG2FMQ&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;
His tone slowly became angrier and angrier as the drive went on. Your father started to pay less attention to the road and attention to the one-sided conversation that he was having with you.]]

|sample4)[(transition: &quot;dissolve&quot;)[ The next you know, the car is struck. You remember waking up later after you have been rescued from the car. The person watching over you tells you the news. ]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[I am sorry to say, but your father passed away in the accident.-&gt;Memory Ends]]]]
{
	(show: ?sample1)
	(live: 7s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="68" name="Memory Ends" tags="" position="99,8700" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[The memory ends. You are back in the kitchen, the presence of ever-watching eyes can no longer be felt.]]

|sample2)[(transition: &quot;dissolve&quot;)[You look down, in front of you lies the creature, eyes closed, head crushed.]]

|sample3)[(transition: &quot;dissolve&quot;)[The sight is abhorrent, but preferable to ever having to spend one more moment with him looking over you ever again.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[I am sorry to hear about your father. I do have one more question for you. How did your fathers death affect you and the rest of your family&#39;s relationship?]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[You dont need to know-&gt;Doll Door 2]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Tell the voice-&gt;Therapist Door 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="69" name="Doll Door 2" tags="" position="99,8901" size="100,100">(set: $transCounter to 1)\
(set: $dollPoints to it + 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6, ?sample7, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Is that so?]]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[He is so annoying. I wish we could just kill him and be on our own path.]]]

|sample3)[(transition: &quot;dissolve&quot;)[The doll now has a horrifying grin with murderous intent in its eyes. The dolls intentions concern you but are still somehow comforting.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Trust me. We will be free of him and no one will harm us again,]]]

|sample5)[(transition: &quot;dissolve&quot;)[The doll begins to laugh uncontrollably. ]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Oh, sorry. I got ahead of myself. Let us leave,]]]

|sample7)[(transition: &quot;dissolve&quot;)[ the doll finishes. You agree with the doll that leaving this room would be the best option.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Leave Room-&gt;Interlude 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else-if: $transCounter is 7)[
			(show: ?sample7)
		]
		(else-if: $transCounter is 8)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="70" name="Interlude 2" tags="" position="100,9099" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[A wave of both relief and disappointment washes over you. Relief from escape into a relatively safe room, and disappointment that this is once again the room you started your ordeal in.]]

|sample2)[(transition: &quot;dissolve&quot;)[You doubted that the last door would be the end, especially considering the voices warning, but you still cannot help but feel some hopelessness about your predicament.]]

|sample3)[(transition: &quot;dissolve&quot;)[The doll looks as if it&#39;s about to speak up, but stops itself as you begin to move around, perhaps realizing that a little pep talk isn&#39;t necessary to get you to keep pushing forward anymore.]]

|sample4)[(transition: &quot;dissolve&quot;)[Like last time, the room has changed, for now, you decide to focus on...]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Room-&gt;The Room]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Desk-&gt;The Desk]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Cigars-&gt;The Cigars]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Voice-&gt;The Voice]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Doors-&gt;The Door Passage Post Door 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="71" name="Therapist Door 2" tags="" position="303,8901" size="100,100">(set: $transCounter to 1)\
(set: $therapistPoints to it + 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6, ?sample7)]

|sample1)[(transition: &quot;dissolve&quot;)[&quot;Even though he treated me horribly, he was still my father, so I was sad for a little bit. Eventually, my life was better off without his constant gaze over it&quot; you said.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Interesting.]]]

|sample3)[(transition: &quot;dissolve&quot;)[ The doll glares at you angrily.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[You should trust me and not that outsider on the intercom.]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[It is time to leave the room Claire.]]]

|sample6)[(transition: &quot;dissolve&quot;)[You decide to follow the voices advice and leave the room.]]

|sample7)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Leave Room-&gt;Interlude 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else-if: $transCounter is 7)[
			(show: ?sample7)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="72" name="The Room" tags="" position="301,9299" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[You recognize the couch, the fireplace, the TV, and most immediately, the gilded portrait adorned to the wall.]]

|sample2)[(transition: &quot;dissolve&quot;)[It&#39;s a perfect copy of one hanging in the family room of your old childhood home.]]

|sample3)[(transition: &quot;dissolve&quot;)[One of the figures appears to be wearing a dress, but the rest of them has been rendered completely unrecognizable.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="73" name="The Cigars" tags="" position="501,9299" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[On one of the furnishings previously present in the room sits a small box of cigars.  His preferred brand, you think to yourself as you further inspect one of the cigars lying outside of the box.]]

|sample2)[(transition: &quot;dissolve&quot;)[The sight brings back bad memories. Father was an incessant smoker.]]

|sample3)[(transition: &quot;dissolve&quot;)[When you got into arguments with him,  the stench of the smoke from the cigars as he accosted you would often strangle you, leaving you sputtering as you tried to respond to his frequent verbal attacks.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="74" name="The Voice" tags="" position="702,9299" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[The intercom has remained silent since youve come back.]]

|sample2)[(transition: &quot;dissolve&quot;)[The voice is certainly watching you, but perhaps its lost the nerve to speak, at least for now.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="75" name="The Door Passage Post Door 2" tags="" position="86,9259" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[Once again, a new door has appeared to the right of the previous, with its only distinguishing feature being a 3 engraved into its header.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the First Door-&gt;Examine Doors Past Door 2]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the Second Door-&gt;Examine Doors Past Door 2]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the Third Door-&gt;Examine the Third Door]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="76" name="Examine the Third Door" tags="" position="100,9499" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[Like both of the doors before it, youll need a key if you want to have any hope of going through.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Turn Key Into Lock-&gt;Turn Key Into Lock]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="77" name="Turn Key Into Lock" tags="" position="97,9700" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/q705t7IPohAgCDmCHhc1TWkF5LyKtX9m&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;You mentally fortify yourself in anticipation for that hollow, soulless voice to echo to challenge your actions, only to be met with utter silence.]]

|sample2)[(transition: &quot;dissolve&quot;)[The doll looks at you quizzically.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Uhh, why are you just standing there-you waiting for something? ]]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Go Through the Door-&gt;Door 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="78" name="Door 3" tags="" position="97,9902" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[As you enter the room, you are almost taken aback by the red sienna dresser, the cottage lamp atop the nightstand, and the twin-sized mattress dressed with clean white sheets. This was your bedroom. ]]

|sample2)[(transition: &quot;dissolve&quot;)[The cream colored pillows, the alabaster white carpet, and the walls that were the shade of teal you always disliked: everything is identical to how you last remembered itthe day you left.]]

|sample3)[(transition: &quot;dissolve&quot;)[Youre not surprised by the silence permeating the room. This place itself is more than enough to make you feel weak, without the need for cameras, intercoms, or talking dolls.]]

|sample4)[(transition: &quot;dissolve&quot;)[You drift around in a daze, wandering about this place, its every detail burned into your memory from all those sleepless nights spent atop these wrinkled sheets.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Door 3 Part 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="79" name="Door 3 Part 2" tags="" position="99,10099" size="100,100">(set: $transCounter to 1)\
(set: $hasSeenTheDoll to false)\
(set: $hasSeenMom to false)\
(set: $hasSeenJoy to false)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[It&#39;s funny almost, how small everything is by comparison now. It&#39;s not until you sit down on the bed that you notice that the walls are //breathing//.]

|sample2)[(transition: &quot;dissolve&quot;)+(text-style:&quot;blur&quot;,&quot;shudder&quot;)[&lt;audio controls autoplay hidden&gt;
&lt;source src=&quot;https://audio.jukehost.co.uk/o2FaleT93DPFg5GQD1cO58bgJx9daMRu&quot;&gt;
&lt;/audio&gt;
Suddenly, you hear their voicehundreds of conversations of the past swirling around you, fragments of every bedside conversation flooding into your mind.]]]

|sample3)[(transition: &quot;dissolve&quot;)+(text-style:&quot;blur&quot;,&quot;shudder&quot;)[The room blooms into shades of purple and red as walls warp and twist violently as the chorus grows louder, the light erupting so brilliantly from every surface until it consumes your eyes and leaves you blind.]]

|sample4)[(transition: &quot;dissolve&quot;)+(text-style:&quot;blur&quot;,&quot;shudder&quot;)[As the voices drown out your scream, and the only voice you recognize is]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Mom-&gt;Mom]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Doll-&gt;The Doll]]]]
{
	(show: ?sample1)
	(live: 7s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="80" name="Mom" tags="" position="98,10300" size="100,100">(set: $transCounter to 1)\
(set: $hasSeenMom to true)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00ccff; font-size: 36px;&quot;)[You need to understand, things are going to be different now.]]]

|sample2)[(transition: &quot;dissolve&quot;)[Moms voice is almost muted, only barely rising above the pattering of rain against the windowsill, every word lacking the comfort and life they once held.]]

|sample3)[(transition: &quot;dissolve&quot;)[Is that why we wont be going to church anymore?&quot; You asked.]]

|sample4)[(transition: &quot;dissolve&quot;)[You barely recognize your own voice from that long ago. Mom smiles, but there is no joy in her expression.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Mom 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="81" name="Mom 2" tags="" position="98,10502" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00ccff; font-size: 36px;&quot;)[No more churches.]]]

|sample2)[(transition: &quot;dissolve&quot;)[You remembered this moment as a child: moms hand on the bedpost, her mascara running down her face; how strange she looked in black.]]

|sample3)[(transition: &quot;dissolve&quot;)[What you hadnt caught then was the pain in her voice, or the subtle tinge of resentment in those hollow eyes staring back at you.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00ccff; font-size: 36px;&quot;)[Get some sleep sweetie. We can pray tomorrow. ]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Mom 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="82" name="Mom 3" tags="" position="99,10701" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[Mom is already standing at the door, her head barely cocked to face you with eyes staring past into some forlorn place. That look you would remember.]]

|sample2)[(transition: &quot;dissolve&quot;)[Will you tell me a bedtime story? You asked.]]

|sample3)[(transition: &quot;dissolve&quot;)[Moms hand stops cold, her wrist stuck twisting the brass of the doorknob. From where you are you see her eyes turn to glass.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Mom 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="83" name="Mom 4" tags="" position="96,10900" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00ccff; font-size: 36px;&quot;)[No sweetie, Im too tired today. Lets read some other time.]]]

|sample2)[(transition: &quot;dissolve&quot;)[That was the last memory of that kind woman who would always tuck you in, who defended and comforted you.]]

|sample3)[(transition: &quot;dissolve&quot;)[You remembered her crying behind the door that night. You also remembered the person who came to wake you in the morning. The ghost who replaced her.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Falling-&gt;Falling]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Doll-&gt;Doll Door 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="84" name="The Doll" tags="" position="303,10301" size="100,100">(set: $transCounter to 1)\
(set: $hasSeenTheDoll to true)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[What do you mean, she doesnt like you?]]]

|sample2)[(transition: &quot;dissolve&quot;)[The dolls head cocks left, inquisitively looking back at you.]]

|sample3)[(transition: &quot;dissolve&quot;)[You remembered the voice you gave her, how you tried to emulate that girl in your pre-algebra class. You sigh, and rub the dolls smooth porcelain face.]]

|sample4)[(transition: &quot;dissolve&quot;)[She just doesnt talk to me anymore. She used to always ask about school, and make me cookies on saturdays, You said.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;The Doll 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="85" name="The Doll 2" tags="" position="300,10500" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Oh, so youre mad about Mom not making us cookies?]]]

|sample2)[(transition: &quot;dissolve&quot;)[You tilt the dolls head forward, as if it&#39;s looking down at you, a pitiful smile painted across its lips.]]

|sample3)[(transition: &quot;dissolve&quot;)[Quiet. I meant she isnt like she used to. When dad was around, you said.]]

|sample4)[(transition: &quot;dissolve&quot;)[The last part comes out as a whisper. Mom would get mad if she heard you. Your heart drops as you hear your door creak and see her march in.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;The Doll 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="86" name="The Doll 3" tags="" position="299,10700" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00ccff; font-size: 36px;&quot;)[Talking to your dolls again? Didnt we go over this?]]]

|sample2)[(transition: &quot;dissolve&quot;)[She stands in the doorway, arms crossed, her shadow crossing the floor and filling the room.]]

|sample3)[(transition: &quot;dissolve&quot;)[I was just playing, you said. You try to hold your ground, but it&#39;s in vain. She can hear the shaking in your voice. This ones name is]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00ccff; font-size: 36px;&quot;)[Claire dear, you know what other kids are doing at your age?]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;The Doll 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="87" name="The Doll 4" tags="" position="298,10900" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[Her eyes burn holes into you. Something reaches your lips, ready to spill out, but you are too afraid to let it escape.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00ccff; font-size: 36px;&quot;)[We dont have to visit Dr. Rutherford again, do we?]]]

|sample3)[(transition: &quot;dissolve&quot;)[You stay silent, having already made the mistake of speaking. You swallow your words and shake your head, burying the doll into your hands.]]

|sample4)[(transition: &quot;dissolve&quot;)[You feel tears welling up, but you try your best to wait until moms back is turned, as closes the door. Anything but Dr. Rutherford.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Falling-&gt;Falling]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Doll-&gt;Doll Door 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="88" name="Falling" tags="" position="199,11103" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[As the memory escapes your mind, you regain only a fraction of your senses. The room is a blur, the walls and floor pulsating, churning, screaming.]]

|sample2)[(transition: &quot;dissolve&quot;)[You grasp onto the bed for dear life, the only bastion amidst tumultuous waters. The floor collapses beneath you, revealing a maw of endless jagged teeth penetrating the infinite darkness below.]]

|sample3)[(transition: &quot;dissolve&quot;)[The voices are interrupted by a blood-curdling roar as the room surges to life, its hunger matched only by its ferocity.]]

|sample4)[(transition: &quot;dissolve&quot;)[The bed tilts back under the command of an unseen entity, curling up like a tongue as the sheets begin to slide and you claw hopelessly at the mattress beneath.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Falling 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="89" name="Falling 2" tags="" position="199,11299" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[
(if: $hasSeenTheDoll is true)[
	(show: ?sample2, ?sample3, ?sample5, ?sample6)
]
(else-if: $hasSeenMom is true)[
	(show: ?sample2, ?sample3, ?sample4, ?sample6)
]
(else-if: $hasSeenJoy is true)[
	(show: ?sample2, ?sample3, ?sample4, ?sample5)
]]

|sample1)[(transition: &quot;dissolve&quot;)[The walls cackle and scream, familiar voices flooding out of every facet of your room.]]

|sample2)[(transition: &quot;dissolve&quot;)[The bed finally flips back, its mattress coming apart from the frame as you fall, enveloped by darkness along with the rest of your room.]]

|sample3)[(transition: &quot;dissolve&quot;)[The last voice you hear, your solace and only salvation from the abyss is...]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Doll-&gt;The Doll]]]]
|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Mom-&gt;Mom]]]]
|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Joy-&gt;Joy]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(if: $hasSeenTheDoll is true)[
				(show: ?sample5, ?sample6)
			]
			(else-if: $hasSeenMom is true)[
				(show: ?sample4, ?sample6)
			]
			(else-if: $hasSeenJoy is true)[
				(show: ?sample4, ?sample5)
			]
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="90" name="Joy" tags="" position="602,11301" size="100,100">(set: $transCounter to 1)\
(set: $hasSeenJoy to true)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: ffe000; font-size: 36px;&quot;)[Its gonna be fun.]]]

|sample2)[(transition: &quot;dissolve&quot;)[Joy smiles, the morning sun shining off her braces.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: ffe000; font-size: 36px;&quot;)[Most of the boys wont be going anyway, so well have the whole place to ourselves.]]]

|sample4)[(transition: &quot;dissolve&quot;)[You glance back at her quizzically, then back to the permission slip. You try and play down the real reason you wont be able to come. ]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Joy 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="91" name="Joy 2" tags="" position="601,11501" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: ffe000; font-size: 36px;&quot;)[But whats so special about an art museum trip? Ms. Rosebloom is gonna make the whole thing a snore-]]]

|sample2)[(transition: &quot;dissolve&quot;)[Before you can hand back the page, Joy&#39;s hand is around your wrist, pushing the page back to your chest. She laughs, barely noticing your face turn beet red.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: ffe000; font-size: 36px;&quot;)[Then well sneak away. Old Ms. Rose isnt gonna be keeping her good eye on Ms. Teachers Pet.]]]

|sample4)[(transition: &quot;dissolve&quot;)[You scowl and try smacking her with a pillow, but shes already one step aheadgrabbing the cream cushion off the bed and whacking you square in the face.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Joy 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="92" name="Joy 3" tags="" position="599,11702" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[For a second the room goes silent. Then a snicker: you cant hold it in any longer. ]]

|sample2)[(transition: &quot;dissolve&quot;)[The room explodes into laughter as more pillows fly, and soon your room is a mess of papers, books, and strewn stuffed animals. Suddenly Moms voice cuts you both short.]]

|sample3)[(transition: &quot;dissolve&quot;)[Joy takes one look at you and reads the exhaustion scrawled over your face. This is the part you dreaded the most. You try to find the words.]]

|sample4)[(transition: &quot;dissolve&quot;)[To explain it all to Joyhow youd never be allowed to go on the trip, what Mom would saybut before you spill everything out, Joy seizes the wrinkled orange permission slip from the floor.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Joy 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="93" name="Joy 4" tags="" position="600,11901" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[A black pen disappears off the nightstand and before you can protest shes scribbled something out on the dotted line, shoving it down into your backpack.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: ffe000; font-size: 36px;&quot;)[Say were going to my place after school. My mom will vouch for you.]]]

|sample3)[(transition: &quot;dissolve&quot;)[Joy grabs her stuff, tosses her half-eaten breakfast into a Ziploc bag and bolts out the doorready for school in less than a second.]]

|sample4)[(transition: &quot;dissolve&quot;)[She looks back from the living room only to notice that you havent moved. Time only starts up again when she smiles back at you and chuckles...]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;color: ffe000; font-size: 36px;&quot;)[Everything is gonna be fine, Claire.]]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Therapist Door 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="94" name="Therapist Door 3" tags="" position="302,12100" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Joy. Her name was Joy. You dont even notice as the words slip out your lips, and the tears drawing lines down your face.]]

|sample2)[(transition: &quot;dissolve&quot;)[You see her in the open doorway, standing in the living room, staring back at you. The walls have quieted now, the room slumbering once again.]]

|sample3)[(transition: &quot;dissolve&quot;)[Joy watches you as you leave the bed, her glowing smile scaring away the darkness. You hear her chuckle one final time, and before you can chase after her she&#39;s gone. Joy. Joy. Joy...]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Joy]The intercom in the living room cackles to life.(css: &quot;color: #c07eff; font-size: 36px;&quot;)[You remember her.]]]

|sample5)[(transition: &quot;dissolve&quot;)[You straightened up, mortified by the voice. You cant take those words back. He knows now.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Therapist Door 3 Part 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="95" name="Doll Door 3" tags="" position="98,12098" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[You feel yourself falling for centuries, embraced by the void beneath. As you steel yourself, you try to count the secondsthe minutes as they pass, grasping onto anything as you fall deeper into the endless expanse.]]

|sample2)[(transition: &quot;dissolve&quot;)[The dresser, the bed, and the rest of the furnishings melt away, scattered into the darkness until there is nothing left to echo your cries.]]

|sample3)[(transition: &quot;dissolve&quot;)[Soon enough the minutes and hours meld together as time escapes your mind, with only the omnipresent void to comfort and embrace you, grasping you tightly as you start to forget the world from where you came.]]

|sample4)[(transition: &quot;dissolve&quot;)[You dont recall which way is up; you lose any memory of the house, the bedroom, the memories, and even the sound of your own voice as a deafening silence takes hold.]]

|sample5)[(transition: &quot;dissolve&quot;)[You cry until your eyes run dry. At some point you begin to gnaw on your fingers to feel something, anything, until soon enough they go numb, followed by the rest of your body limb by limb.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Doll Door 3 Part 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="96" name="Therapist Door 3 Part 2" tags="" position="300,12300" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6, ?sample7)]

|sample1)[(transition: &quot;dissolve&quot;)[You stand upright, frozen in place, anticipating the demon youve unshackled. For what feels to be an eternity, a silence envelops the room.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Good]]]

|sample3)[(transition: &quot;dissolve&quot;)[The voice, unlike before, sounds exhausted. For the first time, you think you hear a man behind the cameras, the omnipresent intercom.]]

|sample4)[(transition: &quot;dissolve&quot;)[You recognize a tired, strained heart carrying the burden of the world within each letter before the static interrupts again, and the cold, calculating entity returns.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Im happy weve made progress.]]]

|sample6)[(transition: &quot;dissolve&quot;)[The intercom shuts off abruptly, the glow of the cameras die, and the silence returns.]]

|sample7)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Leave Room-&gt;Interlude 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample7)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="97" name="Interlude 3" tags="" position="102,12701" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You are back to the living room from which you came. You steady yourself and take a deep breath, then begin to examine...]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Room-&gt;The Room]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Desk-&gt;The Desk]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Cigars-&gt;The Cigars]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Mirror-&gt;The Mirror]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Voice-&gt;The Voice 3]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Doors-&gt;The Doors]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="98" name="Doll Door 3 Part 2" tags="" position="96,12302" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[And then there truly is nothing. Nothing in the infinite beyond except you. You and the doll. You ~~anrd~~ the doll.
You look uop into your hands, bitten raw into protrusions of _____ and ____,]]

|sample2)[(transition: &quot;dissolve&quot;)[and to your disbelief the doll rests within your palm, soaked crimson in your shaking grasp. I has always been here, always been with]]

|sample3)[(transition: &quot;dissolve&quot;)[no as no ll
as no ll no
no as no ll]]

|sample4)[(transition: &quot;dissolve&quot;)[You cannot hear yourself scream but you hear its voice her voice r not the doll but it smiles, its shattered porcelain face pressed against yours, tilted po as if it&#39;s looking down at you, a pitiful smile painted across its lips.]]

|sample5)[(transition: &quot;dissolve&quot;)[Its head cocks left, and speaks to you.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Doll Door 3 Part 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="99" name="Doll Door 3 Part 3" tags="" position="98,12500" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Trust me, Claire. Everything is going to be alright.]
And then the world  sls goes black silence.]]

|sample2)[(transition: &quot;dissolve&quot;)[You wake up in the living room, convulsing, choking in a puddle of black ichor. The static of the intercom hums for only a second before dying out, as if you had just missed the broadcast.]]

|sample3)[(transition: &quot;dissolve&quot;)[You try to speak but all that leaves is the same dark, fluid matter. The doll rests within your hands, staring up at you, its painted smile brighter than ever. You think you see it nod.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Then so be it.]]]

|sample5)[(transition: &quot;dissolve&quot;)[It, too, then goes silent.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Next-&gt;Interlude 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="100" name="The Mirror" tags="" position="300,12902" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[Lying on the couch is an ornate silver mirror. Supposedly, it was a family heirloom, one that was meant to be passed down to you once you came of age. That never came to pass. ]]

|sample2)[(transition: &quot;dissolve&quot;)[Mom would never allow you to rife through her belongings after he passed. Maybe it was because she hated how you played with it, or maybe because she never was too infatuated with family after the accident.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Pick Up the Mirror-&gt;Pick Up the Mirror]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="101" name="The Doors" tags="" position="130,12878" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[In a pattern you have become all too accustomed to now, you see that a door engraved with the number 4 has appeared to the right of all of the others.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the First Door-&gt;Examine Doors Past Door 3]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the Second Door-&gt;Examine Doors Past Door 3]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the Third Door-&gt;Examine Doors Past Door 3]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the Fourth Door-&gt;Examine the Fourth Door]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="102" name="Pick Up the Mirror" tags="" position="302,13101" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You look through the mirror. In its reflection, you see yourself. There is nothing out of the ordinary, just you. Its almost refreshing.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="103" name="The Voice 3" tags="" position="503,12899" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You gaze upon the intercom. You feel it gazing back, but do not flinch. You may still be under his surveillance, but you dont fear him anymore.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="104" name="Examine the Fourth Door" tags="" position="99,13099" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You begin fishing the key you got from the previous trial out of your pocket. By this point, you&#39;re already well aware that the door will be locked.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Turn Key Into Lock-&gt;Turn Key Into Lock 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="105" name="Turn Key Into Lock 3" tags="" position="98,13303" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Congratulations, Claire] The voice booms out, the metallic shrill of the intercom making it hard to determine whether his tone was genuine or sarcastic.(css: &quot;color: #c07eff; font-size: 36px;&quot;)[You have made it to the final door.]]]

|sample2)[(transition: &quot;dissolve&quot;)[You instantly feel a resurgence of hope well up inside of you. You have no idea how long you have been stuck in this limbo of torment, but now, you know that it is almost finally over. The doll gives you a funny look.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Listen, Im as ready to get out of this place as you are, but what if this is some sort of trick? I dont think you should trust this freak, considering hes probably the one who put you here in the first place. ]]]

|sample4)[(transition: &quot;dissolve&quot;)[You pause on the dolls words for a moment. Although it is true that the voice is far from trustworthy, you still cannot help but feel hopeful for a near future where you are free from his grasp.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Twist the Doorknob-&gt;Twist the Doorknob]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="106" name="Twist the Doorknob" tags="" position="98,13453" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Before you go, Claire, I must give you one final warning] The voice is back to its normal, detached tone. [(css: &quot;color: #c07eff; font-size: 36px;&quot;)[This last door will be different.] Though the voices warnings usaully cause you to collapse from anxiety, you are instead unphased. After overcoming the previous trials, you feel ready to tackle whatever&#39;s next, regardless of how different it may be.]]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Go through the Door-&gt;Door 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="107" name="Door 4" tags="" position="98,13603" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[Before your vision is fully able to return, you are thrown into a heavy coughing fit. Specks of dust flood your field of view as you begin to recover.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine your Surroundings-&gt;Door 4 Surroundings]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="108" name="Door 4 Surroundings" tags="" position="97,13753" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[The space is filthy. Old clothes are strewn all across the room. Boxes lie haphazardly stacked on top of eachother, with layers of grime indicating that they havent been disturbed for years. The floorboards creak from any slight movement, each step seemingly wringing what little life they have left.]]

|sample2)[(transition: &quot;dissolve&quot;)[The walls havent fared much better, looking cracked and in a great state of disrepair. A solitary, Oval-shaped window is centered upon one of the walls, though beyond it lies no light, only an empty abyss. Despite the lack of light from outside however, the room, which you assume to be an attic, still appears to be dimly lit.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Look for the source of Light-&gt;Door 4 Light]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="109" name="Door 4 Light" tags="" position="97,13902" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[It doesnt take long for you to identify where the light is emanating from. Turning around, you see that a large screen has taken up most of the wall opposite of the window. An empty slide projector lies a few feet away, along with a box filled with slides.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Examine the Slides-&gt;Door 4 Slides]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="110" name="Door 4 Slides" tags="" position="97,14052" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[The slides, unlike the rest of the room, appear to have been relatively well kept, with groups of them being held in three compact containers. The containers themselves can only be distinguished by the markings written on the sides. //Past, Present, Future//.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Take the container labeled Past-&gt;Door 4 Slides Part 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="111" name="Door 4 Slides Part 2" tags="" position="97,14202" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You pick up the container and begin carefully allocating the slides onto the carousel of the projector. Once all of them are in place, you shift your gaze back towards the screen, the blank light now having been replaced by an image of...]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Joy-&gt;Door 4 Slides Part Joy]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="112" name="Door 4 Slides Part Joy" tags="" position="97,14352" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[The name escapes your mouth. For the first time since youve awoken in this tortuous prison, you are not overwhelmed by a feeling of fear or anxiety, but of //warmth//. Sitting there, in the picture, are two girls, no,  //you// and //Joy//, beaming with expressions filled with a sentiment you have long become foreign to you, happiness. ]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue through the slides-&gt;Door 4 Slides Part 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="113" name="Door 4 Slides Part 3" tags="" position="97,14502" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[As you press through more and more of the slides, you feel the long lost  memories progressively trickle back into your mind. There, on the screen, is Joy, your lifelong best, and only, friend. The slides encapture an ensemble of emotions.]]

|sample2)[(transition: &quot;dissolve&quot;)[From moments of laughter, where you and Joy filled your days with play, to moments of comfort, where Joy was there to console you after a particularly rough clash with your father, and later on, your mother. Yes, you remember now! Whenever you needed someone to play with, Joy would be there, waiting outside the door.]]

|sample3)[(transition: &quot;dissolve&quot;)[Whenever you needed a shoulder to cry on, Joy was there to lend one. Joy was a light shining in darkness, her radiance strong enough to s--]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Uh, are you doing alright? Youve been pressing through the photos non stop, I think this is the fifth time weve gone through them all] The dolls voice brings you back into reality, your brief ascension into the realm of fantasy crumbling back into your current, cruel predicament.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Taking a stroll through memory lane is nice and all, but remember, were trying to escape from this place,lets hurry up and get through the rest of these]]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Take the second Container-&gt;Door 4 Slides Part 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="114" name="Door 4 Slides Part 4" tags="" position="98,14647" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You carefully remove the slides in the carousel,placing them back into their proper container. You then pick up the container labelled present and begin to once again methodically lay each of the slides into the narrow slots.]]

|sample2)[(transition: &quot;dissolve&quot;)[Looking up, you see an image of yourself storming out of a towering skyscraper, you remember this scene all too vividly, having re-lived it only a short while ago. You advance onto the next photo, this time, the anger on your photographic counterpart has subsided into sadness, with tears welling in your eyes.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Advance through the rest of the Slides-&gt;Door 4 Slides Part 5]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="115" name="Door 4 Slides Part 5" tags="" position="98,14797" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Already aware of what&#39;s going to occur next, a slight smile etches across the side of your face as your memories are reconfirmed by the events displayed on the slides. Yes, no matter when it was or where you were, Joy would always be there for you.After you lost your job, and were unable to afford your own place, Joy was more than willing to take you in, continuing to act as your one and only ray of hope.]]

|sample2)[(transition: &quot;dissolve&quot;)[You quickly relapse back into the state of nostalgia you had been in while viewing the prior set of slides, only to be abruptly interrupted once again. However, its not by the doll, but by the contents of the image displayed before you.]]

|sample3)[(transition: &quot;dissolve&quot;)[Standing there, right beside Joy, is him. Though you&#39;re unable to recall so much as his name, the very sight of this person standing beside Joy, gripping his filthy hands on her shoulder, fills you with absolute disgust. You try to escape from his repugnant visage, but to no avail. His presence looms over all the remaining slides, his bestail aura dominating the frame of each photo, as your presence next to joy only diminishes further and further. ]]

|sample4)[(transition: &quot;dissolve&quot;)[In the last frame, your spot next to joy has all but diminished, in its place, he stands. Though his expression is static, you cannot help but feel as if it is actively mocking you, taunting you for your inability to save joy from his savage grasp.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[I think youve had enough of this already, could you hurry up and play the last of the slides? I dont want to spend one more second in this dusty nightmare. The grime is starting to stick to my skin]]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Take the Third Container-&gt;Door 4 Slides Part 6]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="116" name="Door 4 Slides Part 6" tags="" position="98,14947" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You hurriedly begin removing the slides from the projectors carousel, damaging a large portion of them in the process as you jam them back into their container. You pick up the container labelled future, a wave of unease creeps over your body. After seeing the contents of the last set of slides, you feel nothing but dread at the thought of what may come after. After having placed all the slides into their respective holes, you once again tilt your head up towards the screen, and are met with...]]

|sample2)[(transition: &quot;dissolve&quot;)[Nothing, at least, that&#39;s what it seems like at first, squinting as hard as you can, you can make out the faint outline of amorphous, shadowy figures.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue scrolling through the photos-&gt;Door 4 Photos]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="117" name="Door 4 Photos" tags="" position="98,15097" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You advance to the next slide, only to be met with the same blurred image. The image looks slightly clearer than before, though it&#39;s still impossible to distinguish anything of note. Even still, you feel a sense of anxiety rise from the pit of your stomach, as if your body is trying to tell you to turn back, before it&#39;s too late.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue scrolling through the photos-&gt;Door 4 Photos Part 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="118" name="Door 4 Photos Part 2" tags="" position="98,15247" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[The images are progressively becoming clearer and clearer. The amorphous blobs have now become people. Their shadowy appearance can be attributed to their choice of attire. Everyone in the photo is wearing black. You move to press the button to advance, but notice your hands quivering. The trivial feeling you had earlier has spread into every fiber of your being, pleading with you to stop moving forward.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue scrolling through the photos-&gt;Door 4 Photos Part 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="119" name="Door 4 Photos Part 3" tags="" position="98,15397" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[The image is almost crystal clear now. In the photo, you see a pale, clear blue sky. Below, a large number of figures are dressed in black, though you&#39;re unable to discern any of their identities, as their faces are turned away from the camera. All of their attention seems to be diverted into one, singular corner of the frame. Your eyes follow their direction, finally, you will be able to see what has caught all of their interest. ]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Look at &quot;it&quot;-&gt;Door 4 It]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="120" name="Door 4 It" tags="" position="98,15547" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[For a split-second, your eyes connect with the center of everyones attention.]]

|sample2)[(transition: &quot;dissolve&quot;)[The projector cuts off. The sole trace of light in the attic has now vanished, leaving only darkness to fill in its absence]]

|sample3)[(transition: &quot;dissolve&quot;)[The room is pitch black. You are unable to see anything, however, you do hear something.]]

|sample4)[(transition: &quot;dissolve&quot;)[Heavy, raspy breathing permeates the air.  A foul stench , the stench of him, follows after. The beast, having stolen your shining light, has returned, hungry for more.]]

|sample5)[(transition: &quot;dissolve&quot;)[Panic overtakes you, the breathing has grown quieter. The beast is stilling itself, you hear the sound of metal scraping against metal, most likely the beast sharpening its claws, preparing them for the fatal strike.]]

|sample6)[(transition: &quot;dissolve&quot;)[Quickly, you realize that your only option is to bring back the light.]]

|sample7)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Sacrifice the Projector-&gt;Doll Door]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Try to turn the projector back on-&gt;Therapist Door]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else-if: $transCounter is 7)[
			(show: ?sample7)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="121" name="Doll Door" tags="" position="23,15697" size="100,100">(set: $transCounter to 1)\
(set: $dollPoints to it + 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6, ?sample7, ?sample8, ?sample9)]

|sample1)[(transition: &quot;dissolve&quot;)[You idly wait for the beast to lunge, gauging its movements by its ever fading breaths, moments go by, until finally, silence.]]

|sample2)[(transition: &quot;dissolve&quot;)[The beast lunges towards you, claws extended, primed to pierce through your flesh.]]

|sample3)[(transition: &quot;dissolve&quot;)[Thats why the beast is shocked, when it realizes that it has pierced not body, but bolts.]]

|sample4)[(transition: &quot;dissolve&quot;)[The shock only lasts a brief moment however, as a more pressing, more instinctual urge overtakes the beast.]]

|sample5)[(transition: &quot;dissolve&quot;)[&#39;&#39;Fear.&#39;&#39;]]

|sample6)[(transition: &quot;dissolve&quot;)[The beast had struck through the projector so fiercely that sparks had flown off. Sparks which landed on the dilapidated, dry, wood below.]]

|sample7)[(transition: &quot;dissolve&quot;)[The pitiful flame rapidly grows into an all out inferno. The flaming maw consumes both projector and slides, then sets its sight on the beast. He is nothing compared to the light, and soon enough, he is nothing at all.]]

|sample8)[(transition: &quot;dissolve&quot;)[As the world begins fading into darkness, the last thing you hear are not the cries of a beast, but the tears of a broken man.]]

|sample9)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[A necessary Sacrifice...-&gt;Interlude 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else-if: $transCounter is 7)[
			(show: ?sample7)
		]
		(else-if: $transCounter is 8)[
			(show: ?sample8)
		]
		(else-if: $transCounter is 9)[
			(show: ?sample9)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="122" name="Therapist Door" tags="" position="173,15697" size="100,100">(set: $transCounter to 1)\
(set: $therapistPoints to it + 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6, ?sample7)]

|sample1)[(transition: &quot;dissolve&quot;)[You grope the ground in front of you, fumbling to find the power switch for the projector. The beast&#39;s breathing grows softer and softer, until finally silence.]]

|sample2)[(transition: &quot;dissolve&quot;)[The beast lunges towards you, its face inches away from your own, when suddenly, it haltz.]]

|sample3)[(transition: &quot;dissolve&quot;)[The radiant light has returned. The beast howls out in agony, writhing wildly in protest, but it is nothing in face of such purity. Its body contorts, it is not being destroyed, no, it is being healed.]]

|sample4)[(transition: &quot;dissolve&quot;)[Its metallic claws rescind into hands. Its savage breathing has grown meek. Its contorted, bestial face is no longer that of a monster, but of a man.]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #4067db; font-size: 36px;&quot;)[Thank you Claire] The main sputters weakly, still in a state of debility. [(css: &quot;color: #4067db; font-size: 36px;&quot;)[For saving me, along with these memories. Theyre all we have left, after all.] The man gives an affable, yet pained laugh.]]]

|sample6)[(transition: &quot;dissolve&quot;)[As the world begins fading into darkness, your mind cant help but wonder about the mysterious disablement of the projector.  You stare at the doll, but in return are met only with silence.]]

|sample7)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Peace...for the both of us-&gt;Interlude 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else-if: $transCounter is 7)[
			(show: ?sample7)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="123" name="Interlude 4" tags="" position="101,15841" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You emerge from the darkness and find yourself where it began. It is familiar yet that the furnishings are coated with a dense, inimical malaise. The room is now hostile. Any semblance of respite has vanished; the decor having grown cold and decrepit. Even the cameras have suffered under the malevolent decay. [(css: &quot;color: #c07eff; font-size: 36px;&quot;)[I must say, I&#39;m surprised you made it this far, Claire.] The voice pounds through the mold and rot festering around the intercoms, its sound rancid yet powerfully visceral, the professionalism worn clean from its hue.]]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Youre likely upset, given my promise of egress, but remember my words carefully: I said that it was your last door, not the last ordeal.] You hear the tonality shift, the cameras making note of your visible dissonance. [(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Dont worry Claire, this will all be over soon, I just need your faith one last time.] Its only fair to disagree, but you withhold your discontent.Your priority remains unmistakably clear: escape. Observing your surroundings, you see....]]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Room-&gt;The Room Final]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Desk-&gt;The Desk Final]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Cigars-&gt;The Cigars Final]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Mirror-&gt;The Mirror Final]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Voice-&gt;The Voice Final]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[The Doors-&gt;The Doors Final]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[A Ladder-&gt;A Ladder]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="124" name="The Room Final" tags="" position="97,16101" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[The couch has been torn apart , pieces of padding are strewn across the room like cotton entrails. The fireplace has been snuffed out, its embers still trailing onto moldy floorboards. The TV emanates a droning static that reverberates over the rot.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Look at the Painting-&gt;The Painting]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="125" name="The Desk Final" tags="" position="289,16102" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[The steel desk has deteriorated considerably. Its top has completely oxidized, the surface jacketed by a crude umber haze. You rifle through the drawer, and finding an untouched frame, it back facing you.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Don&#39;t Look-&gt;Interlude 4]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Pick Up the Frame-&gt;Don&#39;t Look]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="126" name="The Cigars Final" tags="" position="412,16100" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[The cigars have disintegrated, almost becoming almost indistinguishable from ash theyd become. You remember Fathers ashtray, how its beautiful jade surface would be veiled under a mass of charcoal stubs, its eminent figure masqueraded by ash and cinders heaping off the sides. Mom would be the one to unmask the green from the rot, wash away the soot, and unknowingly perpetuate that evil cycle.]]

|sample2)[(transition: &quot;dissolve&quot;)[Father insisted that he would quit, but his words always ran perpendicular to his actions. Perhaps behind all those evils there was a pure heart, choking in the ash. Perhaps he would have changed had the car not swerved off, taking him away, along with his mountain of good intentions.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="127" name="The Mirror Final" tags="" position="628,16102" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[After father died, Mom denied any right you had to this family heirloom. You were never a family after the accident, only two strangers sharing the house haunted by the dead. The mirrors silver has tarnished, its reflection warped into some indecipherable distortion of reality. Mom became far more possessive as time passed. You remember you tried to play with it once, unaware of the grave transgression you made in her presence.]]

|sample2)[(transition: &quot;dissolve&quot;)[The shouting was bad, but being treated as a hostage at the dinner table scared you more than the cold spaghetti. Now, you can hardly see what she beheld within it, besides her reflection.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Leave-&gt;Interlude 4]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Pick up the Mirror-&gt;Reflection]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="128" name="The Voice Final" tags="" position="809,16099" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[The intercom has melted into an amalgam of mold, splintered plastic, and loose wiring protruding from wall to wall. Its face is a fusion of rotten colors, the ominous static choking behind the decay. Even the red lights of the cameras flicker and dim, unable to stave off the ruinous malaise clouding this place. The voice is silent, yet the thrum of the everpresent monotone remains, an audience to your every move.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="129" name="The Doors Final" tags="" position="1015,16103" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[What used to be a line of ornate oaken doors is now a shattered composite of debris. Each door has been reduced to matchwood, leaving no trace of an egress. [(css: &quot;color: #ff8127; font-size: 36px;&quot;)[I guess there really is no going back now, is there? ] The doll peers up at you with its usual, painted grin.]]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="130" name="A Ladder" tags="" position="1403,16003" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[In the middle of the room, standing in place of where the box initially was, is a wooden ladder. Its appearance matches the furnishings of the rest of the room, the wood is dilapidated and rotten, with rungs looking to collapse at any moment. The most unusual aspect of the ladder though, is its height. As your eyes begin to move up the ladder, you realize that there appears to be no end. Instead, where its end should be is a singular hole in the ceiling barely large enough for a person to climb through.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Climb the Ladder-&gt;Climb Higher]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="131" name="The Painting" tags="" position="138,16301" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Your eyes gander towards the painting. It seems to have remained despite its surroundings.]]

|sample2)[(transition: &quot;dissolve&quot;)[In it, mother and father are smiling, and you are standing]]

|sample3)[(transition: &quot;dissolve&quot;)[//right//]]

|sample4)[(transition: &quot;dissolve&quot;)[		//next//]]

|sample5)[(transition: &quot;dissolve&quot;)[				//to//]]

|sample6)[(transition: &quot;dissolve&quot;)[Bile splatters over the misaligned floorboards, your throat now coated with a thick acidic ooze. You tear your eyes away from the canvas. You cannot bring yourself to allow your mind purchase, not after what you //did//.]]

|sample7)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="132" name="Don&#39;t Look" tags="" position="295,16303" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[You attempt to pick up the frame, and succeed.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Please don&#39;t look...-&gt;Interlude 4]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Turn Over the Frame-&gt;Don&#39;t Look Part 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="133" name="Don&#39;t Look Part 2" tags="" position="298,16448" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[It is a beautiful picture of Joy and... someone else. Before it was unmistakably a picture of you and Joy.]]

|sample2)[(transition: &quot;dissolve&quot;)[The markings engraved into the stand read Joy &amp; (text-style:&quot;double-strike&quot;,&quot;blurrier&quot;,&quot;mirror&quot;,&quot;rumble&quot;)[Thief]. Sharp painful memories stab into your mind, cutting into your skull like jagged thorns. You fling the picture back into the drawer, shattering it, and slam the rusted cabinet closed.]]

|sample3)[(transition: &quot;dissolve&quot;)[The drawer slides groan as the metal crate dislodges from its housing, collapsing into the box below. The frame is lost, but its image is eternally burned into your mind.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Leave...it hurts...-&gt;Interlude 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="134" name="Reflection" tags="" position="667,16246" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4)]

|sample1)[(transition: &quot;dissolve&quot;)[You see your own cracked, distorted reflection within the grainy image. The projection holds nothing but yourself and the shadowy, malicious entity manifesting behind you.]]

|sample2)[(transition: &quot;dissolve&quot;)[First, its //neck//, then, its //mouth//, next, its //ears//, finally,  its //ey-//]]

|sample3)[(transition: &quot;dissolve&quot;)[You tear your hand free from your paralysis and slam the mirror down, its glass crunching as its bulk smashes into the arm cover. You look behind, but the figure is gone. Its just you, alone.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Leave-&gt;Interlude 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="135" name="Climb Higher" tags="" position="1407,16205" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2)]

|sample1)[(transition: &quot;dissolve&quot;)[(text-style:&quot;bold&quot;,&quot;outline&quot;)[Are you sure? You cannot return to this place]]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;Interlude 4]](css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Climb Higher-&gt;Going to Ending]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="136" name="Going to Ending" tags="" position="771,16683" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You take a deep breath as your foot hits the first rung. This place will be your prison no longer. Youre almost surprised by the silence as you ascend, the only response a hollow echo of a wooden ladder.]]

|sample2)[(transition: &quot;dissolve&quot;)[You make it to the top, then stop in place when you start to notice. There is nothing above the top, just the ladder swimming in an endless expanse of pure, cold dark. It is an infinite sea of nothing.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Go into the Abyss-&gt;Abyss]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}
</tw-passagedata><tw-passagedata pid="137" name="Abyss" tags="" position="763,16857" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[You pass the ceiling and into the void above, viewing the living room below through a doorway drifting amongst an endless black ocean. Your hands move almost mechanically, pulling yourself farther from the beacon of light.]]

|sample2)[(transition: &quot;dissolve&quot;)[Soon, only the touch of ancient wood against your skin is left to guide you higher, your body consumed in darkness. You hear as the rungs below splinter and crackle as you ascend, devoured by the abyss below.]]

|sample3)[(transition: &quot;dissolve&quot;)[For a brief moment, you contemplate if the same would happen to you if you stopped. Then the feeling passes, and you hasten yourself.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue Climbing-&gt;Climbing 1]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="138" name="Climbing 1" tags="" position="765,17054" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Your breaths get heavier as you continue up the ladder, unable to pause for a quick respite. The splintering of wood has grown louder, closer.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue Climbing-&gt;Climbing 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="139" name="Climbing 2" tags="" position="760,17245" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[...]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue Climbing-&gt;Climbing 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="140" name="Climbing 3" tags="" position="760,17406" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Your legs burn with each step you take, sweat drips down your hands and arms. Splinters run into your hands, burrowing deeper as you throw yourself onto the coarse oaken mass sprawling into infinity. ]]

|sample2)[(transition: &quot;dissolve&quot;)[You climb faster and faster as you hear the rungs splitting and snapping below, torn apart by entities lurking in the darkness, or perhaps the abyss itself. Youve come too far to fail. 
]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue Climbing-&gt;Climbing 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="141" name="Climbing 4" tags="" position="759,17567" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[...]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue Climbing-&gt;Climbing 5]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="142" name="Climbing 5" tags="" position="755,17723" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[...]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue Climbing-&gt;Climbing 6]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="143" name="Climbing 6" tags="" position="757,17861" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[...]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue Climbing-&gt;Climbing 7]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="144" name="Climbing 7" tags="" position="751,18042" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Your arms and legs scream in agony as you blindly hurl yourself to another rung, only to be met with nothing. Just as the panic sets, you are met with a feeling that you havent experienced in ages, wind.]]

|sample2)[(transition: &quot;dissolve&quot;)[Although you can&#39;t see whats beyond, you know that just above you lies open skies. This is it, this is the moment youve dreamt of, trapped within the inescapable oblivion.]]

|sample3)[(transition: &quot;dissolve&quot;)[You reach up and run your hand atop a cold surface. Ground, you think to yourself, finding purchase above the void. One final push is all you need.
]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Escape-&gt;Beginning of the End]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="145" name="Beginning of the End" tags="" position="749,18198" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Darkness engulfs you, however, it no longer carries the same emptiness as the void you previously navigated. This darkness is natural, it&#39;s the darkness of the open sky. You roll over on your back, exhausted from your climb.]]

|sample2)[(transition: &quot;dissolve&quot;)[You gaze upon an endless sea of stars that dot the evening horizon. You are free, you begin closing your eyes, the ground is cold and unwelcoming, but after what you&#39;ve been through, any surface seems like a luxurious bed. You take one final glimpse at the stars above, then doze off to sleep.]]

|sample3)[(transition: &quot;dissolve&quot;)[It isnt before long that you&#39;re woken up by the sound of raised voices.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Beginning of the End 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="146" name="Beginning of the End 2" tags="" position="756,18355" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Your body quickly shoots up. Any feeling of fatigue has been overridden by a rush of adrenaline. Youve come too far, been through too much. You&#39;re ready for whatever may come next. That is, until you see her.]]

|sample2)[(transition: &quot;dissolve&quot;)[You realize that you&#39;re standing on the roof of a building, and only a short distance away, standing on its edge, is your best friend, Joy.  You should be overcome with happiness, if it werent for the fact that someone else is there. Someone who Joy appears to be in a heated argument, someone who, although you cant see their face, can immediately identify.]]

|sample3)[(transition: &quot;dissolve&quot;)[That someone, is you.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Save Joy-&gt;Beginning of the End 3]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="147" name="Beginning of the End 3" tags="" position="758,18509" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[You break into a sprint. Your legs scream out in pain, still reeling from the arduous climb, but you dont care, you know what&#39;s going to happen next. You know what you did.]]

|sample2)[(transition: &quot;dissolve&quot;)[Youll be there in a fraction of a second, but its already too late. Just as you&#39;re about to reach out and grab your copy self, you hear a blood-curdling scream. ]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Joy has fallen-&gt;Beginning of the End 4]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="148" name="Beginning of the End 4" tags="" position="756,18670" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Joy has fallen off the roof.]]

|sample2)[(transition: &quot;dissolve&quot;)[Joy has fallen off the roof, onto the solid ground below.]]

|sample3)[(transition: &quot;dissolve&quot;)[Joy has fallen off the roof, and is now dead.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Fallen, you say?-&gt;Beginning of the End 5]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="149" name="Beginning of the End 5" tags="" position="758,18818" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[The clone turns towards you, its expression blank, but its tone full of malice and scorn.]]

|sample2)[(transition: &quot;dissolve&quot;)[Even after all this time, after you see it happen right before your eyes, you still run away from the truth.]]

|sample3)[(transition: &quot;dissolve&quot;)[Fine, I guess I&#39;ll just have to spell it out to you in terms you can understand.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Joy is pushed-&gt;Beginning of the End 6]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="150" name="Beginning of the End 6" tags="" position="755,18992" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Joy is pushed off the top of the roof.]]

|sample2)[(transition: &quot;dissolve&quot;)[Joy is pushed off the top of the roof, onto the solid ground below.]]

|sample3)[(transition: &quot;dissolve&quot;)[Joy is pushed off the roof, and is now dead, having been murdered by you.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Beginning of the End 7]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="151" name="Beginning of the End 7" tags="" position="762,19156" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[Your legs buckle from underneath youonce again, exhaustion consumes your senses. You remember everything. The pitiful existence that was your life, and how Joy was the only one who brought you meaning.]]

|sample2)[(transition: &quot;dissolve&quot;)[That is until even that small token of relief was stolen away from you. Stolen away by a man you had never even met, a man who you knew didnt care about Joy the way you did, but still, Joy picked him over you. ]]

|sample3)[(transition: &quot;dissolve&quot;)[Which is why you argued endlessly with her on the night of her engagement. A bitter back and forth of betrayal and vitriol. You cant remember her final words to you, what caused you to finally snap, all you remember is the look of sheer terror on her face as she plummeted from the building and onto the walkway below.
]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Beginning of the End 8]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="152" name="Beginning of the End 8" tags="" position="759,19303" size="100,100">(set: $transCounter to 1)\

|sample1)[(transition: &quot;dissolve&quot;)[Your clone is gone. The ground below opens into the abyss, an abyss that consumes everything around you, until there is nothing. Your mind has been devoured with it, along with reality itself. ]]

|sample2)[(transition: &quot;dissolve&quot;)[The darkness beckons, with its sweet promise of absolute emptiness. You embrace it, watching as it slowly consumes you, eagerly anticipating the moment it devours you completely.]]

|sample3)[(transition: &quot;dissolve&quot;)[You will finally be free, free of the madness, of the torment, of her. Your vision goes blank. You brace yourself for the final release.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending A]]]]

|sample7)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending B]]]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending C]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3 )[
			(show: ?sample3)
		]
		(else-if: ($transCounter is 4) and ($dollPoints &gt; $therapistPoints) )[
			(show: ?sample6)
		]
		(else-if: ($transCounter is 4) and ($dollPoints is $therapistPoints) )[
			(show: ?sample7)
		]
		(else-if: ($transCounter is 4) and ($dollPoints &lt; $therapistPoints))[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="153" name="Ending A" tags="" position="226,19569" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[&quot;What do you think youre doing back here, so close to the end...? You&#39;ve gotten here to lose to that? That&#39;s pathetic.]]]

|sample2)[(transition: &quot;dissolve&quot;)[The dolls voice echoes in the abyssa cynical yet welcome sound at the end. You clutch the doll tightly as the void enveloping you erupts into a roar, the clouds of swirling darkness growing closer, a torrent of wind separating its tendrils to reveal the roof from where you fell. 
]]

|sample3)[(transition: &quot;dissolve&quot;)[Oh, it seems youve decided to come back. Havent you done enough already? The clone chides you, observing your return.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending A1]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="154" name="Ending B" tags="" position="777,19552" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Claire, I need you to snap out of it.]]]

|sample2)[(transition: &quot;dissolve&quot;)[The intercom impossibly crackles within the void between your ears, but this time it is human, frail, and mortal. Hearing it now, it surprises you. The static is gone. The void that surrounded you has washed away, leaving you on the roof. You see your reflection staring at you.]]

|sample3)[(transition: &quot;dissolve&quot;)[Oh, youve returned. Havent you done enough already? It chides. Your head is throbbing, overcome by a thousand memories, thoughts.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending B1]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="155" name="Ending C" tags="" position="1524,19607" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[As your body is devoured by the abyss, your mind slowly comes to a revelation. You had become so absorbed into your own psyche, that you had forgotten how to wield it.]]

|sample2)[(transition: &quot;dissolve&quot;)[Centimeter by centimeter, you learn how to conjure the void, warping and twisting it until it shatters, dropping you back onto the roof. Your alternate self stares at you, quizzically.]]

|sample3)[(transition: &quot;dissolve&quot;)[Oh, it seems youve decided to come back. Havent you done en-. The clone is silenced, its presence erased from your reality.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending C1]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="156" name="Ending A1" tags="" position="226,19719" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[Anger bubbles into your mind under her mockery. The doll cackles as your fists clench, her shattered eyes peering up to you.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Get angry! Retaliate against the one who keeps us chained here. All of them! The doppelganger, those voices, curse them! You didnt murder Joy! This is all a part of the houses sick game. The Intercom, that voice is behind it all!]]]

|sample3)[(transition: &quot;dissolve&quot;)[The dolls words ring true within your head, imbuing you with newfound purpose. There will be no end to your torment without rooting out the lies or cutting off the source. 
]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Approach the Edge of the Roof-&gt;Ending A2]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="157" name="Ending A2" tags="" position="226,19869" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Can you not see it too? The invalidity of this supposed truth? The one the voice feeds us, the lie he propagated? ]]]


|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Look Down-&gt;Ending A3]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="158" name="Ending A3" tags="" position="226,20019" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[Below, from the edge of the roof where Joy fell, is light. A light so spectacular, so brilliant, that your eyes tear up from its luminescence. ]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[There is no Joy, the fool was just trying to trick you from finding the exit, but he failed to bury the truth in his deceit.]]]

|sample3)[(transition: &quot;dissolve&quot;)[The dolls voice drips with honesty, each word emboldened by passion; there is no Joy. None of this was ever real, this entire ordeal has been a ruse, a gauntlet of suffering all for the cruel amusement of him. All thats left is the radiant light below.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Take the Plunge-&gt;Ending A4]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="159" name="Ending A4" tags="" position="226,20169" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[As you plunge into the luminest below, you hear the doll scream between the radiant beams,]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Remember my words Claire, it will never end until the lies end, and it must end.]]]

|sample3)[(transition: &quot;dissolve&quot;)[You collide with the light, and your consciousness slips away.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending A5]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="160" name="Ending A5" tags="" position="226,20319" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[Your eyes open, as if the weight of the world was carried upon them. Your surroundings flicker, mold into view. The room is immaculate, its furnishings bare, with pure white walls towering over you.]]

|sample2)[(transition: &quot;dissolve&quot;)[You find yourself in the center, lying on unmade sheets of a cream-colored bed. Then you hear his voice. It is void of the horrible, monotone shrill yet the tone is unmistakable.]]

|sample3)[(transition: &quot;dissolve&quot;)[ It&#39;s him. The lies will not leave his throat. You know what must be done.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Kill Him-&gt;Ending A6]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="161" name="Ending A6" tags="" position="226,20469" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[Adrenaline surges through your body as it flies through the air, the brunt of your weight smashing into him.]]

|sample2)[(transition: &quot;dissolve&quot;)[The man braces as hes hit yet his footing gives way, causing him to topple over and bash his head against the metal door. Hes dazed, soaking in a pool of his own blood.]]

|sample3)[(transition: &quot;dissolve&quot;)[His hand loosens as he struggles to earn his bearing, a blue metallic pen clattering to the linoleum tiles as he pushes himself from the ground.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Take the Pen-&gt;Ending A8]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="162" name="Ending A8" tags="" position="226,20619" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[You dive for the pen, gripping it tightly before he can react. He&#39;s back on his feet but its too late, youve determined to free yourself from that eternal purgatory.
]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Stab-&gt;Ending A9]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="163" name="Ending A9" tags="" position="226,20769" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[You lunge first, your muscles blazing as the pen sinks into the side of his neck. He howls, begging for mercy as he realizes hes lost.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Stab-&gt;Ending A10]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="164" name="Ending A10" tags="" position="226,20919" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[The bloodied pen wrestles free of the mans neck, carving its way through the air before it plunges deep into his nape and releases a fountain of blood.]]

|sample2)[(transition: &quot;dissolve&quot;)[The man doesnt even scream as his body crashes to the floor, his shirt slick with red crimson.]]

|sample3)[(transition: &quot;dissolve&quot;)[You hear a flurry of footstepsalarms blaringyou have to finish this.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Stab-&gt;Ending A11]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="165" name="Ending A11" tags="" position="226,21069" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[The pen thrusts again and again until the tip snaps off in a spray of ink, yet your arm still carries it deeper into his scalp.]]

|sample2)[(transition: &quot;dissolve&quot;)[Blood and brain matter covers your skin, your hands, your pale-blue gown. You raise it high for the final blow, but a thousand icy hands engulf you, dragging you, ripping you away.]]

|sample3)[(transition: &quot;dissolve&quot;)[It doesnt matter. He is dead; you have won.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending A12]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="166" name="Ending A12" tags="" position="226,21220" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[You dont know how long it&#39;s been since you escaped. Days, weeks, months, years? It doesnt matter, all you know is that youre free. ]]

|sample2)[(transition: &quot;dissolve&quot;)[The memories, the guilt, the nightmares, all gone.You are still locked away. You sit invariably, boxed within an immaculate, porcelain white cube, twenty feet in all directions, with only a skylight to illuminate your face. The walls are padded, your arms are bound, but your mind is of the voices, of the lies.]]

|sample3)[(transition: &quot;dissolve&quot;)[There is nothing here but you, and that misshapen amalgam of plaster, string, and twine ten feet from every wall, perfectly lit within the light.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending A13]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="167" name="Ending A13" tags="" position="226,21370" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[She sits upright within the center of your porcelain palace and looks into your glazed, lifeless eyes.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Even in a world as twisted as ours, Ill always be by your side.]]]

|sample3)[(transition: &quot;dissolve&quot;)[The doll grins.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Final Ending]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="168" name="Final Ending" tags="" position="828,21104" size="100,100">(set: $transCounter to 1)\

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #009E60; font-size: 64px;&quot;)[The End?]]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[What if...I just forget everything...Therapy...wasn&#39;t so bad afterall...-&gt;Start]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="169" name="Ending B1" tags="" position="777,19702" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[Claire, please.]]]

|sample2)[(transition: &quot;dissolve&quot;)[The cracking voice is pleading now.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[I know what happened, thats why you came here. Let go of that burden, be free. ]]]

|sample4)[(transition: &quot;dissolve&quot;)[You see your copy become irritated, lashing out violently.]]

|sample5)[(transition: &quot;dissolve&quot;)[How could you possibly know the truth, you know nothing, just like everyone else!]]

|sample5)[(transition: &quot;dissolve&quot;)[You almost agree. You were the one to blame, the one who pushed Joy off the ledge. Why is the voice fighting for you?]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending B2]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="170" name="Ending B2" tags="" position="777,19852" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample6)]

|sample1)[(transition: &quot;dissolve&quot;)[The voice struggles against your mind, its echoes bobbing to the surface, wrestling against the current.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[ Ive told you since the beginning, Claire, I need you to remember. think into your past]]]

|sample3)[(transition: &quot;dissolve&quot;)[The voice thrashes within your skull, drowning into your memories. You hear its distant echo surface, if only for a moment.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[about what you were trying to do on that rooftop, to Joy.]]]

|sample5)[(transition: &quot;dissolve&quot;)[The answer is obvious, yet the question dominates you. Your head writhes and aches as it conjures that memory, your arm reaching out, Joy suspended in space, in time. You pause, the colors, sounds, and lights flooding your eyes, but something is different.]]

|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending B3]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample6)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="171" name="Ending B3" tags="" position="777,20002" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[Joy stands across from you on the rooftop. Your voices freshly spent, the screams now transform into garbles, bitter overtures. Joy walks off to the edge, the spot, the haven the two of you snuck away to as children.]]

|sample2)[(transition: &quot;dissolve&quot;)[Nostalgia rushes over as you recall those golden days and eternal nights. Days where you would spend hours laughing with Joy, the two of you cooking in the summer sun. Nights that you wished never ended, as you stared into an endless abyss of the star-studded sky.]]

|sample3)[(transition: &quot;dissolve&quot;)[The sweet memories wash everything else away. You move towards Joy, the apology hanging to your lips, your body ready to relive those days of youthful bliss. Joy stands at the edge.]]

|sample4)[(transition: &quot;dissolve&quot;)[She turns around, eyes your smile, and puts on that iconic grin, tears still running down her face. Then it happens. Joy loses her balance while she turns. Her smile evaporates, a panic shoots through her body. ]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending B4]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="172" name="Ending B4" tags="" position="777,20152" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[You remember sprinting to the edge, hand outstretched. You go for her hand, grasp it, but its too late. Joy&#39;s fingers slip from yours, and her life is whisked away, forever.]]

|sample2)[(transition: &quot;dissolve&quot;)[Tears well up in your eyes. You remember now, you truly remember everything. You were trying to save her. You failed.]]

|sample3)[(transition: &quot;dissolve&quot;)[The voice is gone, its bearer washed away within the ocean of your mind. It&#39;s reverberance is all that remains]]

|sample4)[(transition: &quot;dissolve&quot;)[When you find the truth Claire, remember this: no matter how bitter it may be, it is yours and yours alone; you can only grow from accepting it.]]

|sample5)[(transition: &quot;dissolve&quot;)[ You look around, your vision coming back to you from the sea of tears spilling onto the ground. Your other self is gone. Within you, somethings presence has been lifted, but you cant recall what it was.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending B5]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="173" name="Ending B5" tags="" position="777,20302" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[A moment passes, and you steel yourself, mustering the courage to crawl towards the edge. You know what you must do.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Sit on the Edge-&gt;Sitting on the edge]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="174" name="Sitting on the edge" tags="" position="777,20452" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[You lie on the edge of the roof, a foreign wind sweeping your feet as they dangle off the sides, causing an uncorrupted, nostalgic sensation you thought was lost to time. You turn to your right, sitting right beside you, looking as radiant and vibrant as ever, is Joy.]]

|sample2)[(transition: &quot;dissolve&quot;)[A million words flood your mouth, yet your lips only quiver. Joy chuckles at the sight of you.]]

|sample3)[(transition: &quot;dissolve&quot;)[Still the quiet one, I suppose. Her words alleviate your worry, unshackle you from your guilt, your transgressions.]]

|sample4)[(transition: &quot;dissolve&quot;)[Then your mouth goes free. You talk for hours. Sharing laughs, memories, and tears. ]]

|sample5)[(transition: &quot;dissolve&quot;)[Before you know it, the abyss above turns to a burgeoning dawn.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending B6]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else-if: $transCounter is 6)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="175" name="Ending B6" tags="" position="777,20602" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[I guess it&#39;s about time, then Joy says dejectedly.]]

|sample2)[(transition: &quot;dissolve&quot;)[You nod your head. A part of you wishes that this moment could last forever, but you know that it wouldnt be right.]]

|sample3)[(transition: &quot;dissolve&quot;)[This place is still a prison: no matter how pleasant your cell, it cannot substitute the freedom of reality.]]

|sample4)[(transition: &quot;dissolve&quot;)[Joy stares at you, stuck in thought. Then, her mind concluded, she flashes you the biggest smile you&#39;ve ever seen.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Gaze Onward-&gt;Ending B7]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="176" name="Ending B7" tags="" position="777,20752" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[You share one last glance before your eyes trail off towards the orange sky.]]

|sample2)[(transition: &quot;dissolve&quot;)[You feel light envelop you as the sun breaches the horizon, the burden you carried burned away as dawn approaches.]]

|sample3)[(transition: &quot;dissolve&quot;)[The world beyond the house is slowly illuminated as the luminous glow reveals the colors of trees and foliage.]]

|sample4)[(transition: &quot;dissolve&quot;)[Although you&#39;re uncertain of what reality brings, you feel prepared for whatever comesyour mind is unshackled from your past; your body is free to escape this illusion. ]]

|sample5)[(transition: &quot;dissolve&quot;)[Those matters can wait for now. You smile, basking in the light of a new day.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Final Ending]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		](else-if: $transCounter is 6)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="177" name="Ending C1" tags="" position="1524,19757" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Wow, I didnt think you had it in you, for a second-.]]]

|sample2)[(transition: &quot;dissolve&quot;)[The doll falls from your hand, falling through the ground, through space, until it is consumed by the void below. You feel a grin spread across your face.]]

|sample3)[(transition: &quot;dissolve&quot;)[This is your reality. It is under your command.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending C2]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="178" name="Ending C2" tags="" position="1524,19907" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 72px;&quot;)[It seems you understand now.]]]
|sample2)[(transition: &quot;dissolve&quot;)[The cold static of the intercom suddenly explodes within the space between your ears, its tone now void of all emotion, each word drowning in static.]]
|sample3)[(transition: &quot;dissolve&quot;)[You struggle to nod your head, aware that the voice is watching from somewhere, although not for much longer.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending C3]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="179" name="Ending C3" tags="" position="1524,20057" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 72px;&quot;)[So, you know where it is that you are, what is this all for?]]]
|sample2)[(transition: &quot;dissolve&quot;)[You nod again. Theres a pause, with the monotone pulsating within your mind before he returns.]]
|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 72px;&quot;)[If you know, then... why?&quot;]]]
|sample4)[(transition: &quot;dissolve&quot;)[What a terrible question. You decide to give him a demonstration.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Recreate Reality-&gt;Ending C4]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="180" name="Ending C4" tags="" position="1524,20207" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[The rooftop crumples inward, the sky sinks, and soon, the entire world collapses in on itself. Then, just as it disappears, reality is reborn.]]
|sample2)[(transition: &quot;dissolve&quot;)[You wake up in your childhood bedroom, exactly as you remember. As you mozy out of bed, you hear Moms call from the kitchen.]]
|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00ccff; font-size: 36px;&quot;)[Claire, dear, could you hurry on down? Your breakfast is starting to get cold!]]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending C5]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="181" name="Ending C5" tags="" position="1525,20357" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[You eagerly race to put on your clothes and rush down the stairs. You trip into the kitchen, where a platter of pancakes and bacon adorns the strawberry tablecloth.]]
|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #00ccff; font-size: 36px;&quot;)[Claire, dear, you have to start going to bed earlier! It isnt healthy for girls your age to stay up so late!]]]
|sample3)[(transition: &quot;dissolve&quot;)[Mom scolds you.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending C6]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="182" name="Ending C6" tags="" position="1525,20507" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff0000; font-size: 36px;&quot;)[Come on, honey, dont give Claire such a hard time, shes wide awake, isn&#39;t that right, sweetie?]]]
|sample2)[(transition: &quot;dissolve&quot;)[You see your father sitting on the recliner in the family room. He flashes you a quick smile before returning to the morning newspaper.]]
|sample3)[(transition: &quot;dissolve&quot;)[After finishing breakfast, you dash to the front door, excited to meet up with your best friend. Fortunately, shes standing just outside the door, her iconic smile eagerly greeting you.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Ending C7]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="183" name="Ending C7" tags="" position="1525,20657" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample8)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: ffe000; font-size: 36px;&quot;)[What took you so long, Claire? Come on, we gotta hurry or else we&#39;re gonna be late!]]]
|sample2)[(transition: &quot;dissolve&quot;)[Joys hand envelops yours as you both bound the curb, racing towards the bus.]]
|sample3)[(transition: &quot;dissolve&quot;)[Today is going to be a perfect day, you think to yourself, and the day after, and the day after that. Everyday will be a perfect one, in this new, beautiful world.]]

|sample8)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Continue-&gt;Final Ending]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample8)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="184" name="Start" tags="" position="153,76" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample1, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 72px;&quot;)[&quot;Tell me about yourself.&quot;]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Next-&gt;The Beginning]]]]








|sample6)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #c07eff; font-size: 36px;&quot;)[&quot;Tell me about yourself.&quot;]]]
{
	(live: 3s)[
		(set: $transCounter to it + 1)
		(if: $transCounter is 2)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}
</tw-passagedata><tw-passagedata pid="185" name="The Room Passage Post Doll" tags="" position="498,1150" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3)]

|sample1)[(transition: &quot;dissolve&quot;)[You recognize the couch, the fireplace, the TV, and most immediately, the gilded portrait adorned to the wall.]]

|sample2)[(transition: &quot;dissolve&quot;)[It&#39;s a perfect copy of one hanging in the family room of your old childhood home, with the exception that the subject of the horrible thing has been rendered completely unrecognizable.]]

|sample3)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px;&quot;)[[Return-&gt;The Next Passage Post Doll]]]]

{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)

		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="186" name="Examine Doors Past Door 2" tags="" position="12,9388" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[The door stands ajar, but there is no room behind the doorway.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Guess we cant head back.]]]

|sample3)[(transition: &quot;dissolve&quot;)[The doll grins.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Not like we wanted to in the first place.]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Door Passage Post Door 2]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata><tw-passagedata pid="187" name="Examine Doors Past Door 3" tags="" position="11,12979" size="100,100">(set: $transCounter to 1)\
(click: ?Page)[(show: ?sample2, ?sample3, ?sample4, ?sample5)]

|sample1)[(transition: &quot;dissolve&quot;)[The door stands ajar, but there is no room behind the doorway.]]

|sample2)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Guess we cant head back.]]]

|sample3)[(transition: &quot;dissolve&quot;)[The doll grins.]]

|sample4)[(transition: &quot;dissolve&quot;)[(css: &quot;color: #ff8127; font-size: 36px;&quot;)[Not like we wanted to in the first place.]]]

|sample5)[(transition: &quot;dissolve&quot;)[(css: &quot;font-size: 36px; padding-right: 20px;&quot;)[[Return-&gt;The Doors]]]]
{
	(show: ?sample1)
	(live: 3s)[
		(set: $transCounter to it + 1)
		
		(if: $transCounter is 1)[
			(show: ?sample1)
		]
		(else-if: $transCounter is 2)[
			(show: ?sample2)
		]
		(else-if: $transCounter is 3)[
			(show: ?sample3)
		]
		(else-if: $transCounter is 4)[
			(show: ?sample4)
		]
		(else-if: $transCounter is 5)[
			(show: ?sample5)
		]
		(else:)[
			(stop:)
		]
	]
}</tw-passagedata></tw-storydata>
<script title="Twine engine code" data-main="harlowe">"use strict";var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(){
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */var requirejs,require,define,root,factory;!function(e){var t,n,r,a,i={},o={},s={},c={},u=Object.prototype.hasOwnProperty,l=[].slice,p=/\.js$/;function f(e,t){return u.call(e,t)}function d(e,t){var n,r,a,i,o,c,u,l,f,d,h,y=t&&t.split("/"),m=s.map,g=m&&m["*"]||{};if(e){for(o=(e=e.split("/")).length-1,s.nodeIdCompat&&p.test(e[o])&&(e[o]=e[o].replace(p,"")),"."===e[0].charAt(0)&&y&&(e=y.slice(0,y.length-1).concat(e)),f=0;f<e.length;f++)if("."===(h=e[f]))e.splice(f,1),f-=1;else if(".."===h){if(0===f||1===f&&".."===e[2]||".."===e[f-1])continue;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}if((y||g)&&m){for(f=(n=e.split("/")).length;f>0;f-=1){if(r=n.slice(0,f).join("/"),y)for(d=y.length;d>0;d-=1)if((a=m[y.slice(0,d).join("/")])&&(a=a[r])){i=a,c=f;break}if(i)break;!u&&g&&g[r]&&(u=g[r],l=f)}!i&&u&&(i=u,c=l),i&&(n.splice(0,c,i),e=n.join("/"))}return e}function h(t,r){return function(){var a=l.call(arguments,0);return"string"!=typeof a[0]&&1===a.length&&a.push(null),n.apply(e,a.concat([t,r]))}}function y(e){return function(t){i[e]=t}}function m(n){if(f(o,n)){var r=o[n];delete o[n],c[n]=!0,t.apply(e,r)}if(!f(i,n)&&!f(c,n))throw new Error("No "+n);return i[n]}function g(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function v(e){return e?g(e):[]}r=function(e,t){var n,r,a=g(e),i=a[0],o=t[1];return e=a[1],i&&(n=m(i=d(i,o))),i?e=n&&n.normalize?n.normalize(e,(r=o,function(e){return d(e,r)})):d(e,o):(i=(a=g(e=d(e,o)))[0],e=a[1],i&&(n=m(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},a={require:function(e){return h(e)},exports:function(e){var t=i[e];return void 0!==t?t:i[e]={}},module:function(e){return{id:e,uri:"",exports:i[e],config:function(e){return function(){return s&&s.config&&s.config[e]||{}}}(e)}}},t=function(t,n,s,u){var l,p,d,g,b,w,T,S=[],x=void 0===s?"undefined":_typeof(s);if(w=v(u=u||t),"undefined"===x||"function"===x){for(n=!n.length&&s.length?["require","exports","module"]:n,b=0;b<n.length;b+=1)if("require"===(p=(g=r(n[b],w)).f))S[b]=a.require(t);else if("exports"===p)S[b]=a.exports(t),T=!0;else if("module"===p)l=S[b]=a.module(t);else if(f(i,p)||f(o,p)||f(c,p))S[b]=m(p);else{if(!g.p)throw new Error(t+" missing "+p);g.p.load(g.n,h(u,!0),y(p),{}),S[b]=i[p]}d=s?s.apply(i[t],S):void 0,t&&(l&&l.exports!==e&&l.exports!==i[t]?i[t]=l.exports:d===e&&T||(i[t]=d))}else t&&(i[t]=s)},requirejs=require=n=function(i,o,c,u,l){if("string"==typeof i)return a[i]?a[i](o):m(r(i,v(o)).f);if(!i.splice){if((s=i).deps&&n(s.deps,s.callback),!o)return;o.splice?(i=o,o=c,c=null):i=e}return o=o||function(){},"function"==typeof c&&(c=u,u=l),u?t(e,i,o,c):setTimeout(function(){t(e,i,o,c)},4),n},n.config=function(e){return n(e)},requirejs._defined=i,(define=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),f(i,e)||f(o,e)||(o[e]=[e,t,n])}).amd={jQuery:!0}}(),define("almond",function(){}),
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
root=this,factory=function(){var e,t,n=Function.call.bind(Function.apply),r=Function.call.bind(Function.call),a=Array.isArray,i=Object.keys,o=function(e){try{return e(),!1}catch(e){return!0}},s=function(e){try{return e()}catch(e){return!1}},c=(e=o,function(){return!n(e,this,arguments)}),u=!!Object.defineProperty&&!o(function(){return Object.defineProperty({},"x",{get:function(){}})}),l="foo"===function(){}.name,p=Function.call.bind(Array.prototype.forEach),f=Function.call.bind(Array.prototype.reduce),d=Function.call.bind(Array.prototype.filter),h=Function.call.bind(Array.prototype.some),y=function(e,t,n,r){!r&&t in e||(u?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},m=function(e,t,n){p(i(t),function(r){var a=t[r];y(e,r,a,!!n)})},g=Function.call.bind(Object.prototype.toString),v="function"==typeof/abc/?function(e){return"function"==typeof e&&"[object Function]"===g(e)}:function(e){return"function"==typeof e},b=function(e,t,n){if(!u)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},w=function(e,t,n){if(!u)throw new TypeError("getters require true ES5 support");var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return e[t]},set:function(n){e[t]=n}})},T=function(e,t,n){if(u){var r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else e[t]=n},S=function(e,t,n){u?Object.defineProperty(e,t,n):"value"in n&&(e[t]=n.value)},x=function(e,t){t&&v(t.toString)&&y(e,"toString",t.toString.bind(t),!0)},k=Object.create||function(e,t){var n=function(){};n.prototype=e;var r=new n;return void 0!==t&&i(t).forEach(function(e){S(r,e,t[e])}),r},O=function(e,t){return!!Object.setPrototypeOf&&s(function(){var n=function t(n){var r=new e(n);return Object.setPrototypeOf(r,t.prototype),r};return Object.setPrototypeOf(n,e),n.prototype=k(e.prototype,{constructor:{value:n}}),t(n)})},j=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),A=j.isFinite,C=Function.call.bind(String.prototype.indexOf),E=Function.apply.bind(Array.prototype.indexOf),_=Function.call.bind(Array.prototype.concat),N=Function.call.bind(String.prototype.slice),P=Function.call.bind(Array.prototype.push),I=Function.apply.bind(Array.prototype.push),M=Function.call.bind(Array.prototype.shift),D=Math.max,R=Math.min,L=Math.floor,F=Math.abs,q=Math.exp,V=Math.log,H=Math.sqrt,z=Function.call.bind(Object.prototype.hasOwnProperty),W=function(){},$=j.Map,B=$&&$.prototype.delete,U=$&&$.prototype.get,G=$&&$.prototype.has,X=$&&$.prototype.set,J=j.Symbol||{},Y=J.species||"@@species",K=Number.isNaN||function(e){return e!=e},Z=Number.isFinite||function(e){return"number"==typeof e&&A(e)},Q=v(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t?t:K(t)?t:t<0?-1:1},ee=function(e){var t=Number(e);return t<-1||K(t)?NaN:0===t||t===1/0?t:-1===t?-1/0:1+t-1==0?t:t*(V(1+t)/(1+t-1))},te=function(e){return"[object Arguments]"===g(e)},ne=te(arguments)?te:function(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==g(e)&&"[object Function]"===g(e.callee)},re=function(e){return null===e||"function"!=typeof e&&"object"!==(void 0===e?"undefined":_typeof(e))},ae=function(e){return"[object String]"===g(e)},ie=function(e){return"[object RegExp]"===g(e)},oe=function(e){return"function"==typeof j.Symbol&&"symbol"===(void 0===e?"undefined":_typeof(e))},se=function(e,t,n){var r=e[t];y(e,t,n,!0),x(e[t],r)},ce="function"==typeof J&&"function"==typeof J.for&&oe(J()),ue=oe(J.iterator)?J.iterator:"_es6-shim iterator_";j.Set&&"function"==typeof(new j.Set)["@@iterator"]&&(ue="@@iterator"),j.Reflect||y(j,"Reflect",{},!0);var le,pe=j.Reflect,fe=String,de="undefined"!=typeof document&&document?document.all:null,he=null==de?function(e){return null==e}:function(e){return null==e&&e!==de},ye={Call:function(e,t){var r=arguments.length>2?arguments[2]:[];if(!ye.IsCallable(e))throw new TypeError(e+" is not a function");return n(e,t,r)},RequireObjectCoercible:function(e,t){if(he(e))throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return null!=e&&!0!==e&&!1!==e&&("function"==typeof e||"object"===(void 0===e?"undefined":_typeof(e))||e===de)},ToObject:function(e,t){return Object(ye.RequireObjectCoercible(e,t))},IsCallable:v,IsConstructor:function(e){return ye.IsCallable(e)},ToInt32:function(e){return ye.ToNumber(e)>>0},ToUint32:function(e){return ye.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===g(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=ye.ToNumber(e);return K(t)?0:0!==t&&Z(t)?(t>0?1:-1)*L(F(t)):t},ToLength:function(e){var t=ye.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0!==e||1/e==1/t:K(e)&&K(t)},SameValueZero:function(e,t){return e===t||K(e)&&K(t)},IsIterable:function(e){return ye.TypeIsObject(e)&&(void 0!==e[ue]||ne(e))},GetIterator:function(e){if(ne(e))return new t(e,"value");var n=ye.GetMethod(e,ue);if(!ye.IsCallable(n))throw new TypeError("value is not an iterable");var r=ye.Call(n,e);if(!ye.TypeIsObject(r))throw new TypeError("bad iterator");return r},GetMethod:function(e,t){var n=ye.ToObject(e)[t];if(!he(n)){if(!ye.IsCallable(n))throw new TypeError("Method not callable: "+t);return n}},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=ye.GetMethod(e,"return");if(void 0!==n){var r,a;try{r=ye.Call(n,e)}catch(e){a=e}if(!t){if(a)throw a;if(!ye.TypeIsObject(r))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ye.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=ye.IteratorNext(e);return!ye.IteratorComplete(t)&&t},Construct:function(e,t,n,r){var a=void 0===n?e:n;if(!r&&pe.construct)return pe.construct(e,t,a);var i=a.prototype;ye.TypeIsObject(i)||(i=Object.prototype);var o=k(i),s=ye.Call(e,o,t);return ye.TypeIsObject(s)?s:o},SpeciesConstructor:function(e,t){var n=e.constructor;if(void 0===n)return t;if(!ye.TypeIsObject(n))throw new TypeError("Bad constructor");var r=n[Y];if(he(r))return t;if(!ye.IsConstructor(r))throw new TypeError("Bad @@species");return r},CreateHTML:function(e,t,n,r){var a=ye.ToString(e),i="<"+t;""!==n&&(i+=" "+n+'="'+ye.ToString(r).replace(/"/g,"&quot;")+'"');return i+">"+a+"</"+t+">"},IsRegExp:function(e){if(!ye.TypeIsObject(e))return!1;var t=e[J.match];return void 0!==t?!!t:ie(e)},ToString:function(e){return fe(e)}};if(u&&ce){var me=function(e){if(oe(J[e]))return J[e];var t=J.for("Symbol."+e);return Object.defineProperty(J,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!oe(J.search)){var ge=me("search"),ve=String.prototype.search;y(RegExp.prototype,ge,function(e){return ye.Call(ve,e,[this])});se(String.prototype,"search",function(e){var t=ye.RequireObjectCoercible(this);if(!he(e)){var n=ye.GetMethod(e,ge);if(void 0!==n)return ye.Call(n,e,[t])}return ye.Call(ve,t,[ye.ToString(e)])})}if(!oe(J.replace)){var be=me("replace"),we=String.prototype.replace;y(RegExp.prototype,be,function(e,t){return ye.Call(we,e,[this,t])});se(String.prototype,"replace",function(e,t){var n=ye.RequireObjectCoercible(this);if(!he(e)){var r=ye.GetMethod(e,be);if(void 0!==r)return ye.Call(r,e,[n,t])}return ye.Call(we,n,[ye.ToString(e),t])})}if(!oe(J.split)){var Te=me("split"),Se=String.prototype.split;y(RegExp.prototype,Te,function(e,t){return ye.Call(Se,e,[this,t])});se(String.prototype,"split",function(e,t){var n=ye.RequireObjectCoercible(this);if(!he(e)){var r=ye.GetMethod(e,Te);if(void 0!==r)return ye.Call(r,e,[n,t])}return ye.Call(Se,n,[ye.ToString(e),t])})}var xe=oe(J.match),ke=xe&&((le={})[J.match]=function(){return 42},42!=="a".match(le));if(!xe||ke){var Oe=me("match"),je=String.prototype.match;y(RegExp.prototype,Oe,function(e){return ye.Call(je,e,[this])});se(String.prototype,"match",function(e){var t=ye.RequireObjectCoercible(this);if(!he(e)){var n=ye.GetMethod(e,Oe);if(void 0!==n)return ye.Call(n,e,[t])}return ye.Call(je,t,[ye.ToString(e)])})}}var Ae=function(e,t,n){x(t,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t),u?p(Object.getOwnPropertyNames(e),function(r){r in W||n[r]||w(e,r,t)}):p(Object.keys(e),function(r){r in W||n[r]||(t[r]=e[r])}),t.prototype=e.prototype,T(e.prototype,"constructor",t)},Ce=function(){return this},Ee=function(e){u&&!z(e,Y)&&b(e,Y,Ce)},_e=function(e,t){var n=t||function(){return this};y(e,ue,n),!e[ue]&&oe(ue)&&(e[ue]=n)},Ne=function(e,t,n){if(function(e,t,n){u?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}(e,t,n),!ye.SameValue(e[t],n))throw new TypeError("property is nonconfigurable")},Pe=function(e,t,n,r){if(!ye.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var a=t.prototype;ye.TypeIsObject(a)||(a=n);var i=k(a);for(var o in r)if(z(r,o)){var s=r[o];y(i,o,s,!0)}return i};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Ie=String.fromCodePoint;se(String,"fromCodePoint",function(e){return ye.Call(Ie,this,arguments)})}var Me={fromCodePoint:function(e){for(var t,n=[],r=0,a=arguments.length;r<a;r++){if(t=Number(arguments[r]),!ye.SameValue(t,ye.ToInteger(t))||t<0||t>1114111)throw new RangeError("Invalid code point "+t);t<65536?P(n,String.fromCharCode(t)):(t-=65536,P(n,String.fromCharCode(55296+(t>>10))),P(n,String.fromCharCode(t%1024+56320)))}return n.join("")},raw:function(e){var t=ye.ToObject(e,"bad callSite"),n=ye.ToObject(t.raw,"bad raw value"),r=n.length,a=ye.ToLength(r);if(a<=0)return"";for(var i,o,s,c,u=[],l=0;l<a&&(i=ye.ToString(l),s=ye.ToString(n[i]),P(u,s),!(l+1>=a));)o=l+1<arguments.length?arguments[l+1]:"",c=ye.ToString(o),P(u,c),l+=1;return u.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&se(String,"raw",Me.raw),m(String,Me);var De={repeat:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e);if(n<0||n>=1/0)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return function e(t,n){if(n<1)return"";if(n%2)return e(t,n-1)+t;var r=e(t,n/2);return r+r}(t,n)},startsWith:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var n,r=ye.ToString(e);arguments.length>1&&(n=arguments[1]);var a=D(ye.ToInteger(n),0);return N(t,a,a+r.length)===r},endsWith:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var n,r=ye.ToString(e),a=t.length;arguments.length>1&&(n=arguments[1]);var i=void 0===n?a:ye.ToInteger(n),o=R(D(i,0),a);return N(t,o-r.length,o)===r},includes:function(e){if(ye.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,n=ye.ToString(e);return arguments.length>1&&(t=arguments[1]),-1!==C(this,n,t)},codePointAt:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e),r=t.length;if(n>=0&&n<r){var a=t.charCodeAt(n);if(a<55296||a>56319||n+1===r)return a;var i=t.charCodeAt(n+1);return i<56320||i>57343?a:1024*(a-55296)+(i-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&se(String.prototype,"includes",De.includes),String.prototype.startsWith&&String.prototype.endsWith){var Re=o(function(){return"/a/".startsWith(/a/)}),Le=s(function(){return!1==="abc".startsWith("a",1/0)});Re&&Le||(se(String.prototype,"startsWith",De.startsWith),se(String.prototype,"endsWith",De.endsWith))}ce&&(s(function(){var e=/a/;return e[J.match]=!1,"/a/".startsWith(e)})||se(String.prototype,"startsWith",De.startsWith),s(function(){var e=/a/;return e[J.match]=!1,"/a/".endsWith(e)})||se(String.prototype,"endsWith",De.endsWith),s(function(){var e=/a/;return e[J.match]=!1,"/a/".includes(e)})||se(String.prototype,"includes",De.includes));m(String.prototype,De);var Fe=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),qe=new RegExp("(^["+Fe+"]+)|(["+Fe+"]+$)","g"),Ve=function(){return ye.ToString(ye.RequireObjectCoercible(this)).replace(qe,"")},He=["\x85","\u200b","\ufffe"].join(""),ze=new RegExp("["+He+"]","g"),We=/^[-+]0x[0-9a-f]+$/i,$e=He.trim().length!==He.length;y(String.prototype,"trim",Ve,$e);var Be=function(e){return{value:e,done:0===arguments.length}},Ue=function(e){ye.RequireObjectCoercible(e),this._s=ye.ToString(e),this._i=0};Ue.prototype.next=function(){var e=this._s,t=this._i;if(void 0===e||t>=e.length)return this._s=void 0,Be();var n,r,a=e.charCodeAt(t);return r=a<55296||a>56319||t+1===e.length?1:(n=e.charCodeAt(t+1))<56320||n>57343?1:2,this._i=t+r,Be(e.substr(t,r))},_e(Ue.prototype),_e(String.prototype,function(){return new Ue(this)});var Ge={from:function(e){var t,n,a,i,o,s,c=this;if(arguments.length>1&&(t=arguments[1]),void 0===t)n=!1;else{if(!ye.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2]),n=!0}if(void 0!==(ne(e)||ye.GetMethod(e,ue))){o=ye.IsConstructor(c)?Object(new c):[];var u,l,p=ye.GetIterator(e);for(s=0;!1!==(u=ye.IteratorStep(p));){l=u.value;try{n&&(l=void 0===a?t(l,s):r(t,a,l,s)),o[s]=l}catch(e){throw ye.IteratorClose(p,!0),e}s+=1}i=s}else{var f,d=ye.ToObject(e);for(i=ye.ToLength(d.length),o=ye.IsConstructor(c)?Object(new c(i)):new Array(i),s=0;s<i;++s)f=d[s],n&&(f=void 0===a?t(f,s):r(t,a,f,s)),Ne(o,s,f)}return o.length=i,o},of:function(){for(var e=arguments.length,t=this,n=a(t)||!ye.IsCallable(t)?new Array(e):ye.Construct(t,[e]),r=0;r<e;++r)Ne(n,r,arguments[r]);return n.length=e,n}};m(Array,Ge),Ee(Array),m((t=function(e,t){this.i=0,this.array=e,this.kind=t}).prototype,{next:function(){var e=this.i,n=this.array;if(!(this instanceof t))throw new TypeError("Not an ArrayIterator");if(void 0!==n)for(var r=ye.ToLength(n.length);e<r;e++){var a,i=this.kind;return"key"===i?a=e:"value"===i?a=n[e]:"entry"===i&&(a=[e,n[e]]),this.i=e+1,Be(a)}return this.array=void 0,Be()}}),_e(t.prototype),Array.of===Ge.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}()||se(Array,"of",Ge.of);var Xe={copyWithin:function(e,t){var n,r=ye.ToObject(this),a=ye.ToLength(r.length),i=ye.ToInteger(e),o=ye.ToInteger(t),s=i<0?D(a+i,0):R(i,a),c=o<0?D(a+o,0):R(o,a);arguments.length>2&&(n=arguments[2]);var u=void 0===n?a:ye.ToInteger(n),l=u<0?D(a+u,0):R(u,a),p=R(l-c,a-s),f=1;for(c<s&&s<c+p&&(f=-1,c+=p-1,s+=p-1);p>0;)c in r?r[s]=r[c]:delete r[s],c+=f,s+=f,p-=1;return r},fill:function(e){var t,n;arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]);var r=ye.ToObject(this),a=ye.ToLength(r.length);t=ye.ToInteger(void 0===t?0:t);for(var i=(n=ye.ToInteger(void 0===n?a:n))<0?a+n:n,o=t<0?D(a+t,0):R(t,a);o<a&&o<i;++o)r[o]=e;return r},find:function(e){var t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var a,i=arguments.length>1?arguments[1]:null,o=0;o<n;o++)if(a=t[o],i){if(r(e,i,a,o,t))return a}else if(e(a,o,t))return a},findIndex:function(e){var t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var a=arguments.length>1?arguments[1]:null,i=0;i<n;i++)if(a){if(r(e,a,t[i],i,t))return i}else if(e(t[i],i,t))return i;return-1},keys:function(){return new t(this,"key")},values:function(){return new t(this,"value")},entries:function(){return new t(this,"entry")}};if(Array.prototype.keys&&!ye.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ye.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ue]&&(m(Array.prototype,{values:Array.prototype[ue]}),oe(J.unscopables)&&(Array.prototype[J.unscopables].values=!0)),l&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Je=Array.prototype.values;se(Array.prototype,"values",function(){return ye.Call(Je,this,arguments)}),y(Array.prototype,ue,Array.prototype.values,!0)}m(Array.prototype,Xe),1/[!0].indexOf(!0,-0)<0&&y(Array.prototype,"indexOf",function(e){var t=E(this,arguments);return 0===t&&1/t<0?0:t},!0),_e(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&_e(Object.getPrototypeOf([].values()));var Ye,Ke=s(function(){return 0===Array.from({length:-1}).length}),Ze=1===(Ye=Array.from([0].entries())).length&&a(Ye[0])&&0===Ye[0][0]&&0===Ye[0][1];if(Ke&&Ze||se(Array,"from",Ge.from),!s(function(){return Array.from([0],void 0)})){var Qe=Array.from;se(Array,"from",function(e){return arguments.length>1&&void 0!==arguments[1]?ye.Call(Qe,this,arguments):r(Qe,this,e)})}var et=-(Math.pow(2,32)-1),tt=function(e,t){var n={length:et};return n[t?(n.length>>>0)-1:0]=!0,s(function(){return r(e,n,function(){throw new RangeError("should not reach here")},[]),!0})};if(!tt(Array.prototype.forEach)){var nt=Array.prototype.forEach;se(Array.prototype,"forEach",function(e){return ye.Call(nt,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.map)){var rt=Array.prototype.map;se(Array.prototype,"map",function(e){return ye.Call(rt,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.filter)){var at=Array.prototype.filter;se(Array.prototype,"filter",function(e){return ye.Call(at,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.some)){var it=Array.prototype.some;se(Array.prototype,"some",function(e){return ye.Call(it,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.every)){var ot=Array.prototype.every;se(Array.prototype,"every",function(e){return ye.Call(ot,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.reduce)){var st=Array.prototype.reduce;se(Array.prototype,"reduce",function(e){return ye.Call(st,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.reduceRight,!0)){var ct=Array.prototype.reduceRight;se(Array.prototype,"reduceRight",function(e){return ye.Call(ct,this.length>=0?this:[],arguments)})}var ut=8!==Number("0o10"),lt=2!==Number("0b10"),pt=h(He,function(e){return 0===Number(e+0+e)});if(ut||lt||pt){var ft=Number,dt=/^0b[01]+$/i,ht=/^0o[0-7]+$/i,yt=dt.test.bind(dt),mt=ht.test.bind(ht),gt=ze.test.bind(ze),vt=We.test.bind(We),bt=function(){var e=function(t){var n;"string"==typeof(n=arguments.length>0?re(t)?t:function(e){var t;if("function"==typeof e.valueOf&&(t=e.valueOf(),re(t)))return t;if("function"==typeof e.toString&&(t=e.toString(),re(t)))return t;throw new TypeError("No default value")}(t):0)&&(n=ye.Call(Ve,n),yt(n)?n=parseInt(N(n,2),2):mt(n)?n=parseInt(N(n,2),8):(gt(n)||vt(n))&&(n=NaN));var r=this,a=s(function(){return ft.prototype.valueOf.call(r),!0});return r instanceof e&&!a?new ft(n):ft(n)};return e}();Ae(ft,bt,{}),m(bt,{NaN:ft.NaN,MAX_VALUE:ft.MAX_VALUE,MIN_VALUE:ft.MIN_VALUE,NEGATIVE_INFINITY:ft.NEGATIVE_INFINITY,POSITIVE_INFINITY:ft.POSITIVE_INFINITY}),Number=bt,T(j,"Number",bt)}var wt=Math.pow(2,53)-1;m(Number,{MAX_SAFE_INTEGER:wt,MIN_SAFE_INTEGER:-wt,EPSILON:2.220446049250313e-16,parseInt:j.parseInt,parseFloat:j.parseFloat,isFinite:Z,isInteger:function(e){return Z(e)&&ye.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&F(e)<=Number.MAX_SAFE_INTEGER},isNaN:K}),y(Number,"parseInt",j.parseInt,Number.parseInt!==j.parseInt),1===[,1].find(function(){return!0})&&se(Array.prototype,"find",Xe.find),0!==[,1].findIndex(function(){return!0})&&se(Array.prototype,"findIndex",Xe.findIndex);var Tt,St,xt,kt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Ot=function(e,t){u&&kt(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},jt=function(){for(var e=Number(this),t=arguments.length,n=t-e,r=new Array(n<0?0:n),a=e;a<t;++a)r[a-e]=arguments[a];return r},At=function(e){return function(t,n){return t[n]=e[n],t}},Ct=function(e,t){var n,r=i(Object(t));return ye.IsCallable(Object.getOwnPropertySymbols)&&(n=d(Object.getOwnPropertySymbols(Object(t)),kt(t))),f(_(r,n||[]),At(t),e)},Et={assign:function(e,t){var n=ye.ToObject(e,"Cannot convert undefined or null to object");return f(ye.Call(jt,1,arguments),Ct,n)},is:function(e,t){return ye.SameValue(e,t)}};if(Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}}()&&se(Object,"assign",Et.assign),m(Object,Et),u){var _t={setPrototypeOf:function(e,t){var n,a=function(e,t){return function(e,t){if(!ye.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!ye.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)}(e,t),r(n,e,t),e};try{n=e.getOwnPropertyDescriptor(e.prototype,"__proto__").set,r(n,{},null)}catch(t){if(e.prototype!=={}.__proto__)return;n=function(e){this.__proto__=e},a.polyfill=a(a({},null),e.prototype)instanceof e}return a}(Object)};m(Object,_t)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(Tt=Object.create(null),St=Object.getPrototypeOf,xt=Object.setPrototypeOf,Object.getPrototypeOf=function(e){var t=St(e);return t===Tt?null:t},Object.setPrototypeOf=function(e,t){return xt(e,null===t?Tt:t)},Object.setPrototypeOf.polyfill=!1),!!o(function(){return Object.keys("foo")})){var Nt=Object.keys;se(Object,"keys",function(e){return Nt(ye.ToObject(e))}),i=Object.keys}if(o(function(){return Object.keys(/a/g)})){var Pt=Object.keys;se(Object,"keys",function(e){if(ie(e)){var t=[];for(var n in e)z(e,n)&&P(t,n);return t}return Pt(e)}),i=Object.keys}if(Object.getOwnPropertyNames&&!!o(function(){return Object.getOwnPropertyNames("foo")})){var It="object"===("undefined"==typeof window?"undefined":_typeof(window))?Object.getOwnPropertyNames(window):[],Mt=Object.getOwnPropertyNames;se(Object,"getOwnPropertyNames",function(e){var t=ye.ToObject(e);if("[object Window]"===g(t))try{return Mt(t)}catch(e){return _([],It)}return Mt(t)})}if(Object.getOwnPropertyDescriptor&&!!o(function(){return Object.getOwnPropertyDescriptor("foo","bar")})){var Dt=Object.getOwnPropertyDescriptor;se(Object,"getOwnPropertyDescriptor",function(e,t){return Dt(ye.ToObject(e),t)})}if(Object.seal&&!!o(function(){return Object.seal("foo")})){var Rt=Object.seal;se(Object,"seal",function(e){return ye.TypeIsObject(e)?Rt(e):e})}if(Object.isSealed&&!!o(function(){return Object.isSealed("foo")})){var Lt=Object.isSealed;se(Object,"isSealed",function(e){return!ye.TypeIsObject(e)||Lt(e)})}if(Object.freeze&&!!o(function(){return Object.freeze("foo")})){var Ft=Object.freeze;se(Object,"freeze",function(e){return ye.TypeIsObject(e)?Ft(e):e})}if(Object.isFrozen&&!!o(function(){return Object.isFrozen("foo")})){var qt=Object.isFrozen;se(Object,"isFrozen",function(e){return!ye.TypeIsObject(e)||qt(e)})}if(Object.preventExtensions&&!!o(function(){return Object.preventExtensions("foo")})){var Vt=Object.preventExtensions;se(Object,"preventExtensions",function(e){return ye.TypeIsObject(e)?Vt(e):e})}if(Object.isExtensible&&!!o(function(){return Object.isExtensible("foo")})){var Ht=Object.isExtensible;se(Object,"isExtensible",function(e){return!!ye.TypeIsObject(e)&&Ht(e)})}if(Object.getPrototypeOf&&!!o(function(){return Object.getPrototypeOf("foo")})){var zt=Object.getPrototypeOf;se(Object,"getPrototypeOf",function(e){return zt(ye.ToObject(e))})}var Wt,$t=u&&((Wt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&ye.IsCallable(Wt.get));if(u&&!$t){b(RegExp.prototype,"flags",function(){if(!ye.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e})}var Bt,Ut=u&&s(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),Gt=ce&&u&&((Bt=/./)[J.match]=!1,RegExp(Bt)===Bt),Xt=s(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),Jt=Xt&&s(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!Xt||!Jt){var Yt=RegExp.prototype.toString;y(RegExp.prototype,"toString",function(){var e=ye.RequireObjectCoercible(this);return ie(e)?r(Yt,e):"/"+fe(e.source)+"/"+fe(e.flags)},!0),x(RegExp.prototype.toString,Yt)}if(u&&(!Ut||Gt)){var Kt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Zt=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},Qt=ye.IsCallable(Zt.get)?Zt.get:function(){return this.source},en=RegExp,tn=function e(t,n){var r=ye.IsRegExp(t);return this instanceof e||!r||void 0!==n||t.constructor!==e?ie(t)?new e(ye.Call(Qt,t),void 0===n?ye.Call(Kt,t):n):(r&&(t.source,void 0===n&&t.flags),new en(t,n)):t};Ae(en,tn,{$input:!0}),RegExp=tn,T(j,"RegExp",tn)}if(u){var nn={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};p(i(nn),function(e){e in RegExp&&!(nn[e]in RegExp)&&b(RegExp,nn[e],function(){return RegExp[e]})})}Ee(RegExp);var rn=1/Number.EPSILON,an=Math.pow(2,-23),on=Math.pow(2,127)*(2-an),sn=Math.pow(2,-126),cn=Math.E,un=Math.LOG2E,ln=Math.LOG10E,pn=Number.prototype.clz;delete Number.prototype.clz;var fn={acosh:function(e){var t=Number(e);if(K(t)||e<1)return NaN;if(1===t)return 0;if(t===1/0)return t;var n=1/(t*t);if(t<2)return ee(t-1+H(1-n)*t);var r=t/2;return ee(r+H(1-n)*r-1)+1/un},asinh:function(e){var t=Number(e);if(0===t||!A(t))return t;var n=F(t),r=n*n,a=Q(t);return n<1?a*ee(n+r/(H(r+1)+1)):a*(ee(n/2+H(1+1/r)*n/2-1)+1/un)},atanh:function(e){var t=Number(e);if(0===t)return t;if(-1===t)return-1/0;if(1===t)return 1/0;if(K(t)||t<-1||t>1)return NaN;var n=F(t);return Q(t)*ee(2*n/(1-n))/2},cbrt:function(e){var t=Number(e);if(0===t)return t;var n,r=t<0;return r&&(t=-t),n=t===1/0?1/0:(t/((n=q(V(t)/3))*n)+2*n)/3,r?-n:n},clz32:function(e){var t=Number(e),n=ye.ToUint32(t);return 0===n?32:pn?ye.Call(pn,n):31-L(V(n+.5)*un)},cosh:function(e){var t=Number(e);if(0===t)return 1;if(K(t))return NaN;if(!A(t))return 1/0;var n=q(F(t)-1);return(n+1/(n*cn*cn))*(cn/2)},expm1:function(e){var t=Number(e);if(t===-1/0)return-1;if(!A(t)||0===t)return t;if(F(t)>.5)return q(t)-1;for(var n=t,r=0,a=1;r+n!==r;)r+=n,n*=t/(a+=1);return r},hypot:function(e,t){for(var n=0,r=0,a=0;a<arguments.length;++a){var i=F(Number(arguments[a]));r<i?(n*=r/i*(r/i),n+=1,r=i):n+=i>0?i/r*(i/r):i}return r===1/0?1/0:r*H(n)},log2:function(e){return V(e)*un},log10:function(e){return V(e)*ln},log1p:ee,sign:Q,sinh:function(e){var t=Number(e);if(!A(t)||0===t)return t;var n=F(t);if(n<1){var r=Math.expm1(n);return Q(t)*r*(1+1/(r+1))/2}var a=q(n-1);return Q(t)*(a-1/(a*cn*cn))*(cn/2)},tanh:function(e){var t=Number(e);return K(t)||0===t?t:t>=20?1:t<=-20?-1:(Math.expm1(t)-Math.expm1(-t))/(q(t)+q(-t))},trunc:function(e){var t=Number(e);return t<0?-L(-t):L(t)},imul:function(e,t){var n=ye.ToUint32(e),r=ye.ToUint32(t),a=65535&n,i=65535&r;return a*i+((n>>>16&65535)*i+a*(r>>>16&65535)<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-1/0||K(t))return t;var n=Q(t),r=F(t);if(r<sn)return n*(r/sn/an+rn-rn)*sn*an;var a=(1+an/Number.EPSILON)*r,i=a-(a-r);return i>on||K(i)?n*(1/0):n*i}},dn=function(e,t,n){return F(1-e/t)/Number.EPSILON<(n||8)};m(Math,fn),y(Math,"sinh",fn.sinh,Math.sinh(710)===1/0),y(Math,"cosh",fn.cosh,Math.cosh(710)===1/0),y(Math,"log1p",fn.log1p,-1e-17!==Math.log1p(-1e-17)),y(Math,"asinh",fn.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),y(Math,"asinh",fn.asinh,Math.asinh(1e300)===1/0),y(Math,"atanh",fn.atanh,0===Math.atanh(1e-300)),y(Math,"tanh",fn.tanh,-2e-17!==Math.tanh(-2e-17)),y(Math,"acosh",fn.acosh,Math.acosh(Number.MAX_VALUE)===1/0),y(Math,"acosh",fn.acosh,!dn(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),y(Math,"cbrt",fn.cbrt,!dn(Math.cbrt(1e-300),1e-100)),y(Math,"sinh",fn.sinh,-2e-17!==Math.sinh(-2e-17));var hn=Math.expm1(10);y(Math,"expm1",fn.expm1,hn>22025.465794806718||hn<22025.465794806718);var yn=Math.round,mn=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),gn=[rn+1,2*rn-1].every(function(e){return Math.round(e)===e});y(Math,"round",function(e){var t=L(e);return e-t<.5?t:-1===t?-0:t+1},!mn||!gn),x(Math.round,yn);var vn=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=fn.imul,x(Math.imul,vn)),2!==Math.imul.length&&se(Math,"imul",function(e,t){return ye.Call(vn,Math,arguments)});var bn,wn,Tn=function(){var e=j.setTimeout;if("function"==typeof e||"object"===(void 0===e?"undefined":_typeof(e))){ye.IsPromise=function(e){return!!ye.TypeIsObject(e)&&void 0!==e._promise};var t,n=function(e){if(!ye.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this;if(t.resolve=void 0,t.reject=void 0,t.promise=new e(function(e,n){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=n}),!ye.IsCallable(t.resolve)||!ye.IsCallable(t.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ye.IsCallable(window.postMessage)&&(t=function(){var e=[];return window.addEventListener("message",function(t){if(t.source===window&&"zero-timeout-message"===t.data){if(t.stopPropagation(),0===e.length)return;M(e)()}},!0),function(t){P(e,t),window.postMessage("zero-timeout-message","*")}});var a,i,o,s,c,u=ye.IsCallable(j.setImmediate)?j.setImmediate:"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process.nextTick?process.nextTick:(a=j.Promise,(i=a&&a.resolve&&a.resolve())&&function(e){return i.then(e)}||(ye.IsCallable(t)?t():function(t){e(t,0)})),l=function(e){return e},p=function(e){throw e},f={},d=function(e,t,n){u(function(){h(e,t,n)})},h=function(e,t,n){var r,a;if(t===f)return e(n);try{r=e(n),a=t.resolve}catch(e){r=e,a=t.reject}a(r)},y=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(d(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var a=1,i=0;a<r;a++,i+=3)d(n[i+0],n[i+2],t),e[i+0]=void 0,e[i+1]=void 0,e[i+2]=void 0;n.result=t,n.state=1,n.reactionLength=0},g=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(d(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var a=1,i=0;a<r;a++,i+=3)d(n[i+1],n[i+2],t),e[i+0]=void 0,e[i+1]=void 0,e[i+2]=void 0;n.result=t,n.state=2,n.reactionLength=0},v=function(e){var t=!1;return{resolve:function(n){var r;if(!t){if(t=!0,n===e)return g(e,new TypeError("Self resolution"));if(!ye.TypeIsObject(n))return y(e,n);try{r=n.then}catch(t){return g(e,t)}if(!ye.IsCallable(r))return y(e,n);u(function(){w(e,n,r)})}},reject:function(n){if(!t)return t=!0,g(e,n)}}},b=function(e,t,n,a){e===s?r(e,t,n,a,f):r(e,t,n,a)},w=function(e,t,n){var r=v(e),a=r.resolve,i=r.reject;try{b(n,t,a,i)}catch(e){i(e)}},T=c=function(e){if(!(this instanceof c))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ye.IsCallable(e))throw new TypeError("not a valid resolver");var t=Pe(this,c,o,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),n=v(t),r=n.reject;try{e(n.resolve,r)}catch(e){r(e)}return t};o=T.prototype;var S=function(e,t,n,r){var a=!1;return function(i){a||(a=!0,t[e]=i,0==--r.count&&(0,n.resolve)(t))}};return m(T,{all:function(e){var t=this;if(!ye.TypeIsObject(t))throw new TypeError("Promise is not object");var r,a,i=new n(t);try{return function(e,t,n){for(var r,a,i=e.iterator,o=[],s={count:1},c=0;;){try{if(!1===(r=ye.IteratorStep(i))){e.done=!0;break}a=r.value}catch(t){throw e.done=!0,t}o[c]=void 0;var u=t.resolve(a),l=S(c,o,n,s);s.count+=1,b(u.then,u,l,n.reject),c+=1}0==--s.count&&(0,n.resolve)(o);return n.promise}(a={iterator:r=ye.GetIterator(e),done:!1},t,i)}catch(e){var o=e;if(a&&!a.done)try{ye.IteratorClose(r,!0)}catch(e){o=e}return(0,i.reject)(o),i.promise}},race:function(e){var t=this;if(!ye.TypeIsObject(t))throw new TypeError("Promise is not object");var r,a,i=new n(t);try{return function(e,t,n){for(var r,a,i,o=e.iterator;;){try{if(!1===(r=ye.IteratorStep(o))){e.done=!0;break}a=r.value}catch(t){throw e.done=!0,t}i=t.resolve(a),b(i.then,i,n.resolve,n.reject)}return n.promise}(a={iterator:r=ye.GetIterator(e),done:!1},t,i)}catch(e){var o=e;if(a&&!a.done)try{ye.IteratorClose(r,!0)}catch(e){o=e}return(0,i.reject)(o),i.promise}},reject:function(e){if(!ye.TypeIsObject(this))throw new TypeError("Bad promise constructor");var t=new n(this);return(0,t.reject)(e),t.promise},resolve:function(e){var t=this;if(!ye.TypeIsObject(t))throw new TypeError("Bad promise constructor");if(ye.IsPromise(e)&&e.constructor===t)return e;var r=new n(t);return(0,r.resolve)(e),r.promise}}),m(o,{catch:function(e){return this.then(null,e)},then:function(e,t){if(!ye.IsPromise(this))throw new TypeError("not a promise");var r,a=ye.SpeciesConstructor(this,T);r=arguments.length>2&&arguments[2]===f&&a===T?f:new n(a);var i,o=ye.IsCallable(e)?e:l,s=ye.IsCallable(t)?t:p,c=this._promise;if(0===c.state){if(0===c.reactionLength)c.fulfillReactionHandler0=o,c.rejectReactionHandler0=s,c.reactionCapability0=r;else{var u=3*(c.reactionLength-1);c[u+0]=o,c[u+1]=s,c[u+2]=r}c.reactionLength+=1}else if(1===c.state)i=c.result,d(o,r,i);else{if(2!==c.state)throw new TypeError("unexpected Promise state");i=c.result,d(s,r,i)}return r.promise}}),f=new n(T),s=o.then,T}}();if(j.Promise&&(delete j.Promise.accept,delete j.Promise.defer,delete j.Promise.prototype.chain),"function"==typeof Tn){m(j,{Promise:Tn});var Sn=O(j.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),xn=!o(function(){return j.Promise.reject(42).then(null,5).then(null,W)}),kn=o(function(){return j.Promise.call(3,W)}),On=function(e){var t=e.resolve(5);t.constructor={};var n=e.resolve(t);try{n.then(null,W).then(null,W)}catch(e){return!0}return t===n}(j.Promise),jn=u&&(bn=0,wn=Object.defineProperty({},"then",{get:function(){bn+=1}}),Promise.resolve(wn),1===bn),An=function e(t){var n=new Promise(t);t(3,function(){}),this.then=n.then,this.constructor=e};An.prototype=Promise.prototype,An.all=Promise.all;var Cn=s(function(){return!!An.all([1,2])});if(Sn&&xn&&kn&&!On&&jn&&!Cn||(Promise=Tn,se(j,"Promise",Tn)),1!==Promise.all.length){var En=Promise.all;se(Promise,"all",function(e){return ye.Call(En,this,arguments)})}if(1!==Promise.race.length){var _n=Promise.race;se(Promise,"race",function(e){return ye.Call(_n,this,arguments)})}if(1!==Promise.resolve.length){var Nn=Promise.resolve;se(Promise,"resolve",function(e){return ye.Call(Nn,this,arguments)})}if(1!==Promise.reject.length){var Pn=Promise.reject;se(Promise,"reject",function(e){return ye.Call(Pn,this,arguments)})}Ot(Promise,"all"),Ot(Promise,"race"),Ot(Promise,"resolve"),Ot(Promise,"reject"),Ee(Promise)}var In,Mn,Dn=function(e){var t=i(f(e,function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},Rn=Dn(["z","a","bb"]),Ln=Dn(["z",1,"a","3",2]);if(u){var Fn=function(e,t){return t||Rn?he(e)?"^"+ye.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?Ln?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},qn=function(){return Object.create?Object.create(null):{}},Vn=function(e,t,n){if(a(n)||ae(n))p(n,function(e){if(!ye.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");t.set(e[0],e[1])});else if(n instanceof e)r(e.prototype.forEach,n,function(e,n){t.set(n,e)});else{var i,o;if(!he(n)){if(o=t.set,!ye.IsCallable(o))throw new TypeError("bad map");i=ye.GetIterator(n)}if(void 0!==i)for(;;){var s=ye.IteratorStep(i);if(!1===s)break;var c=s.value;try{if(!ye.TypeIsObject(c))throw new TypeError("Iterator value "+c+" is not an entry object");r(o,t,c[0],c[1])}catch(e){throw ye.IteratorClose(i,!0),e}}}},Hn=function(e,t,n){if(a(n)||ae(n))p(n,function(e){t.add(e)});else if(n instanceof e)r(e.prototype.forEach,n,function(e){t.add(e)});else{var i,o;if(!he(n)){if(o=t.add,!ye.IsCallable(o))throw new TypeError("bad set");i=ye.GetIterator(n)}if(void 0!==i)for(;;){var s=ye.IteratorStep(i);if(!1===s)break;var c=s.value;try{r(o,t,c)}catch(e){throw ye.IteratorClose(i,!0),e}}}},zn={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var n,a=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return!!e._es6map}(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ye.ToString(e))},i=function(e,t){a(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};_e(i.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var e,t=this.i,n=this.kind,r=this.head;if(void 0===this.i)return Be();for(;t.isRemoved()&&t!==r;)t=t.prev;for(;t.next!==r;)if(!(t=t.next).isRemoved())return e="key"===n?t.key:"value"===n?t.value:[t.key,t.value],this.i=t,Be(e);return this.i=void 0,Be()}});var o=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var r=Pe(this,e,n,{_es6map:!0,_head:null,_map:$?new $:null,_size:0,_storage:qn()}),a=new t(null,null);return a.next=a.prev=a,r._head=a,arguments.length>0&&Vn(e,r,arguments[0]),r};return b(n=o.prototype,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),m(n,{get:function(e){var t;a(this,"get");var n=Fn(e,!0);if(null!==n)return(t=this._storage[n])?t.value:void 0;if(this._map)return(t=U.call(this._map,e))?t.value:void 0;for(var r=this._head,i=r;(i=i.next)!==r;)if(ye.SameValueZero(i.key,e))return i.value},has:function(e){a(this,"has");var t=Fn(e,!0);if(null!==t)return void 0!==this._storage[t];if(this._map)return G.call(this._map,e);for(var n=this._head,r=n;(r=r.next)!==n;)if(ye.SameValueZero(r.key,e))return!0;return!1},set:function(e,n){a(this,"set");var r,i=this._head,o=i,s=Fn(e,!0);if(null!==s){if(void 0!==this._storage[s])return this._storage[s].value=n,this;r=this._storage[s]=new t(e,n),o=i.prev}else this._map&&(G.call(this._map,e)?U.call(this._map,e).value=n:(r=new t(e,n),X.call(this._map,e,r),o=i.prev));for(;(o=o.next)!==i;)if(ye.SameValueZero(o.key,e))return o.value=n,this;return r=r||new t(e,n),ye.SameValue(-0,e)&&(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},delete:function(t){a(this,"delete");var n=this._head,r=n,i=Fn(t,!0);if(null!==i){if(void 0===this._storage[i])return!1;r=this._storage[i].prev,delete this._storage[i]}else if(this._map){if(!G.call(this._map,t))return!1;r=U.call(this._map,t).prev,B.call(this._map,t)}for(;(r=r.next)!==n;)if(ye.SameValueZero(r.key,t))return r.key=e,r.value=e,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){a(this,"clear"),this._map=$?new $:null,this._size=0,this._storage=qn();for(var t=this._head,n=t,r=n.next;(n=r)!==t;)n.key=e,n.value=e,r=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return a(this,"keys"),new i(this,"key")},values:function(){return a(this,"values"),new i(this,"value")},entries:function(){return a(this,"entries"),new i(this,"key+value")},forEach:function(e){a(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,n=this.entries(),i=n.next();!i.done;i=n.next())t?r(e,t,i.value[1],i.value[0],this):e(i.value[1],i.value[0],this)}}),_e(n,n.entries),o}(),Set:function(){var e,t=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return e._es6set&&void 0!==e._storage}(e))throw new TypeError("Set.prototype."+t+" called on incompatible receiver "+ye.ToString(e))},n=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var n=Pe(this,t,e,{_es6set:!0,"[[SetData]]":null,_storage:qn()});if(!n._es6set)throw new TypeError("bad set");return arguments.length>0&&Hn(t,n,arguments[0]),n};e=n.prototype;var a=function(e){if(!e["[[SetData]]"]){var t=new zn.Map;e["[[SetData]]"]=t,p(i(e._storage),function(e){var n=function(e){var t=e;if("^null"===t)return null;if("^undefined"!==t){var n=t.charAt(0);return"$"===n?N(t,1):"n"===n?+N(t,1):"b"===n?"btrue"===t:+t}}(e);t.set(n,n)}),e["[[SetData]]"]=t}e._storage=null};b(n.prototype,"size",function(){return t(this,"size"),this._storage?i(this._storage).length:(a(this),this["[[SetData]]"].size)}),m(n.prototype,{has:function(e){var n;return t(this,"has"),this._storage&&null!==(n=Fn(e))?!!this._storage[n]:(a(this),this["[[SetData]]"].has(e))},add:function(e){var n;return t(this,"add"),this._storage&&null!==(n=Fn(e))?(this._storage[n]=!0,this):(a(this),this["[[SetData]]"].set(e,e),this)},delete:function(e){var n;if(t(this,"delete"),this._storage&&null!==(n=Fn(e))){var r=z(this._storage,n);return delete this._storage[n]&&r}return a(this),this["[[SetData]]"].delete(e)},clear:function(){t(this,"clear"),this._storage&&(this._storage=qn()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return t(this,"values"),a(this),new o(this["[[SetData]]"].values())},entries:function(){return t(this,"entries"),a(this),new o(this["[[SetData]]"].entries())},forEach:function(e){t(this,"forEach");var n=arguments.length>1?arguments[1]:null,i=this;a(i),this["[[SetData]]"].forEach(function(t,a){n?r(e,n,a,a,i):e(a,a,i)})}}),y(n.prototype,"keys",n.prototype.values,!0),_e(n.prototype,n.prototype.values);var o=function(e){this.it=e};return o.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},_e(o.prototype),n}()};if(j.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(j.Set=zn.Set),j.Map||j.Set){s(function(){return 2===new Map([[1,2]]).get(1)})||(j.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new $;return arguments.length>0&&Vn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,j.Map.prototype),t},j.Map.prototype=k($.prototype),y(j.Map.prototype,"constructor",j.Map,!0),x(j.Map,$));var Wn=new Map,$n=((Mn=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,Mn),Mn.get(0)===Mn&&Mn.get(-0)===Mn&&Mn.has(0)&&Mn.has(-0)),Bn=Wn.set(1,2)===Wn;$n&&Bn||se(Map.prototype,"set",function(e,t){return r(X,this,0===e?0:e,t),this}),$n||(m(Map.prototype,{get:function(e){return r(U,this,0===e?0:e)},has:function(e){return r(G,this,0===e?0:e)}},!0),x(Map.prototype.get,U),x(Map.prototype.has,G));var Un=new Set,Gn=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&((In=Un).delete(0),In.add(-0),!In.has(0)),Xn=Un.add(1)===Un;if(!Gn||!Xn){var Jn=Set.prototype.add;Set.prototype.add=function(e){return r(Jn,this,0===e?0:e),this},x(Set.prototype.add,Jn)}if(!Gn){var Yn=Set.prototype.has;Set.prototype.has=function(e){return r(Yn,this,0===e?0:e)},x(Set.prototype.has,Yn);var Kn=Set.prototype.delete;Set.prototype.delete=function(e){return r(Kn,this,0===e?0:e)},x(Set.prototype.delete,Kn)}var Zn=O(j.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),Qn=Object.setPrototypeOf&&!Zn,er=function(){try{return!(j.Map()instanceof j.Map)}catch(e){return e instanceof TypeError}}();0===j.Map.length&&!Qn&&er||(j.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new $;return arguments.length>0&&Vn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Map.prototype=$.prototype,y(j.Map.prototype,"constructor",j.Map,!0),x(j.Map,$));var tr=O(j.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),nr=Object.setPrototypeOf&&!tr,rr=function(){try{return!(j.Set()instanceof j.Set)}catch(e){return e instanceof TypeError}}();if(0!==j.Set.length||nr||!rr){var ar=j.Set;j.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new ar;return arguments.length>0&&Hn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Set.prototype=ar.prototype,y(j.Set.prototype,"constructor",j.Set,!0),x(j.Set,ar)}var ir=new j.Map,or=!s(function(){return ir.keys().next().done});if(("function"!=typeof j.Map.prototype.clear||0!==(new j.Set).size||0!==ir.size||"function"!=typeof j.Map.prototype.keys||"function"!=typeof j.Set.prototype.keys||"function"!=typeof j.Map.prototype.forEach||"function"!=typeof j.Set.prototype.forEach||c(j.Map)||c(j.Set)||"function"!=typeof ir.keys().next||or||!Zn)&&m(j,{Map:zn.Map,Set:zn.Set},!0),j.Set.prototype.keys!==j.Set.prototype.values&&y(j.Set.prototype,"keys",j.Set.prototype.values,!0),_e(Object.getPrototypeOf((new j.Map).keys())),_e(Object.getPrototypeOf((new j.Set).keys())),l&&"has"!==j.Set.prototype.has.name){var sr=j.Set.prototype.has;se(j.Set.prototype,"has",function(e){return r(sr,this,e)})}}m(j,zn),Ee(j.Map),Ee(j.Set)}var cr=function(e){if(!ye.TypeIsObject(e))throw new TypeError("target must be an object")},ur={apply:function(){return ye.Call(ye.Call,null,arguments)},construct:function(e,t){if(!ye.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var n=arguments.length>2?arguments[2]:e;if(!ye.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return ye.Construct(e,t,n,"internal")},deleteProperty:function(e,t){if(cr(e),u){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return!1}return delete e[t]},has:function(e,t){return cr(e),t in e}};Object.getOwnPropertyNames&&Object.assign(ur,{ownKeys:function(e){cr(e);var t=Object.getOwnPropertyNames(e);return ye.IsCallable(Object.getOwnPropertySymbols)&&I(t,Object.getOwnPropertySymbols(e)),t}});var lr=function(e){return!o(e)};if(Object.preventExtensions&&Object.assign(ur,{isExtensible:function(e){return cr(e),Object.isExtensible(e)},preventExtensions:function(e){return cr(e),lr(function(){return Object.preventExtensions(e)})}}),u){var pr=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(!r){var a=Object.getPrototypeOf(e);if(null===a)return;return pr(a,t,n)}return"value"in r?r.value:r.get?ye.Call(r.get,n):void 0},fr=function(e,t,n,a){var i=Object.getOwnPropertyDescriptor(e,t);if(!i){var o=Object.getPrototypeOf(e);if(null!==o)return fr(o,t,n,a);i={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in i?!!i.writable&&(!!ye.TypeIsObject(a)&&(Object.getOwnPropertyDescriptor(a,t)?pe.defineProperty(a,t,{value:n}):pe.defineProperty(a,t,{value:n,writable:!0,enumerable:!0,configurable:!0}))):!!i.set&&(r(i.set,a,n),!0)};Object.assign(ur,{defineProperty:function(e,t,n){return cr(e),lr(function(){return Object.defineProperty(e,t,n)})},getOwnPropertyDescriptor:function(e,t){return cr(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){cr(e);var n=arguments.length>2?arguments[2]:e;return pr(e,t,n)},set:function(e,t,n){cr(e);var r=arguments.length>3?arguments[3]:e;return fr(e,t,n,r)}})}if(Object.getPrototypeOf){var dr=Object.getPrototypeOf;ur.getPrototypeOf=function(e){return cr(e),dr(e)}}if(Object.setPrototypeOf&&ur.getPrototypeOf){Object.assign(ur,{setPrototypeOf:function(e,t){if(cr(e),null!==t&&!ye.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===pe.getPrototypeOf(e)||!(pe.isExtensible&&!pe.isExtensible(e))&&(!function(e,t){for(var n=t;n;){if(e===n)return!0;n=ur.getPrototypeOf(n)}return!1}(e,t)&&(Object.setPrototypeOf(e,t),!0))}})}Object.keys(ur).forEach(function(e){!function(e,t){ye.IsCallable(j.Reflect[e])?s(function(){return j.Reflect[e](1),j.Reflect[e](NaN),j.Reflect[e](!0),!0})&&se(j.Reflect,e,t):y(j.Reflect,e,t)}(e,ur[e])});var hr=j.Reflect.getPrototypeOf;if(l&&hr&&"getPrototypeOf"!==hr.name&&se(j.Reflect,"getPrototypeOf",function(e){return r(hr,j.Reflect,e)}),j.Reflect.setPrototypeOf&&s(function(){return j.Reflect.setPrototypeOf(1,{}),!0})&&se(j.Reflect,"setPrototypeOf",ur.setPrototypeOf),j.Reflect.defineProperty&&(s(function(){var e=!j.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!j.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})||se(j.Reflect,"defineProperty",ur.defineProperty)),j.Reflect.construct&&(s(function(){var e=function(){};return j.Reflect.construct(function(){},[],e)instanceof e})||se(j.Reflect,"construct",ur.construct)),"Invalid Date"!==String(new Date(NaN))){var yr=Date.prototype.toString;se(Date.prototype,"toString",function(){var e=+this;return e!=e?"Invalid Date":ye.Call(yr,this)})}var mr={anchor:function(e){return ye.CreateHTML(this,"a","name",e)},big:function(){return ye.CreateHTML(this,"big","","")},blink:function(){return ye.CreateHTML(this,"blink","","")},bold:function(){return ye.CreateHTML(this,"b","","")},fixed:function(){return ye.CreateHTML(this,"tt","","")},fontcolor:function(e){return ye.CreateHTML(this,"font","color",e)},fontsize:function(e){return ye.CreateHTML(this,"font","size",e)},italics:function(){return ye.CreateHTML(this,"i","","")},link:function(e){return ye.CreateHTML(this,"a","href",e)},small:function(){return ye.CreateHTML(this,"small","","")},strike:function(){return ye.CreateHTML(this,"strike","","")},sub:function(){return ye.CreateHTML(this,"sub","","")},sup:function(){return ye.CreateHTML(this,"sup","","")}};p(Object.keys(mr),function(e){var t=String.prototype[e],n=!1;if(ye.IsCallable(t)){var a=r(t,"",' " '),i=_([],a.match(/"/g)).length;n=a!==a.toLowerCase()||i>2}else n=!0;n&&se(String.prototype,e,mr[e])});var gr=function(){if(!ce)return!1;var e="object"===("undefined"==typeof JSON?"undefined":_typeof(JSON))&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if(void 0!==e(J()))return!0;if("[null]"!==e([J()]))return!0;var t={a:J()};return t[J()]=!0,"{}"!==e(t)}(),vr=s(function(){return!ce||"{}"===JSON.stringify(Object(J()))&&"[{}]"===JSON.stringify([Object(J())])});if(gr||!vr){var br=JSON.stringify;se(JSON,"stringify",function(e){if("symbol"!==(void 0===e?"undefined":_typeof(e))){var t;arguments.length>1&&(t=arguments[1]);var n=[e];if(a(t))n.push(t);else{var i=ye.IsCallable(t)?t:null;n.push(function(e,t){var n=i?r(i,this,e,t):t;if("symbol"!==(void 0===n?"undefined":_typeof(n)))return oe(n)?At({})(n):n})}return arguments.length>2&&n.push(arguments[2]),br.apply(this,n)}})}return j},"function"==typeof define&&define.amd?define("es6-shim",factory):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=factory():root.returnExports=factory(),function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=Object.getPrototypeOf,a=n.slice,i=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},o=n.push,s=n.indexOf,c={},u=c.toString,l=c.hasOwnProperty,p=l.toString,f=p.call(Object),d={},h=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},m=e.document,g={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,n){var r,a,i=(n=n||m).createElement("script");if(i.text=e,t)for(r in g)(a=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,a);n.head.appendChild(i).parentNode.removeChild(i)}function b(e){return null==e?e+"":"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e?c[u.call(e)]||"object":void 0===e?"undefined":_typeof(e)}var w=function e(t,n){return new e.fn.init(t,n)};function T(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!h(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.5.1",constructor:w,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,a,i,o=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"===(void 0===o?"undefined":_typeof(o))||h(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&o!==r&&(u&&r&&(w.isPlainObject(r)||(a=Array.isArray(r)))?(n=o[t],i=a&&!Array.isArray(n)?[]:a||w.isPlainObject(n)?n:{},a=!1,o[t]=w.extend(u,i,r)):void 0!==r&&(o[t]=r));return o},w.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=r(e))||"function"==typeof(n=l.call(t,"constructor")&&t.constructor)&&p.call(n)===f)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){v(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;r++)e[a++]=t[r];return e.length=a,e},grep:function(e,t,n){for(var r=[],a=0,i=e.length,o=!n;a<i;a++)!t(e[a],a)!==o&&r.push(e[a]);return r},map:function(e,t,n){var r,a,o=0,s=[];if(T(e))for(r=e.length;o<r;o++)null!=(a=t(e[o],o,n))&&s.push(a);else for(o in e)null!=(a=t(e[o],o,n))&&s.push(a);return i(s)},guid:1,support:d}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var S=function(e){var t,n,r,a,i,o,s,c,u,l,p,f,d,h,y,m,g,v,b,w="sizzle"+1*new Date,T=e.document,S=0,x=0,k=ce(),O=ce(),j=ce(),A=ce(),C=function(e,t){return e===t&&(p=!0),0},E={}.hasOwnProperty,_=[],N=_.pop,P=_.push,I=_.push,M=_.slice,D=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\["+L+"*("+F+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+L+"*\\]",V=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",H=new RegExp(L+"+","g"),z=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),W=new RegExp("^"+L+"*,"+L+"*"),$=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),B=new RegExp(L+"|>"),U=new RegExp(V),G=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},oe=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(_=M.call(T.childNodes),T.childNodes),_[T.childNodes.length].nodeType}catch(e){I={apply:_.length?function(e,t){P.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,a){var i,s,u,l,p,h,g,v=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!a&&(f(t),t=t||d,y)){if(11!==T&&(p=Q.exec(e)))if(i=p[1]){if(9===T){if(!(u=t.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(v&&(u=v.getElementById(i))&&b(t,u)&&u.id===i)return r.push(u),r}else{if(p[2])return I.apply(r,t.getElementsByTagName(e)),r;if((i=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!A[e+" "]&&(!m||!m.test(e))&&(1!==T||"object"!==t.nodeName.toLowerCase())){if(g=e,v=t,1===T&&(B.test(e)||$.test(e))){for((v=ee.test(e)&&ge(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,ae):t.setAttribute("id",l=w)),s=(h=o(e)).length;s--;)h[s]=(l?"#"+l:":scope")+" "+be(h[s]);g=h.join(",")}try{return I.apply(r,v.querySelectorAll(g)),r}catch(t){A(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return c(e.replace(z,"$1"),t,r,a)}function ce(){var e=[];return function t(n,a){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=a}}function ue(e){return e[w]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var n=e.split("|"),a=n.length;a--;)r.attrHandle[n[a]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ye(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue(function(t){return t=+t,ue(function(n,r){for(var a,i=e([],n.length,t),o=i.length;o--;)n[a=i[o]]&&(n[a]=!(r[a]=n[a]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!J.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,a,o=e?e.ownerDocument||e:T;return o!=d&&9===o.nodeType&&o.documentElement?(h=(d=o).documentElement,y=!i(d),T!=d&&(a=d.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",ie,!1):a.attachEvent&&a.attachEvent("onunload",ie)),n.scope=le(function(e){return h.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=le(function(e){return h.appendChild(e).id=w,!d.getElementsByName||!d.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n,r,a,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(a=t.getElementsByName(e),r=0;i=a[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],a=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[a++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=Z.test(d.querySelectorAll))&&(le(function(e){var t;h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Z.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),g.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Z.test(h.compareDocumentPosition),b=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return p=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==d||e.ownerDocument==T&&b(T,e)?-1:t==d||t.ownerDocument==T&&b(T,t)?1:l?D(l,e)-D(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return p=!0,0;var n,r=0,a=e.parentNode,i=t.parentNode,o=[e],s=[t];if(!a||!i)return e==d?-1:t==d?1:a?-1:i?1:l?D(l,e)-D(l,t):0;if(a===i)return fe(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return r?fe(o[r],s[r]):o[r]==T?-1:s[r]==T?1:0},d):d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&y&&!A[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){A(t,!0)}return se(t,d,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=d&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=d&&f(e);var a=r.attrHandle[t.toLowerCase()],i=a&&E.call(r.attrHandle,t.toLowerCase())?a(e,t,!y):void 0;return void 0!==i?i:n.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(re,ae)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],a=0,i=0;if(p=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(C),p){for(;t=e[i++];)t===e[i]&&(a=r.push(i));for(;a--;)e.splice(r[a],1)}return l=null,e},a=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=a(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=se.attr(r,e);return null==a?"!="===t:!t||(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,a){var i="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===a?function(e){return!!e.parentNode}:function(t,n,c){var u,l,p,f,d,h,y=i!==o?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!c&&!s,b=!1;if(m){if(i){for(;y;){for(f=t;f=f[y];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;h=y="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?m.firstChild:m.lastChild],o&&v){for(b=(d=(u=(l=(p=(f=m)[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===S&&u[1])&&u[2],f=d&&m.childNodes[d];f=++d&&f&&f[y]||(b=d=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[S,d,b];break}}else if(v&&(b=d=(u=(l=(p=(f=t)[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===S&&u[1]),!1===b)for(;(f=++d&&f&&f[y]||(b=d=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++b||(v&&((l=(p=f[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]=[S,b]),f!==t)););return(b-=a)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,a=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[w]?a(t):a.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){for(var r,i=a(e,t),o=i.length;o--;)e[r=D(e,i[o])]=!(n[r]=i[o])}):function(e){return a(e,0,n)}):a}},pseudos:{not:ue(function(e){var t=[],n=[],r=s(e.replace(z,"$1"));return r[w]?ue(function(e,t,n,a){for(var i,o=r(e,null,a,[]),s=e.length;s--;)(i=o[s])&&(e[s]=!(t[s]=i))}):function(e,a,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return se(e,t).length>0}}),contains:ue(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||a(t)).indexOf(e)>-1}}),lang:ue(function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ve(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,a=t.next,i=a||r,o=n&&"parentNode"===i,s=x++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,a);return!1}:function(t,n,c){var u,l,p,f=[S,s];if(c){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(l=(p=t[w]||(t[w]={}))[t.uniqueID]||(p[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[i])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(l[i]=f,f[2]=e(t,n,c))return!0}return!1}}function Te(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function Se(e,t,n,r,a){for(var i,o=[],s=0,c=e.length,u=null!=t;s<c;s++)(i=e[s])&&(n&&!n(i,r,a)||(o.push(i),u&&t.push(s)));return o}function xe(e,t,n,r,a,i){return r&&!r[w]&&(r=xe(r)),a&&!a[w]&&(a=xe(a,i)),ue(function(i,o,s,c){var u,l,p,f=[],d=[],h=o.length,y=i||function(e,t,n){for(var r=0,a=t.length;r<a;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?y:Se(y,f,e,s,c),g=n?a||(i?e:h||r)?[]:o:m;if(n&&n(m,g,s,c),r)for(u=Se(g,d),r(u,[],s,c),l=u.length;l--;)(p=u[l])&&(g[d[l]]=!(m[d[l]]=p));if(i){if(a||e){if(a){for(u=[],l=g.length;l--;)(p=g[l])&&u.push(m[l]=p);a(null,g=[],u,c)}for(l=g.length;l--;)(p=g[l])&&(u=a?D(i,p):f[l])>-1&&(i[u]=!(o[u]=p))}}else g=Se(g===o?g.splice(h,g.length):g),a?a(null,o,g,c):I.apply(o,g)})}function ke(e){for(var t,n,a,i=e.length,o=r.relative[e[0].type],s=o||r.relative[" "],c=o?1:0,l=we(function(e){return e===t},s,!0),p=we(function(e){return D(t,e)>-1},s,!0),f=[function(e,n,r){var a=!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):p(e,n,r));return t=null,a}];c<i;c++)if(n=r.relative[e[c].type])f=[we(Te(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[w]){for(a=++c;a<i&&!r.relative[e[a].type];a++);return xe(c>1&&Te(f),c>1&&be(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(z,"$1"),n,c<a&&ke(e.slice(c,a)),a<i&&ke(e=e.slice(a)),a<i&&be(e))}f.push(n)}return Te(f)}return ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,o=se.tokenize=function(e,t){var n,a,i,o,s,c,u,l=O[e+" "];if(l)return t?0:l.slice(0);for(s=e,c=[],u=r.preFilter;s;){for(o in n&&!(a=W.exec(s))||(a&&(s=s.slice(a[0].length)||s),c.push(i=[])),n=!1,(a=$.exec(s))&&(n=a.shift(),i.push({value:n,type:a[0].replace(z," ")}),s=s.slice(n.length)),r.filter)!(a=X[o].exec(s))||u[o]&&!(a=u[o](a))||(n=a.shift(),i.push({value:n,type:o,matches:a}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):O(e,c).slice(0)},s=se.compile=function(e,t){var n,a=[],i=[],s=j[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=ke(t[n]))[w]?a.push(s):i.push(s);(s=j(e,function(e,t){var n=t.length>0,a=e.length>0,i=function(i,o,s,c,l){var p,h,m,g=0,v="0",b=i&&[],w=[],T=u,x=i||a&&r.find.TAG("*",l),k=S+=null==T?1:Math.random()||.1,O=x.length;for(l&&(u=o==d||o||l);v!==O&&null!=(p=x[v]);v++){if(a&&p){for(h=0,o||p.ownerDocument==d||(f(p),s=!y);m=e[h++];)if(m(p,o||d,s)){c.push(p);break}l&&(S=k)}n&&((p=!m&&p)&&g--,i&&b.push(p))}if(g+=v,n&&v!==g){for(h=0;m=t[h++];)m(b,w,o,s);if(i){if(g>0)for(;v--;)b[v]||w[v]||(w[v]=N.call(c));w=Se(w)}I.apply(c,w),l&&!i&&w.length>0&&g+t.length>1&&se.uniqueSort(c)}return l&&(S=k,u=T),b};return n?ue(i):i}(i,a))).selector=e}return s},c=se.select=function(e,t,n,a){var i,c,u,l,p,f="function"==typeof e&&e,d=!a&&o(e=f.selector||e);if(n=n||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&y&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(i=X.needsContext.test(e)?0:c.length;i--&&(u=c[i],!r.relative[l=u.type]);)if((p=r.find[l])&&(a=p(u.matches[0].replace(te,ne),ee.test(c[0].type)&&ge(t.parentNode)||t))){if(c.splice(i,1),!(e=a.length&&be(c)))return I.apply(n,a),n;break}}return(f||s(e,d))(a,t,!y,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},n.sortStable=w.split("").sort(C).join("")===w,n.detectDuplicates=!!p,f(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||pe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(e);w.find=S,w.expr=S.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=S.uniqueSort,w.text=S.getText,w.isXMLDoc=S.isXML,w.contains=S.contains,w.escapeSelector=S.escape;var x=function(e,t,n){for(var r=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&w(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},O=w.expr.match.needsContext;function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function C(e,t,n){return h(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return s.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,a=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(a[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,a[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&O.test(e)?w(e):e||[],!1).length}});var E,_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||E,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),A.test(r[1])&&w.isPlainObject(t))for(r in t)h(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(a=m.getElementById(r[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):h(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,E=w(m);var N=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,a=this.length,i=[],o="string"!=typeof e&&w(e);if(!O.test(e))for(;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?w.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(j(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var a=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(a=w.filter(r,a)),this.length>1&&(P[e]||w.uniqueSort(a),N.test(e)&&a.reverse()),this.pushStack(a)}});var M=/[^\x20\t\r\n\f]+/g;function D(e){return e}function R(e){throw e}function L(e,t,n,r){var a;try{e&&h(a=e.promise)?a.call(e).done(t).fail(n):e&&h(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var t,n,r,a,i=[],o=[],s=-1,c=function(){for(a=a||e.once,r=t=!0;o.length;s=-1)for(n=o.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,a&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(s=i.length-1,o.push(n)),function t(n){w.each(n,function(n,r){h(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==b(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;(n=w.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return a=o=[],i=n="",this},disabled:function(){return!i},lock:function(){return a=o=[],n||t||(i=n=""),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var a=h(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=a&&a.apply(this,arguments);e&&h(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(t,r,a){var i=0;function o(t,n,r,a){return function(){var s=this,c=arguments,u=function(){var e,u;if(!(t<i)){if((e=r.apply(s,c))===n.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e)&&e.then,h(u)?a?u.call(e,o(i,n,D,a),o(i,n,R,a)):(i++,u.call(e,o(i,n,D,a),o(i,n,R,a),o(i,n,D,n.notifyWith))):(r!==D&&(s=void 0,c=[e]),(a||n.resolveWith)(s,c))}},l=a?u:function(){try{u()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,l.stackTrace),t+1>=i&&(r!==R&&(s=void 0,c=[e]),n.rejectWith(s,c))}};t?l():(w.Deferred.getStackHook&&(l.stackTrace=w.Deferred.getStackHook()),e.setTimeout(l))}}return w.Deferred(function(e){n[0][3].add(o(0,e,h(a)?a:D,e.notifyWith)),n[1][3].add(o(0,e,h(t)?t:D)),n[2][3].add(o(0,e,h(r)?r:R))}).promise()},promise:function(e){return null!=e?w.extend(e,a):a}},i={};return w.each(n,function(e,t){var o=t[2],s=t[5];a[t[1]]=o.add,s&&o.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),o.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=o.fireWith}),a.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(L(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||h(i[n]&&i[n].then)))return o.then();for(;n--;)L(i[n],s(n),o.reject);return o.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var q=w.Deferred();function V(){m.removeEventListener("DOMContentLoaded",V),e.removeEventListener("load",V),w.ready()}w.fn.ready=function(e){return q.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||q.resolveWith(m,[w]))}}),w.ready.then=q.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(w.ready):(m.addEventListener("DOMContentLoaded",V),e.addEventListener("load",V));var H=function e(t,n,r,a,i,o,s){var c=0,u=t.length,l=null==r;if("object"===b(r))for(c in i=!0,r)e(t,n,c,r[c],!0,o,s);else if(void 0!==a&&(i=!0,h(a)||(s=!0),l&&(s?(n.call(t,a),n=null):(l=n,n=function(e,t,n){return l.call(w(e),n)})),n))for(;c<u;c++)n(t[c],r,s?a:a.call(t[c],c,n(t[c],r)));return i?t:l?n.call(t):u?n(t[0],r):o},z=/^-ms-/,W=/-([a-z])/g;function $(e,t){return t.toUpperCase()}function B(e){return e.replace(z,"ms-").replace(W,$)}var U=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=w.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},U(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,a=this.cache(e);if("string"==typeof t)a[B(t)]=n;else for(r in t)a[B(r)]=t[r];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][B(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(B):(t=B(t))in r?[t]:t.match(M)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var X=new G,J=new G,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Y.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return J.hasData(e)||X.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,a,i=this[0],o=i&&i.attributes;if(void 0===e){if(this.length&&(a=J.get(i),1===i.nodeType&&!X.get(i,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=B(r.slice(5)),Z(i,r,a[r]));X.set(i,"hasDataAttrs",!0)}return a}return"object"===(void 0===e?"undefined":_typeof(e))?this.each(function(){J.set(this,e)}):H(this,function(t){var n;if(i&&void 0===t)return void 0!==(n=J.get(i,e))?n:void 0!==(n=Z(i,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,a=n.shift(),i=w._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete i.stop,a.call(e,function(){w.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:w.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=w.Deferred(),i=this,o=this.length,s=function(){--r||a.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=X.get(i[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),a.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ne=m.documentElement,re=function(e){return w.contains(e.ownerDocument,e)},ae={composed:!0};ne.getRootNode&&(re=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===w.css(e,"display")};function oe(e,t,n,r){var a,i,o=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},c=s(),u=n&&n[3]||(w.cssNumber[t]?"":"px"),l=e.nodeType&&(w.cssNumber[t]||"px"!==u&&+c)&&ee.exec(w.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;o--;)w.style(e,t,l+u),(1-i)*(1-(i=s()/c||.5))<=0&&(o=0),l/=i;l*=2,w.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,a=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=a)),a}var se={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,a=se[r];return a||(t=n.body.appendChild(n.createElement(r)),a=w.css(t,"display"),t.parentNode.removeChild(t),"none"===a&&(a="block"),se[r]=a,a)}function ue(e,t){for(var n,r,a=[],i=0,o=e.length;i<o;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(a[i]=X.get(r,"display")||null,a[i]||(r.style.display="")),""===r.style.display&&ie(r)&&(a[i]=ce(r))):"none"!==n&&(a[i]="none",X.set(r,"display",n)));for(i=0;i<o;i++)null!=a[i]&&(e[i].style.display=a[i]);return e}w.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?w(this).show():w(this).hide()})}});var le,pe,fe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;le=m.createDocumentFragment().appendChild(m.createElement("div")),(pe=m.createElement("input")).setAttribute("type","radio"),pe.setAttribute("checked","checked"),pe.setAttribute("name","t"),le.appendChild(pe),d.checkClone=le.cloneNode(!0).cloneNode(!0).lastChild.checked,le.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!le.cloneNode(!0).lastChild.defaultValue,le.innerHTML="<option></option>",d.option=!!le.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&j(e,t)?w.merge([e],n):n}function ge(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,d.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var ve=/<|&#?\w+;/;function be(e,t,n,r,a){for(var i,o,s,c,u,l,p=t.createDocumentFragment(),f=[],d=0,h=e.length;d<h;d++)if((i=e[d])||0===i)if("object"===b(i))w.merge(f,i.nodeType?[i]:i);else if(ve.test(i)){for(o=o||p.appendChild(t.createElement("div")),s=(de.exec(i)||["",""])[1].toLowerCase(),c=ye[s]||ye._default,o.innerHTML=c[1]+w.htmlPrefilter(i)+c[2],l=c[0];l--;)o=o.lastChild;w.merge(f,o.childNodes),(o=p.firstChild).textContent=""}else f.push(t.createTextNode(i));for(p.textContent="",d=0;i=f[d++];)if(r&&w.inArray(i,r)>-1)a&&a.push(i);else if(u=re(i),o=me(p.appendChild(i),"script"),u&&ge(o),n)for(l=0;i=o[l++];)he.test(i.type||"")&&n.push(i);return p}var we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function ke(){return!1}function Oe(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==("focus"===t)}function je(e,t,n,r,a,i){var o,s;if("object"===(void 0===t?"undefined":_typeof(t))){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)je(e,s,n,r,t[s],i);return e}if(null==r&&null==a?(a=n,r=n=void 0):null==a&&("string"==typeof n?(a=r,r=void 0):(a=r,r=n,n=void 0)),!1===a)a=ke;else if(!a)return e;return 1===i&&(o=a,(a=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each(function(){w.event.add(this,t,a,r,n)})}function Ae(e,t,n){n?(X.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=X.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),X.set(this,t,o),r=n(this,t),this[t](),o!==(i=X.get(this,t))||r?X.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(X.set(this,t,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&w.event.add(e,t,xe)}w.event={global:{},add:function(e,t,n,r,a){var i,o,s,c,u,l,p,f,d,h,y,m=X.get(e);if(U(e))for(n.handler&&(n=(i=n).handler,a=i.selector),a&&w.find.matchesSelector(ne,a),n.guid||(n.guid=w.guid++),(c=m.events)||(c=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(M)||[""]).length;u--;)d=y=(s=Se.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d&&(p=w.event.special[d]||{},d=(a?p.delegateType:p.bindType)||d,p=w.event.special[d]||{},l=w.extend({type:d,origType:y,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&w.expr.match.needsContext.test(a),namespace:h.join(".")},i),(f=c[d])||((f=c[d]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,r,h,o)||e.addEventListener&&e.addEventListener(d,o)),p.add&&(p.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,l):f.push(l),w.event.global[d]=!0)},remove:function(e,t,n,r,a){var i,o,s,c,u,l,p,f,d,h,y,m=X.hasData(e)&&X.get(e);if(m&&(c=m.events)){for(u=(t=(t||"").match(M)||[""]).length;u--;)if(d=y=(s=Se.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d){for(p=w.event.special[d]||{},f=c[d=(r?p.delegateType:p.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=i=f.length;i--;)l=f[i],!a&&y!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(i,1),l.selector&&f.delegateCount--,p.remove&&p.remove.call(e,l));o&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,m.handle)||w.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)w.event.remove(e,d+t[u],n,r,!0);w.isEmptyObject(c)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,a,i,o,s=new Array(arguments.length),c=w.event.fix(e),u=(X.get(this,"events")||Object.create(null))[c.type]||[],l=w.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(o=w.event.handlers.call(this,c,u),t=0;(a=o[t++])&&!c.isPropagationStopped();)for(c.currentTarget=a.elem,n=0;(i=a.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==i.namespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,void 0!==(r=((w.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,s))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,a,i,o,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],o={},n=0;n<c;n++)void 0===o[a=(r=t[n]).selector+" "]&&(o[a]=r.needsContext?w(a,this).index(u)>-1:w.find(a,this,null,[u]).length),o[a]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:h(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&j(t,"input")&&Ae(t,"click",xe),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&j(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&j(t,"input")&&X.get(t,"click")||j(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return Ae(this,e,Oe),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,a=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return je(this,e,t,n,r)},one:function(e,t,n,r){return je(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===(void 0===e?"undefined":_typeof(e))){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ce=/<script|<style|<link/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,a,i,o,s;if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(a in X.remove(t,"handle events"),s)for(n=0,r=s[a].length;n<r;n++)w.event.add(t,a,s[a][n]);J.hasData(e)&&(i=J.access(e),o=w.extend({},i),J.set(t,o))}}function De(e,t,n,r){t=i(t);var a,o,s,c,u,l,p=0,f=e.length,y=f-1,m=t[0],g=h(m);if(g||f>1&&"string"==typeof m&&!d.checkClone&&Ee.test(m))return e.each(function(a){var i=e.eq(a);g&&(t[0]=m.call(this,a,i.html())),De(i,t,n,r)});if(f&&(o=(a=be(t,e[0].ownerDocument,!1,e,r)).firstChild,1===a.childNodes.length&&(a=o),o||r)){for(c=(s=w.map(me(a,"script"),Pe)).length;p<f;p++)u=a,p!==y&&(u=w.clone(u,!0,!0),c&&w.merge(s,me(u,"script"))),n.call(e[p],u,p);if(c)for(l=s[s.length-1].ownerDocument,w.map(s,Ie),p=0;p<c;p++)u=s[p],he.test(u.type||"")&&!X.access(u,"globalEval")&&w.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&!u.noModule&&w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):v(u.textContent.replace(_e,""),u,l))}return e}function Re(e,t,n){for(var r,a=t?w.filter(t,e):e,i=0;null!=(r=a[i]);i++)n||1!==r.nodeType||w.cleanData(me(r)),r.parentNode&&(n&&re(r)&&ge(me(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,a,i,o,s,c,u,l=e.cloneNode(!0),p=re(e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(o=me(l),r=0,a=(i=me(e)).length;r<a;r++)s=i[r],c=o[r],void 0,"input"===(u=c.nodeName.toLowerCase())&&fe.test(s.type)?c.checked=s.checked:"input"!==u&&"textarea"!==u||(c.defaultValue=s.defaultValue);if(t)if(n)for(i=i||me(e),o=o||me(l),r=0,a=i.length;r<a;r++)Me(i[r],o[r]);else Me(e,l);return(o=me(l,"script")).length>0&&ge(o,!p&&me(e,"script")),l},cleanData:function(e){for(var t,n,r,a=w.event.special,i=0;void 0!==(n=e[i]);i++)if(U(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)a[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return H(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return De(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return De(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ce.test(e)&&!ye[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],a=w(e),i=a.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),w(a[s])[t](n),o.apply(r,n.get());return this.pushStack(r)}});var Le=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),Fe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},qe=function(e,t,n){var r,a,i={};for(a in t)i[a]=e.style[a],e.style[a]=t[a];for(a in r=n.call(e),t)e.style[a]=i[a];return r},Ve=new RegExp(te.join("|"),"i");function He(e,t,n){var r,a,i,o,s=e.style;return(n=n||Fe(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||re(e)||(o=w.style(e,t)),!d.pixelBoxStyles()&&Le.test(o)&&Ve.test(t)&&(r=s.width,a=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=a,s.maxWidth=i)),void 0!==o?o+"":o}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(u).appendChild(l);var t=e.getComputedStyle(l);r="1%"!==t.top,c=12===n(t.marginLeft),l.style.right="60%",o=36===n(t.right),a=36===n(t.width),l.style.position="absolute",i=12===n(l.offsetWidth/3),ne.removeChild(u),l=null}}function n(e){return Math.round(parseFloat(e))}var r,a,i,o,s,c,u=m.createElement("div"),l=m.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===l.style.backgroundClip,w.extend(d,{boxSizingReliable:function(){return t(),a},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,n,r,a;return null==s&&(t=m.createElement("table"),n=m.createElement("tr"),r=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",r.style.height="9px",ne.appendChild(t).appendChild(n).appendChild(r),a=e.getComputedStyle(n),s=parseInt(a.height)>3,ne.removeChild(t)),s}}))}();var We=["Webkit","Moz","ms"],$e=m.createElement("div").style,Be={};function Ue(e){var t=w.cssProps[e]||Be[e];return t||(e in $e?e:Be[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in $e)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"};function Ke(e,t,n){var r=ee.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,a,i){var o="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=w.css(e,n+te[o],!0,a)),r?("content"===n&&(c-=w.css(e,"padding"+te[o],!0,a)),"margin"!==n&&(c-=w.css(e,"border"+te[o]+"Width",!0,a))):(c+=w.css(e,"padding"+te[o],!0,a),"padding"!==n?c+=w.css(e,"border"+te[o]+"Width",!0,a):s+=w.css(e,"border"+te[o]+"Width",!0,a));return!r&&i>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-s-.5))||0),c}function Qe(e,t,n){var r=Fe(e),a=(!d.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),i=a,o=He(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Le.test(o)){if(!n)return o;o="auto"}return(!d.boxSizingReliable()&&a||!d.reliableTrDimensions()&&j(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(a="border-box"===w.css(e,"boxSizing",!1,r),(i=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+Ze(e,t,n||(a?"border":"content"),i,r,o)+"px"}function et(e,t,n,r,a){return new et.prototype.init(e,t,n,r,a)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,o,s=B(t),c=Xe.test(t),u=e.style;if(c||(t=Ue(s)),o=w.cssHooks[t]||w.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(a=o.get(e,!1,r))?a:u[t];"string"===(i=void 0===n?"undefined":_typeof(n))&&(a=ee.exec(n))&&a[1]&&(n=oe(e,t,a),i="number"),null!=n&&n==n&&("number"!==i||c||(n+=a&&a[3]||(w.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var a,i,o,s=B(t);return Xe.test(t)||(t=Ue(s)),(o=w.cssHooks[t]||w.cssHooks[s])&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=He(e,t,r)),"normal"===a&&t in Ye&&(a=Ye[t]),""===n||n?(i=parseFloat(a),!0===n||isFinite(i)?i||0:a):a}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,r):qe(e,Je,function(){return Qe(e,t,r)})},set:function(e,n,r){var a,i=Fe(e),o=!d.scrollboxSize()&&"absolute"===i.position,s=(o||r)&&"border-box"===w.css(e,"boxSizing",!1,i),c=r?Ze(e,t,r,s,i):0;return s&&o&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Ze(e,t,"border",!1,i)-.5)),c&&(a=ee.exec(n))&&"px"!==(a[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(0,n,c)}}}),w.cssHooks.marginLeft=ze(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,a={},i="string"==typeof n?n.split(" "):[n];r<4;r++)a[e+te[r]+t]=i[r]||i[r-2]||i[0];return a}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return H(this,function(e,t,n){var r,a,i={},o=0;if(Array.isArray(t)){for(r=Fe(e),a=t.length;o<a;o++)i[t[o]]=w.css(e,t[o],!1,r);return i}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=et,et.prototype={constructor:et,init:function(e,t,n,r,a,i){this.elem=e,this.prop=n,this.easing=a||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(w.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Ue(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=et.prototype.init,w.fx.step={};var tt,nt,rt=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function it(){nt&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(it):e.setTimeout(it,w.fx.interval),w.fx.tick())}function ot(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function st(e,t){var n,r=0,a={height:e};for(t=t?1:0;r<4;r+=2-t)a["margin"+(n=te[r])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function ct(e,t,n){for(var r,a=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),i=0,o=a.length;i<o;i++)if(r=a[i].call(n,t,e))return r}function ut(e,t,n){var r,a,i=0,o=ut.prefilters.length,s=w.Deferred().always(function(){delete c.elem}),c=function(){if(a)return!1;for(var t=tt||ot(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,o=u.tweens.length;i<o;i++)u.tweens[i].run(r);return s.notifyWith(e,[u,r,n]),r<1&&o?n:(o||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||ot(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(a)return this;for(a=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var n,r,a,i,o;for(n in e)if(a=t[r=B(n)],i=e[n],Array.isArray(i)&&(a=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(o=w.cssHooks[r])&&"expand"in o)for(n in i=o.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=a);else t[r]=a}(l,u.opts.specialEasing);i<o;i++)if(r=ut.prefilters[i].call(u,e,l,u.opts))return h(r.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return w.map(l,ct,u),h(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return oe(n.elem,e,ee.exec(t),n),n}]},tweener:function(e,t){h(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,a=e.length;r<a;r++)n=e[r],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,a,i,o,s,c,u,l,p="width"in t||"height"in t,f=this,d={},h=e.style,y=e.nodeType&&ie(e),m=X.get(e,"fxshow");for(r in n.queue||(null==(o=w._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,f.always(function(){f.always(function(){o.unqueued--,w.queue(e,"fx").length||o.empty.fire()})})),t)if(a=t[r],rt.test(a)){if(delete t[r],i=i||"toggle"===a,a===(y?"hide":"show")){if("show"!==a||!m||void 0===m[r])continue;y=!0}d[r]=m&&m[r]||w.style(e,r)}if((c=!w.isEmptyObject(t))||!w.isEmptyObject(d))for(r in p&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=X.get(e,"display")),"none"===(l=w.css(e,"display"))&&(u?l=u:(ue([e],!0),u=e.style.display||u,l=w.css(e,"display"),ue([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===w.css(e,"float")&&(c||(f.done(function(){h.display=u}),null==u&&(l=h.display,u="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),c=!1,d)c||(m?"hidden"in m&&(y=m.hidden):m=X.access(e,"fxshow",{display:u}),i&&(m.hidden=!y),y&&ue([e],!0),f.done(function(){for(r in y||ue([e]),X.remove(e,"fxshow"),d)w.style(e,r,d[r])})),c=ct(y?m[r]:0,r,f),r in m||(m[r]=c.start,y&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"===(void 0===e?"undefined":_typeof(e))?w.extend({},e):{complete:n||!n&&t||h(e)&&e,duration:e,easing:n&&t||t&&!h(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){h(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=w.isEmptyObject(e),i=w.speed(t,n,r),o=function(){var t=ut(this,w.extend({},e),i);(a||X.get(this,"finish"))&&t.stop(!0)};return o.finish=o,a||!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",i=w.timers,o=X.get(this);if(a)o[a]&&o[a].stop&&r(o[a]);else for(a in o)o[a]&&o[a].stop&&at.test(a)&&r(o[a]);for(a=i.length;a--;)i[a].elem!==this||null!=e&&i[a].queue!==e||(i[a].anim.stop(n),t=!1,i.splice(a,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=X.get(this),r=n[e+"queue"],a=n[e+"queueHooks"],i=w.timers,o=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(st(t,!0),e,r,a)}}),w.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),tt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){nt||(nt=!0,it())},w.fx.stop=function(){nt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var a=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(a)}})},function(){var e=m.createElement("input"),t=m.createElement("select").appendChild(m.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=t.selected,(e=m.createElement("input")).value="t",e.type="radio",d.radioValue="t"===e.value}();var lt,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return H(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?w.prop(e,t,n):(1===i&&w.isXMLDoc(e)||(a=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(r=a.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&j(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,a=t&&t.match(M);if(a&&1===e.nodeType)for(;n=a[r++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pt[t]||w.find.attr;pt[t]=function(e,t,r){var a,i,o=t.toLowerCase();return r||(i=pt[o],pt[o]=a,a=null!=n(e,t,r)?o:null,pt[o]=i),a}});var ft=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(M)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}w.fn.extend({prop:function(e,t){return H(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&w.isXMLDoc(e)||(t=w.propFix[t]||t,a=w.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:e[t]=n:a&&"get"in a&&null!==(r=a.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,a,i,o,s,c=0;if(h(e))return this.each(function(t){w(this).addClass(e.call(this,t,yt(this)))});if((t=mt(e)).length)for(;n=this[c++];)if(a=yt(n),r=1===n.nodeType&&" "+ht(a)+" "){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,a,i,o,s,c=0;if(h(e))return this.each(function(t){w(this).removeClass(e.call(this,t,yt(this)))});if(!arguments.length)return this.attr("class","");if((t=mt(e)).length)for(;n=this[c++];)if(a=yt(n),r=1===n.nodeType&&" "+ht(a)+" "){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");a!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":_typeof(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):h(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,yt(this),t),t)}):this.each(function(){var t,a,i,o;if(r)for(a=0,i=w(this),o=mt(e);t=o[a++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ht(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g;w.fn.extend({val:function(e){var t,n,r,a=this[0];return arguments.length?(r=h(e),this.each(function(n){var a;1===this.nodeType&&(null==(a=r?e.call(this,n,w(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=w.map(a,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))})):a?(t=w.valHooks[a.type]||w.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:"string"==typeof(n=a.value)?n.replace(gt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:ht(w.text(e))}},select:{get:function(e){var t,n,r,a=e.options,i=e.selectedIndex,o="select-one"===e.type,s=o?null:[],c=o?i+1:a.length;for(r=i<0?c:o?i:0;r<c;r++)if(((n=a[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(t=w(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,a=e.options,i=w.makeArray(t),o=a.length;o--;)((r=a[o]).selected=w.inArray(w.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},d.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),d.focusin="onfocusin"in e;var vt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,r,a){var i,o,s,c,u,p,f,d,g=[r||m],v=l.call(t,"type")?t.type:t,b=l.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=r=r||m,3!==r.nodeType&&8!==r.nodeType&&!vt.test(v+w.event.triggered)&&(v.indexOf(".")>-1&&(v=(b=v.split(".")).shift(),b.sort()),u=v.indexOf(":")<0&&"on"+v,(t=t[w.expando]?t:new w.Event(v,"object"===(void 0===t?"undefined":_typeof(t))&&t)).isTrigger=a?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:w.makeArray(n,[t]),f=w.event.special[v]||{},a||!f.trigger||!1!==f.trigger.apply(r,n))){if(!a&&!f.noBubble&&!y(r)){for(c=f.delegateType||v,vt.test(c+v)||(o=o.parentNode);o;o=o.parentNode)g.push(o),s=o;s===(r.ownerDocument||m)&&g.push(s.defaultView||s.parentWindow||e)}for(i=0;(o=g[i++])&&!t.isPropagationStopped();)d=o,t.type=i>1?c:f.bindType||v,(p=(X.get(o,"events")||Object.create(null))[t.type]&&X.get(o,"handle"))&&p.apply(o,n),(p=u&&o[u])&&p.apply&&U(o)&&(t.result=p.apply(o,n),!1===t.result&&t.preventDefault());return t.type=v,a||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),n)||!U(r)||u&&h(r[v])&&!y(r)&&((s=r[u])&&(r[u]=null),w.event.triggered=v,t.isPropagationStopped()&&d.addEventListener(v,bt),r[v](),t.isPropagationStopped()&&d.removeEventListener(v,bt),w.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),d.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,a=X.access(r,t);a||r.addEventListener(e,n,!0),X.access(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,a=X.access(r,t)-1;a?X.access(r,t,a):(r.removeEventListener(e,n,!0),X.remove(r,t))}}});var wt=e.location,Tt={guid:Date.now()},St=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var xt=/\[\]$/,kt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,r){var a;if(Array.isArray(t))w.each(t,function(t,a){n||xt.test(e)?r(e,a):At(e+"["+("object"===(void 0===a?"undefined":_typeof(a))&&null!=a?t:"")+"]",a,n,r)});else if(n||"object"!==b(t))r(e,t);else for(a in t)At(e+"["+a+"]",t[a],n,r)}w.param=function(e,t){var n,r=[],a=function(e,t){var n=h(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){a(this.name,this.value)});else for(n in e)At(n,e[n],t,a);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&jt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Ct=/%20/g,Et=/#.*$/,_t=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,It=/^\/\//,Mt={},Dt={},Rt="*/".concat("*"),Lt=m.createElement("a");function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,i=t.toLowerCase().match(M)||[];if(h(n))for(;r=i[a++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qt(e,t,n,r){var a={},i=e===Dt;function o(s){var c;return a[s]=!0,w.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||i||a[u]?i?!(c=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),c}return o(t.dataTypes[0])||!a["*"]&&o("*")}function Vt(e,t){var n,r,a=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}Lt.href=wt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,w.ajaxSettings),t):Vt(w.ajaxSettings,e)},ajaxPrefilter:Ft(Mt),ajaxTransport:Ft(Dt),ajax:function(t,n){"object"===(void 0===t?"undefined":_typeof(t))&&(n=t,t=void 0),n=n||{};var r,a,i,o,s,c,u,l,p,f,d=w.ajaxSetup({},n),h=d.context||d,y=d.context&&(h.nodeType||h.jquery)?w(h):w.event,g=w.Deferred(),v=w.Callbacks("once memory"),b=d.statusCode||{},T={},S={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!o)for(o={};t=Nt.exec(i);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,T[e]=t),this},overrideMimeType:function(e){return null==u&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return r&&r.abort(t),O(0,t),this}};if(g.promise(k),d.url=((t||d.url||wt.href)+"").replace(It,wt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(M)||[""],null==d.crossDomain){c=m.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Lt.protocol+"//"+Lt.host!=c.protocol+"//"+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=w.param(d.data,d.traditional)),qt(Mt,d,n,k),u)return k;for(p in(l=w.event&&d.global)&&0==w.active++&&w.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),a=d.url.replace(Et,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ct,"+")):(f=d.url.slice(a.length),d.data&&(d.processData||"string"==typeof d.data)&&(a+=(St.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(a=a.replace(_t,"$1"),f=(St.test(a)?"&":"?")+"_="+Tt.guid+++f),d.url=a+f),d.ifModified&&(w.lastModified[a]&&k.setRequestHeader("If-Modified-Since",w.lastModified[a]),w.etag[a]&&k.setRequestHeader("If-None-Match",w.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Rt+"; q=0.01":""):d.accepts["*"]),d.headers)k.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(!1===d.beforeSend.call(h,k,d)||u))return k.abort();if(x="abort",v.add(d.complete),k.done(d.success),k.fail(d.error),r=qt(Dt,d,n,k)){if(k.readyState=1,l&&y.trigger("ajaxSend",[k,d]),u)return k;d.async&&d.timeout>0&&(s=e.setTimeout(function(){k.abort("timeout")},d.timeout));try{u=!1,r.send(T,O)}catch(e){if(u)throw e;O(-1,e)}}else O(-1,"No Transport");function O(t,n,o,c){var p,f,m,T,S,x=n;u||(u=!0,s&&e.clearTimeout(s),r=void 0,i=c||"",k.readyState=t>0?4:0,p=t>=200&&t<300||304===t,o&&(T=function(e,t,n){for(var r,a,i,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){c.unshift(a);break}if(c[0]in n)i=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){i=a;break}o||(o=a)}i=i||o}if(i)return i!==c[0]&&c.unshift(i),n[i]}(d,k,o)),!p&&w.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),T=function(e,t,n,r){var a,i,o,s,c,u={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(o=u[c+" "+i]||u["* "+i]))for(a in u)if((s=a.split(" "))[1]===i&&(o=u[c+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[a]:!0!==u[a]&&(i=s[0],l.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}(d,T,k,p),p?(d.ifModified&&((S=k.getResponseHeader("Last-Modified"))&&(w.lastModified[a]=S),(S=k.getResponseHeader("etag"))&&(w.etag[a]=S)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=T.state,f=T.data,p=!(m=T.error))):(m=x,!t&&x||(x="error",t<0&&(t=0))),k.status=t,k.statusText=(n||x)+"",p?g.resolveWith(h,[f,x,k]):g.rejectWith(h,[k,x,m]),k.statusCode(b),b=void 0,l&&y.trigger(p?"ajaxSuccess":"ajaxError",[k,d,p?f:m]),v.fireWith(h,[k,x]),l&&(y.trigger("ajaxComplete",[k,d]),--w.active||w.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,a){return h(n)&&(a=a||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:a,data:n,success:r},w.isPlainObject(e)&&e))}}),w.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),w._evalUrl=function(e,t,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(h(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return h(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},zt=w.ajaxSettings.xhr();d.cors=!!zt&&"withCredentials"in zt,d.ajax=zt=!!zt,w.ajaxTransport(function(t){var n,r;if(d.cors||zt&&!t.crossDomain)return{send:function(a,i){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)s.setRequestHeader(o,a[o]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ht[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,a){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){n&&n()}}});var Wt,$t=[],Bt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||w.expando+"_"+Tt.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var a,i,o,s=!1!==t.jsonp&&(Bt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=h(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Bt,"$1"+a):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||w.error(a+" was not called"),o[0]},t.dataTypes[0]="json",i=e[a],e[a]=function(){o=arguments},r.always(function(){void 0===i?w(e).removeProp(a):e[a]=i,t[a]&&(t.jsonpCallback=n.jsonpCallback,$t.push(a)),o&&h(i)&&i(o[0]),o=i=void 0}),"script"}),d.createHTMLDocument=((Wt=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(d.createHTMLDocument?((r=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(r)):t=m),i=!n&&[],(a=A.exec(e))?[t.createElement(a[1])]:(a=be([e],t,i),i&&i.length&&w(i).remove(),w.merge([],a.childNodes)));var r,a,i},w.fn.load=function(e,t,n){var r,a,i,o=this,s=e.indexOf(" ");return s>-1&&(r=ht(e.slice(s)),e=e.slice(0,s)),h(t)?(n=t,t=void 0):t&&"object"===(void 0===t?"undefined":_typeof(t))&&(a="POST"),o.length>0&&w.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,a,i,o,s,c,u=w.css(e,"position"),l=w(e),p={};"static"===u&&(e.style.position="relative"),s=l.offset(),i=w.css(e,"top"),c=w.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+c).indexOf("auto")>-1?(o=(r=l.position()).top,a=r.left):(o=parseFloat(i)||0,a=parseFloat(c)||0),h(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+o),null!=t.left&&(p.left=t.left-s.left+a),"using"in t?t.using.call(e,p):("number"==typeof p.top&&(p.top+="px"),"number"==typeof p.left&&(p.left+="px"),l.css(p))}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],a={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((a=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),a.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-w.css(r,"marginTop",!0),left:t.left-a.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ne})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return H(this,function(e,r,a){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===a)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:a,n?a:i.pageYOffset):e[r]=a},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=ze(d.pixelPosition,function(e,n){if(n)return n=He(e,t),Le.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(a,i){var o=arguments.length&&(n||"boolean"!=typeof a),s=n||(!0===a||!0===i?"margin":"border");return H(this,function(t,n,a){var i;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===a?w.css(t,n,s):w.style(t,n,a,s)},t,o?a:void 0,o)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var Ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),h(e))return r=a.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=j,w.isFunction=h,w.isWindow=y,w.camelCase=B,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Ut,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Gt=e.jQuery,Xt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Xt),t&&e.jQuery===w&&(e.jQuery=Gt),w},void 0===t&&(e.jQuery=e.$=w),w}),define("jqueryplugins",["jquery"],function(e){e.prototype.extend({popAttr:function(e){var t=this.attr(e);return this.removeAttr(e),t},popData:function(e){var t=this.data(e);return this.removeData(e),t},tag:function(){return this[0]&&this[0].tagName&&this[0].tagName.toLowerCase()},textNodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";return 1===this.length&&this[0]instanceof Text?[this[0]]:this.get().concat(this.contents().get(),this.find(e).contents().get()).filter(function(e,t,n){return e instanceof Text&&n.indexOf(e)===t}).sort(function(e,t){return 2&e.compareDocumentPosition(t)?1:-1})},findAndFilter:function(e){return this.filter(e).add(this.find(e))}})}),function(){var e=void 0,t={};function n(){for(var e=0;e<arguments.length;e++)for(var t in arguments[e])this[t]=arguments[e][t]}function r(e,t){e.childAt=e.childAt||{};for(var n=t.start;n<t.end;n+=1)e.childAt[n]=t}function a(e,t,n,r){return!(e.canFollow&&!(e.canFollow.indexOf(n&&n.type)>-1)||e.cannotFollow&&(-1!==e.cannotFollow.indexOf(n&&n.type)||e.cannotFollow.indexOf("text")>-1&&r)||e.peek&&e.peek.toLowerCase()!==t.slice(0,e.peek.length).toLowerCase())}function i(e){for(var n=e.innerText,r=[],i=0,s=i,c=n.length,u=null;i<c;){for(var l=n.slice(i),p=(r.length?r[0]:e).innerMode,f=0,d=p.length;f<d;f+=1){var h=t[p[f]];if(a(h,l,u,s<i)&&h.pattern.test(l)){var y=h.pattern.exec(l),m=h.fn(y),g=!1,v=0;if(m.matches){for(;v<r.length;v+=1){var b=r[v].type;if(b in m.matches){g=!0;break}0===b.indexOf("verbatim")&&(b="verbatimOpener"),m.cannotCross&&m.cannotCross.indexOf(b)>-1&&(v=r.length-1)}if(v>=r.length&&!m.isFront)continue}s<i&&e.addChild({type:"text",text:n.slice(s,i),innerMode:p}),s=i+=(u=e.addChild(m)).text.length,g&&(o(e,u,r[v]),r=r.slice(v+1)),u.isFrontToken()&&r.unshift(u);break}}f===d&&(i+=1,null===u&&(u={type:"text"}))}for(s<i&&e.addChild({type:"text",text:n.slice(s,i),innerMode:(r.length?r[0]:e).innerMode});r.length>0;)r.shift().demote();return e}function o(e,t,n){var a=e.children.indexOf(t),i=e.children.indexOf(n);t.children=e.children.splice(i+1,a-(i+1)),t.children.forEach(function(e){r(t,e)}),t.type=t.matches[n.type],t.innerText="";for(var o=0,s=t.children.length;o<s;o++)t.innerText+=t.children[o].text;t.start=n.start,t.text=n.text+t.innerText+t.text,Object.keys(n).forEach(function(e){Object.hasOwnProperty.call(t,e)||(t[e]=n[e])}),t.isFront&&(t.isFront=!1),e.children.splice(i,1),r(e,t)}n.prototype={constructor:n,addChild:function(e){var t=this.lastChildEnd(),a=new n({start:t,end:e.text&&t+e.text.length,children:[]},e);return a.innerText&&i(a),this.children.push(a),r(this,a),a},firstChild:function(){return this.children&&this.children[0]||null},lastChild:function(){return this.children&&this.children[this.children.length-1]||null},lastChildEnd:function(){var e=this.lastChild();return e?e.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(e){if(e<this.start||e>=this.end)return null;if(this.childAt)return this.childAt[e]&&this.childAt[e].tokenAt(e)||this;if(this.children.length)for(var t=0;t<this.children.length;t+=1){var n=this.children[t].tokenAt(e);if(n)return n}return this},pathAt:function(e){if(e<this.start||e>=this.end)return[];if(this.childAt)return(this.childAt[e]&&this.childAt[e].pathAt(e)||[]).concat(this);var t=[];if(this.children.length)for(var n=0;n<this.children.length;n+=1){var r=this.children[n].pathAt(e);if(r.length){t.concat(r);break}}return t.concat(this)},nearestTokenAt:function(e){return e<this.start||e>=this.end?null:this.children?this.children.reduce(function(t,n){return t||(e>=n.start&&e<n.end?n:null)},null):this},everyLeaf:function(e){return this.children&&0!==this.children.length?this.children.reduce(function(t,n){return t&&n.everyLeaf(e)},!0):!!e(this)},isWhitespace:function(){return this.everyLeaf(function(e){return"whitespace"===e.type||!e.text.trim()})},isFrontToken:function(){return this.isFront},isBackToken:function(){return"matches"in this},demote:function(){this.type="text"},error:function(e){this.type="error",this.message=e},toString:function(){var e=this.type+"("+this.start+"\u2192"+this.end+")";return this.children&&this.children.length>0&&(e+="["+this.children+"]"),e}},e={lex:function(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start";return i(new n({type:"root",start:r||0,end:t.length,text:t,innerText:t,children:[],childAt:{},innerMode:e.modes[a]}))},rules:t,modes:{}},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e:"function"==typeof define&&define.amd?define("lexer",[],function(){return e}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Lexer=e):this.TwineLexer=e}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){var e;function t(e){return e&&"object"===(void 0===e?"undefined":_typeof(e))?(Object.keys(e).forEach(function(n){e[n]=t(e[n])}),e):(e+"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(e){return function(){return"("+e+Array.apply(0,arguments).join("|")+")"}}var r=n("?:"),a=n("?!"),i=n("?="),o="[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*",s=o.replace("*","+"),c="\\b",u="[\\w\\-\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",l=u.replace("\\-",""),p=r("\\n","$"),f=o+"(\\*+)"+s,d=o+"((?:0\\.)+)"+s,h=o+"-{3,}"+o+p,y=o+"(==+>|<=+|=+><=+|<==+>)"+o+p,m=o+"(=+\\|+|\\|+=+|=+\\|+=+|\\|=+\\|)"+o+p,g={opener:"\\[\\[(?!\\[)",text:"("+function(){return"[^"+Array.apply(0,arguments).map(t).join("")+"]*"}("]")+")",rightSeparator:r("\\->","\\|"),leftSeparator:"<\\-",closer:"\\]\\]",legacySeparator:"\\|",legacyText:"("+r("[^\\|\\]]","\\]"+a("\\]"))+"+)"},v=l+"*"+l.replace("\\w","a-zA-Z")+l+"*",b="\\$("+v+")",w="_("+v+")",T="'s"+s+"("+v+")",S="("+v+")"+s+"of"+c+a("it\\b"),x="'s"+s,k=r("it","time","visits?","exits?","pos")+c,O="its"+s+"("+v+")",j="its"+s,A="("+v+")"+s+"of"+s+"it"+c,C="of\\b"+s+"it"+c,E={opener:"\\(",name:"("+r("\\$","_")+"?"+u+"+):"+a("\\/"),closer:"\\)"},_=r("=<","=>","[gl]te?\\b","n?eq\\b","isnot\\b","are\\b","x\\b","isa\\b","or"+s+"a"+c),N="[a-zA-Z][\\w\\-]*",P="(?:\"[^\"]*\"|'[^']*'|[^'\">])*?",I="\\|("+u+"+)(>|\\))",M="(<|\\()("+u+"+)\\|",D="\\b(\\d+(?:\\.\\d+)?(?:[eE][+\\-]?\\d+)?)"+a("m?s")+c;g.main=g.opener+r(g.text+g.rightSeparator,g.text.replace("*","*?")+g.leftSeparator)+g.text,e={upperLetter:"[A-Z\\u00c0-\\u00de\\u0150\\u0170]",lowerLetter:"[a-z0-9_\\-\\u00df-\\u00ff\\u0151\\u0171]",anyLetter:u,anyLetterStrict:l,whitespace:s.replace("[","[\\n\\r"),escapedLine:"\\\\\\n\\\\?|\\n\\\\",br:"\\n(?!\\\\)",commentFront:"\x3c!--",commentBack:"--\x3e",tag:"<\\/?"+N+P+">",tagPeek:"<",scriptStyleTag:"<("+r("script","style","textarea")+")"+P+">[^]*?<\\/\\1>",scriptStyleTagOpener:"<",url:"("+r("https?","mailto","javascript","ftp","data")+":\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])",bullet:"\\*",hr:h,heading:"[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*(#{1,6})[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*",align:y,column:m,bulleted:f,numbered:d,strikeOpener:t("~~"),italicOpener:t("//"),boldOpener:t("''"),supOpener:t("^^"),strongFront:t("**"),strongBack:t("**"),emFront:t("*"),emBack:t("*"),verbatimOpener:"`+",collapsedFront:"{",collapsedBack:"}",hookAppendedFront:"\\["+a("=+"),hookPrependedFront:I+"\\["+a("=+"),hookFront:"\\["+a("=+"),hookBack:"\\]"+a(M),hookAppendedBack:"\\]"+M,unclosedHook:"\\[=+",unclosedHookPrepended:I+"\\[=+",unclosedCollapsed:"\\{=+",passageLink:g.main+g.closer,passageLinkPeek:"[[",legacyLink:g.opener+g.legacyText+g.legacySeparator+g.legacyText+g.closer,legacyLinkPeek:"[[",simpleLink:g.opener+g.legacyText+g.closer,simpleLinkPeek:"[[",macroFront:E.opener+i(E.name),macroFrontPeek:"(",macroName:E.name,groupingFront:"\\("+a(E.name),groupingFrontPeek:"(",groupingBack:"\\)",twine1Macro:"<<[^>\\s]+\\s*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"|[^'\"\\\\>]|>(?!>))*>>",twine1MacroPeek:"<<",validPropertyName:v,property:T,propertyPeek:"'s",belongingProperty:S,possessiveOperator:x,belongingOperator:"of\\b",belongingOperatorPeek:"of",itsOperator:j,itsOperatorPeek:"its",belongingItOperator:C,belongingItOperatorPeek:"of",variable:b,variablePeek:"$",tempVariable:w,tempVariablePeek:"_",hookName:"\\?("+u+"+)\\b",hookNamePeek:"?",cssTime:"(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)\\b",colour:r(r("Red","Orange","Yellow","Lime","Green","Cyan","Aqua","Blue","Navy","Purple","Fuchsia","Magenta","White","Gray","Grey","Black","Transparent"),"#[\\dA-Fa-f]{3}(?:[\\dA-Fa-f]{3})?"),datatype:r("alnum","alphanumeric","any(?:case)?","array","bool(?:ean)?","changer","colou?r","const","command","dm","data"+r("map","type","set"),"ds","digit","gradient","empty","even","int"+a("o")+"(?:eger)?","lambda","lowercase","macro","linebreak","newline","num(?:ber)?","odd","str(?:ing)?","uppercase","whitespace")+c,number:D,boolean:r("true","false")+c,identifier:k,itsProperty:O,itsPropertyPeek:"its",belongingItProperty:A,escapedStringChar:"\\\\[^\\n]",singleStringOpener:"'",doubleStringOpener:'"',singleStringCloser:"'",doubleStringCloser:'"',is:"is"+a(s+"not"+c,s+"an?"+c,s+"in"+c,s+"<",s+">")+c,isNot:"is"+s+"not"+a(s+r("an?","in")+c)+c,isA:"is"+s+"an?"+c,isNotA:"is"+s+"not"+s+"an?"+c,matches:"matches\\b",doesNotMatch:"does"+s+"not"+s+"match"+c,and:"and\\b",or:"or\\b",not:"not\\b",inequality:"((?:is(?:"+s+"not)?"+o+")*)("+r("<(?!=)","<=",">(?!=)",">=")+")",isIn:"is"+s+"in"+c,contains:"contains\\b",doesNotContain:"does"+s+"not"+s+"contain"+c,isNotIn:"is"+s+"not"+s+"in"+c,addition:t("+")+a("="),subtraction:t("-")+a("=","type"),multiplication:t("*")+a("="),division:r("/","%")+a("="),comma:",",spread:"\\.\\.\\."+a("\\."),to:r("to\\b","="),into:"into\\b",making:"making\\b",where:"where\\b",when:"when\\b",via:"via\\b",each:"each\\b",augmentedAssign:r("\\+","\\-","\\*","\\/","%")+"=",bind:"2?bind\\b",typeSignature:t("-type")+c,incorrectOperator:_},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e:"function"==typeof define&&define.amd?define("patterns",[],function(){return e}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Patterns=e):this.Patterns=e}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){var e=void 0;Object.assign=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var t=Object.keys,n=Object.assign;function r(r){return Object.freeze({lex:function(r){function a(e){return e=e||"innerText",function(t){var n=t.reduceRight(function(e,t,n){return e||(n?t:"")},""),r={};return r[e]=n,r}}function i(e,t){var n={};return n[e]=t,function(){return{isFront:!0,matches:n,cannotCross:["verbatimOpener"]}}}var o=Object.bind(0,null);function s(e,t){return Object.keys(t).forEach(function(n){var r=t[n].fn;t[n].fn=function(t){var a=r(t);return a.text||(a.text=t[0]),a.type||(a.type=n),a.innerMode||(a.innerMode=e),a}}),t}var c=[],u=[],l=[],p=s(c,{hr:{fn:o},bulleted:{fn:function(e){return{depth:e[1].length}}},numbered:{fn:function(e){return{depth:e[1].length/2}}},heading:{fn:function(e){return{depth:e[1].length}}},align:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf("><");return~r?25===(t=Math.round(r/(n.length-2)*50))&&(t="center"):"<"===n[0]&&">"===n.slice(-1)?t="justify":n.indexOf(">")>-1?t="right":n.indexOf("<")>-1&&(t="left"),{align:t}}},column:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf("|");return r&&r<n.length-1?t="center":"|"===n[0]&&"|"===n.slice(-1)?t="none":r===n.length-1?t="right":r||(t="left"),{column:t,width:/\|+/.exec(n)[0].length,marginLeft:/^=*/.exec(n)[0].length,marginRight:/=*$/.exec(n)[0].length}}}});t(p).forEach(function(e){p[e].canFollow=[null,"br","hr","bulleted","numbered","heading","align","column","escapedLine"],p[e].cannotFollow=["text"]});var f=s(c,{twine1Macro:{fn:function(){return{type:"error",message:"Harlowe macros use a different syntax to Twine 1, SugarCube, and Yarn macros."}}},emBack:{fn:function(){return{matches:{emFront:"em"},cannotCross:["verbatimOpener"]}}},strongBack:{fn:function(){return{matches:{strongFront:"strong"},cannotCross:["verbatimOpener"]}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:i("boldOpener","bold")},italicOpener:{fn:i("italicOpener","italic")},strikeOpener:{fn:i("strikeOpener","strike")},supOpener:{fn:i("supOpener","sup")},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:"comment"}}}},scriptStyleTag:{fn:o},tag:{fn:o},url:{fn:o},hookPrependedFront:{fn:function(e){return{name:e[1],hidden:")"===e[2],isFront:!0,tagPosition:"prepended"}}},hookFront:{fn:function(){return{isFront:!0}}},hookBack:{fn:function(){return{matches:{hookPrependedFront:"hook",hookFront:"hook"},cannotCross:["verbatimOpener"]}}},hookAppendedBack:{fn:function(e){return{name:e[2],hidden:"("===e[1],tagPosition:"appended",matches:{hookFront:"hook"},cannotCross:["verbatimOpener"]}}},unclosedHook:{fn:o},unclosedHookPrepended:{fn:function(e){return{type:"unclosedHook",name:e[1],hidden:")"===e[2]}}},verbatimOpener:{fn:function(e){var t=e[0].length,n={};return n["verbatim"+t]="verbatim",{type:"verbatim"+t,isFront:!0,matches:n}}},unclosedCollapsed:{fn:o},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:"collapsed"},cannotCross:["verbatimOpener"]}}},escapedLine:{fn:o},legacyLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[2],innerMode:c}}},br:{fn:o}}),d=n(s(u,{macroFront:{fn:function(e){return{isFront:!0,name:e[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:"grouping",macroFront:"macro"},cannotCross:["singleStringOpener","doubleStringOpener"]}}},passageLink:{fn:function(e){var t=e[1]||"",n=e[2]||"",r=e[3]||"";return{type:"twineLink",innerText:n?r:t,passage:t?r:n,innerMode:c}}},simpleLink:{fn:function(e){return{type:"twineLink",innerText:e[1]||"",passage:e[1]||"",innerMode:c}}},variable:{cannotFollow:["macroFront"],fn:a("name")},tempVariable:{cannotFollow:["macroFront"],fn:a("name")}}),{hookFront:f.hookFront,hookBack:f.hookBack}),h=s(u,n({macroName:{canFollow:["macroFront"],fn:a("name")},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:a("name"),canFollow:["variable","hookName","property","tempVariable","colour","itsProperty","belongingItProperty","macro","grouping","string","datatype","hook","boolean","number"]},possessiveOperator:{fn:o},itsProperty:{cannotFollow:["text"],fn:a("name")},itsOperator:{cannotFollow:["text"],fn:o},belongingItProperty:{cannotFollow:["text"],fn:a("name")},belongingItOperator:{cannotFollow:["text"],fn:o},belongingProperty:{cannotFollow:["text"],fn:a("name")},belongingOperator:{cannotFollow:["text"],fn:o},escapedStringChar:{fn:function(){return{type:"text"}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:"string"},innerMode:l}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:"string"},innerMode:l}}},hookName:{fn:a("name")},cssTime:{fn:function(e){return{value:+e[1]*("s"===e[2].toLowerCase()?1e3:1)}}},datatype:{cannotFollow:["text"],fn:function(e){return{name:e[0].toLowerCase()}}},colour:{cannotFollow:["text"],fn:function(e){var t=e[0].toLowerCase(),n={red:"e61919",orange:"e68019",yellow:"e5e619",lime:"80e619",green:"19e619",cyan:"19e5e6",aqua:"19e5e6",blue:"197fe6",navy:"1919e6",purple:"7f19e6",fuchsia:"e619e5",magenta:"e619e5",white:"fff",black:"000",gray:"888",grey:"888"};return{colour:Object.hasOwnProperty.call(n,t)?"#"+n[t]:t}}},number:{fn:function(e){return{value:parseFloat(e[0])}}},inequality:{fn:function(e){return{operator:e[2],negate:e[1].indexOf("not")>-1}}},augmentedAssign:{fn:function(e){return{operator:e[0][0]}}},identifier:{fn:a("name"),cannotFollow:["text"]},whitespace:{fn:o,cannotFollow:"text"},incorrectOperator:{fn:function(e){var t={"=>":">=","=<":"<=",gte:">=",lte:"<=",gt:">",lt:"<",eq:"is",isnot:"is not",neq:"is not",isa:"is a",are:"is",x:"*","or a":"or"}[e[0].toLowerCase().replace(/\s+/g," ")];return{type:"error",message:"Please say "+(t?"'"+t+"'":"something else")+" instead of '"+e[0]+"'.",explanation:"In the interests of readability, I want certain operators to be in a specific form."}},cannotFollow:"text"}},["boolean","is","to","into","where","when","via","making","each","and","or","not","isNot","contains","doesNotContain","isIn","isA","isNotA","isNotIn","matches","doesNotMatch","bind"].reduce(function(e,t){return e[t]={fn:o,cannotFollow:["text"]},e},{}),["comma","spread","typeSignature","addition","subtraction","multiplication","division"].reduce(function(e,t){return e[t]={fn:o},e},{}))),y=s(l,{singleStringCloser:h.singleStringOpener,doubleStringCloser:h.doubleStringOpener,escapedStringChar:h.escapedStringChar});c.push.apply(c,_toConsumableArray(t(p)).concat(_toConsumableArray(t(d)),_toConsumableArray(t(f)))),u.push.apply(u,_toConsumableArray(t(d)).concat(_toConsumableArray(t(h)))),l.push.apply(l,_toConsumableArray(t(y)));var m=n({},p,f,d,h,y);t(m).forEach(function(t){var n=e[t];m[t].pattern="string"!=typeof n?n:RegExp("^(?:"+n+")","i"),e[t+"Peek"]&&(m[t].peek=e[t+"Peek"])}),n(r.rules,m);var g=r.modes;return g.start=g.markup=c,g.macro=u,g.string=l,r}(r).lex,Patterns:e})}"object"===("undefined"==typeof module?"undefined":_typeof(module))?(e=require("./patterns"),module.exports=r(require("./lexer"))):"function"==typeof define&&define.amd?define("markup",["lexer","patterns"],function(t,n){return e=n,r(t)}):this&&this.loaded&&this.modules?(e=this.modules.Patterns,this.modules.Markup=r(this.modules.Lexer)):(e=this.Patterns,this.TwineMarkup=r(this.TwineLexer))}.call(eval("this")||("undefined"!=typeof global?global:window)),define("utils/polyfills",[],function(){var e=Array.prototype;"function"!=typeof e.includes&&(e.includes=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Number.isNaN(t)&&Number.isFinite(n)&&void 0!==t)return e.indexOf.call(this,t,n)>-1;var r=Object(this),a=parseInt(r.length);if(a<=0)return!1;for(var i=n>=0?n:Math.max(0,a+n);i<a;){if(Object.is(t,r[i]))return!0;i+=1}return!1}),!window.Symbol&&(window.Symbol={iterator:"_es6-shim iterator_"})}),define("utils",["jquery","markup","utils/polyfills"],function(e){var t=String.fromCharCode,n="audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align,tw-story,tw-passage,tw-sidebar,tw-columns,tw-column,tw-meter".split(","),r="a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error,tw-colour,tw-icon".split(","),a=["audio"],i=[function(e){return t(e)!==t(e).toLowerCase()},function(e){return t(e)!==t(e).toUpperCase()},function(e){return t(e).toLowerCase()!==t(e).toUpperCase()}].map(function(e){return"["+Array.from(Array(57343)).map(function(e,t){return t}).filter(e).map(function(e,n,r){return e===r[n-1]+1&&e===r[n+1]-1?"-":t(e)}).join("").replace(/\-+/g,"-")+"]"}),o=_slicedToArray(i,3),s=o[0],c=o[1],u=o[2];function l(e){return"instant"===e?0:800}var p=void 0,f=[],d={},h=0,y={},m=0,g={},v=void 0;function b(e,t,n,r,a){var i=null,o=0,s=t+n;function c(n){1&e[0].compareDocumentPosition(document)&&(s=0),i&&(s-=n-i,o+=n-i),i=n,r>0&&h+m>0&&(s-=r,e.css("animation-delay",(v.cssTimeUnit(e.css("animation-delay"))||0)-r+"ms")),s<=0?a(o):requestAnimationFrame(c),s<=t&&e.css("visibility","")}s?requestAnimationFrame(c):c()}return e(document.documentElement).on("keydown keyup mousedown mouseup",function(e){var t=e.key,n=e.button,r=e.type.includes("down"),a=t?d:y,i=t&&v.insensitiveName(t)||n;a[i]&&!r?t?h=Math.max(h-1,0):m=Math.max(m-1,0):!a[i]&&r&&(t?h+=1:m+=1),a[i]=r}).on("mousemove",function(e){var t=e.pageX,n=e.pageY;g.x=t,g.y=n}),v={lockProperty:function(e,t,n){var r=Object.create({configurable:0,writable:0});return n&&(r.value=n),Object.defineProperty(e,t,r),e},permutations:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.length,a=[[].concat(t)],i=Array(r).fill(0),o=1,s=void 0,c=void 0;o<r;)i[o]<o?(s=o%2&&i[o],c=t[o],t[o]=t[s],t[s]=c,++i[o],o=1,a.push([].concat(t))):(i[o]=0,++o);return a},shuffled:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){var r=Math.random()*(n+1)|0;return r===n?e.push(t):(e.push(e[r]),e[r]=t),e},[])},matMul:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i;if(r.length>0)return(i=v).matMul.apply(i,[v.matMul(e,t)].concat(r));if(!t)return e;for(var o=[],s=0;s<e.length;s++){o[s]=[];for(var c=0;c<t[0].length;c++){for(var u=0,l=0;l<e[0].length;l++)u+=e[s][l]*t[l][c];o[s][c]=u}}return o},cssTimeUnit:function(e){return"ms"===(e=e.toLowerCase()).slice(-2)?+e.slice(0,-2)||0:"s"===e.slice(-1)&&1e3*+e.slice(0,-1)||0},nth:function(e){var t=(+e+"").slice(-1);return e+("1"===t?"st":"2"===t?"nd":"3"===t?"rd":"th")},plural:function(e,t){return e+" "+t+(e>1?"s":"")},andList:function(e){return 1===e.length?e[0]:e.slice(0,-1).join(", ")+" and "+e[e.length-1]},realWhitespace:"[ \\n\\r\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]",anyRealLetter:"[\\dA-Za-z\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",anyUppercase:s,anyLowercase:c,anyCasedLetter:u,anyNewline:"(?:\\n|\\r|\\r\\n)",unescape:function(e){return e.replace(/&(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'","&nbsp;":String.fromCharCode(160),"&zwnj;":String.fromCharCode(8204)}[e]})},escape:function(e){return e.replace(/[&><"']/g,function(e){return{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"}[e]})},insensitiveName:function(e){return(e+"").toLowerCase().replace(/-|_/g,"")},allKeysDown:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return d[e]})},someKeysDown:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return d[e]})},buttonsDown:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return y[e]})},anyInputDown:function(){return h+m>0},mouseCoords:g,parentColours:function(e){for(var t={colour:null,backgroundColour:null},n=/^\w+a\(.+?,\s*0\s*\)$|^transparent$/;e.length&&e[0]!==document;e=e.parent()){if(!t.backgroundColour){var r=e.css("background-color");r.match(n)||(t.backgroundColour=r)}if(!t.colour){var a=e.css("color");a.match(n)||(t.colour=a)}if(t.colour&&t.backgroundColour)return t}return{colour:"#fff",backgroundColour:"#000"}},childrenProbablyInline:function(e){var t=[];return[].every.call(e.findAndFilter("*"),function(e){return!!(e.hidden||/none|inline/.test(e.style.display)||/display: (none|inline)/.test(e.getAttribute("style")))||!n.includes(e.tagName.toLowerCase())&&!/display: (?!none|inline|inherit|unset)/.test(e.getAttribute("style"))&&(!!r.includes(e.tagName.toLowerCase())||(t.push(e),!0))})&&t.every(function(e){return window.getComputedStyle(e).display.includes("inline")})},transitionReplace:function(t,n,r){var a=t.closest("tw-hook");a.length>0&&(t=a);var i=e("<tw-transition-container>").css("position","relative");i.insertBefore(t.first());var o=void 0;n&&(o=e("<tw-transition-container>").appendTo(i),n.appendTo(o));var s=e("<tw-transition-container>").css("position","absolute").prependTo(i);t.detach().appendTo(s),v.transitionOut(s,r),n&&v.transitionIn(o,r,function(){o.unwrap().children().first().unwrap()})},transitionOut:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;0!==e.length&&(n=n||l(t),(e.length>1||!v.childrenProbablyInline(e)||!["tw-hook","tw-passage","tw-expression"].includes(e.tag()))&&(e=e.wrapAll("<tw-transition-container>").parent()),o&&e.css("transform-origin",o),e.attr("data-t8n",t).addClass("transition-out").css({"animation-duration":n+"ms","animation-delay":r-i+"ms"}),requestAnimationFrame(function(){v.childrenProbablyInline(e)?e.css("display","inline"):e.parent().is("tw-backdrop,tw-story")||e[0].setAttribute("style",e[0].getAttribute("style")+"display:block !important;width:100%")}),b(e,n,r-i,a,function(){e.remove()}))},transitionIn:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if(0!==t.length){r=r||l(n);var u=t.length>1||!v.childrenProbablyInline(t)||!["tw-hook","tw-passage","tw-expression"].includes(t.tag());u&&(t=t.wrapAll("<tw-transition-container>").parent()),c&&t.css("transform-origin",c),t.attr("data-t8n",n).addClass("transition-in").css(Object.assign({"animation-duration":r+"ms","animation-delay":i-s+"ms"},i-s?{visibility:"hidden"}:{})),requestAnimationFrame(function(){v.childrenProbablyInline(t)?t.css("display","inline"):t.parent().is("tw-backdrop,tw-story")||t[0].setAttribute("style",t[0].getAttribute("style")+"display:block !important;width:100%")}),b(t,r,i-s,o,function(n){var r=0===t.filter(a.join(",")).length;u&&r?(t.find("tw-transition-container").each(function(t,r){(r=e(r)).css("animation-delay",v.cssTimeUnit(r.css("animation-delay")||0)-n+"ms")}),t.contents().unwrap()):t.removeClass("transition-in").removeAttr("data-t8n")})}},debounce:function(e){var t=void 0,n=void 0,r=0,a=function a(){Date.now()-r>300?(t=0,e.apply(void 0,_toConsumableArray(n))):t=requestAnimationFrame(a)};return function(){r=Date.now(),n=arguments,t&&cancelAnimationFrame(t),t=requestAnimationFrame(a)}},impossible:function(e,t){window.console&&console.error(e+"(): "+t)},assertMustHave:function(e,t){if(window.console)for(var n=0;n<t.length;n+=1)t[n]in e||console.error("Assertion failed: object lacks property "+t[n])},assertOnlyHas:function(e,t){if(window.console)for(var n in e)t.includes(n)||console.error("Assertion failed: object had unexpected property '"+n+"'!")},onStartup:function(e){f?f.push(e):e()},get storyElement(){return p}},e(function(){p=e("tw-story"),f.forEach(function(e){return e()}),f=null}),Object.freeze(v)}),define("utils/naturalsort",[],function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String;return function(n,r){var a,i,o,s,c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,p=/^0/,f=t(n).trim(),d=t(r).trim(),h=f.replace(c,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),y=d.replace(c,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(l))||1!==h.length&&f.match(u)&&Date.parse(f),g=parseInt(d.match(l))||m&&d.match(u)&&Date.parse(d)||null;if(e&&window.Intl&&window.Intl.Collator&&(o=window.Intl.Collator(e)),g){if(m<g)return-1;if(m>g)return 1}for(var v=0,b=Math.max(h.length,y.length);v<b;v++){if(a=!(h[v]||"").match(p)&&parseFloat(h[v])||h[v]||0,i=!(y[v]||"").match(p)&&parseFloat(y[v])||y[v]||0,isNaN(a)!==isNaN(i))return isNaN(a)?1:-1;if((void 0===a?"undefined":_typeof(a))!==(void 0===i?"undefined":_typeof(i)))a+="",i+="";else if("string"==typeof a&&o&&0!==(s=o.compare(a,i)))return s;if(a<i)return-1;if(a>i)return 1}return 0}}}),define("twinescript/compiler",["utils"],function(e){var t=e.impossible,n=JSON.stringify;function r(e,t){for(var n=0;n<e.length;n+=1)if(t.includes(e[n].type))return n;return NaN}function a(e,t){var n=[];return e.length?([["error"],["comma"],["to","into"],["where","when","via"],["making","each"],["typeSignature"],["augmentedAssign"],["and","or"],["is","isNot"],["contains","doesNotContain","isIn","isNotIn"],["isA","isNotA","matches","doesNotMatch"],["inequality"],["addition","subtraction"],["multiplication","division"],{rightAssociative:["spread","bind"]},{rightAssociative:["not","positive","negative"]},{rightAssociative:["belongingProperty","belongingItProperty","belongingOperator","belongingItOperator"]},["property","itsProperty","possessiveOperator","itsOperator"],["twineLink"],["macro"],["grouping"]]["most"===t?"reverse":"valueOf"]().some(function(t){var a=void 0;if(a=t.rightAssociative?r(e,t.rightAssociative):function(e,t){return e.length-1-r.apply(void 0,[[].concat(_toConsumableArray(e)).reverse(),t])}(e,t),!Number.isNaN(a)&&a>-1)return n=[e[a],a],!0}),n):n}function i(e){if("inequality"===e.type){var t=e.operator;return e.negate?{">":"<=","<":">=",">=":"<","<=":">"}[t]:t}return e.type}function o(e){var t=i(e);return{">":"<","<":">",">=":"<=","<=":">=",contains:"isIn",doesNotContain:"isNotIn",isIn:"contains",isA:"typifies",typifies:"isA",isNotA:"untypifies",untypifies:"isNotA"}[t]||t}var s=["inequality","is","isNot","isIn","contains","doesNotContain","isNotIn","isA","typifies","isNotA","untypifies","matches","doesNotMatch"];function c(e,t,r){return"TwineError.create("+n(e)+","+n(t)+","+n(r)+")"}return function e(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=u.isVarRef,p=u.isTypedVar,f=u.whitespaceError,d=u.elidedComparison,h=u.testNeedsRight,y="Operations.Identifiers.it";if(!(r=[].concat(r)).length)return l&&f?c("operation",f):"";var m=void 0;if(1===r.length){var g=(m=r[0]).type;if("identifier"===g)return l?"VarRef.create(Operations.Identifiers,"+n(m.text)+")":"Operations.Identifiers."+m.text.toLowerCase()+" ";if("variable"===g||"tempVariable"===g){var v="VarRef.create("+("tempVariable"===g?"section.stackTop.tempV":"State.v")+"ariables,"+n(m.name)+")"+(l||p?"":".get()");return p?"TypedVar.create(Datatype.create('any'),"+v+")":v}if("hookName"===g)return"HookSet.create({type:'name', data:'"+m.name+"'}) ";if("string"===g)return m.text.replace(/(.?)\n/g,function(e,t){return("\\"===t?"\\\\":"\n"===t?"\\n":t)+"\\n"});if("hook"===g)return"CodeHook.create("+n(m.text.slice(1,-1))+","+n(m.html||"")+")";if("colour"===g)return"Colour.create("+n(m.colour)+")";if("datatype"===g)return"Datatype.create("+n(m.name)+")";if("blockedValue"===g)return"section.blockedValue()";if("root"===g)return e(m.children);if("whitespace"===g&&l&&f)return c("operation",f)}var b,w=a(r,"least"),T=_slicedToArray(w,2);m=T[0],b=T[1];var S=(m||{}).type,x=r.slice(0,b),k=r.slice(b+1),O=function(e,t){return{isVarRef:!0,isTypedVar:t,whitespaceError:"I need usable data to be on the "+e+' of "'+m.text+'".'}},j="must",A="mustn't",C="may",E=void 0,_=void 0,N="",P="",I="",M=j,D=j,R=!1;if(S)if("comma"===S)P=",",D=C;else if("spread"===S)N="Operations.makeSpreader(",I=")",M=C;else if("bind"===S)N="VarBind.create(",_=e(k,O("right")),I=(m.text.startsWith("2")?",'two way'":"")+")",M=A;else if("to"===S)N="Operations.makeAssignmentRequest(Operations.setIt(",_=e(k,O("right")),P="),",E=e(x,O("left",!0)),I=",'to')";else if("into"===S)N="Operations.makeAssignmentRequest(",_=e(x,O("left")),P=",Operations.setIt(",E=e(k,O("right",!0)),I="),'into')";else if("typeSignature"===S)N="TypedVar.create(",P=",",_=e(k,O("right")),I=")",p=!1;else if("where"===S||"when"===S||"via"===S)N="Lambda.create(",E=e(x,{isVarRef:!0,whitespaceError:null}).trim()||"undefined",P=","+n(m.type)+",",_=n(e(k)),I=","+n(r.map(function(e){return e.text}).join(""))+")";else if("making"===S||"each"===S)"each"===S?(N="Lambda.create(",_=e(k,O("right")).trim(),I=",'where','true',"+n(r.map(function(e){return e.text}).join(""))+")",M=C):(N="Lambda.create(",E=e(x,{isVarRef:!0,whitespaceError:null}).trim()||"undefined",P=","+n(m.type)+",",_=e(k,O("right")).trim(),I=","+n(r.map(function(e){return e.text}).join(""))+")");else if("augmentedAssign"===S)N="Operations.makeAssignmentRequest(",E=e(x,O("left")),P=",",_="Operations["+n(m.operator)+"]("+e(x)+","+e(k)+")",I=","+n(m.operator)+")";else if("and"===S||"or"===S){var L=function e(t){var n=a(t,"least"),r=_slicedToArray(n,2),i=r[0],o=r[1];if(i)return s.includes(i.type)?i:["and","or"].includes(i.type)?e(t.slice(0,o))||e(t.slice(o+1)):void 0},F=L(x),q=L(k),V=c("operation",'This use of "is not" and "'+S+'" is grammatically ambiguous.','Maybe try rewriting this as "__ is not __ '+S+' __ is not __"');if(N="Operations."+S+"(",P=",",I=")",d===m.type)N=I="",E=e(x,{isVarRef:l,elidedComparison:d}).trim(),_=e(k,{elidedComparison:d}).trim();else if(F&&!q){var H=F,z=n(i(H));if("isNot"===H.type||"isNotA"===H.type||"untypifies"===H.type)return V;_="Operations.elidedComparisonOperator("+n(m.type)+","+z+","+e(k,{elidedComparison:S})+")"}else if(!F&&q){var W=q,$=r.indexOf(W),B=n(o(W));if("isNot"===W.type||"isNotA"===W.type||"untypifies"===W.type)return V;_="Operations.elidedComparisonOperator("+n(m.type)+","+B+","+e(x,{elidedComparison:S})+")",E=e([].concat(_toConsumableArray(r.slice($+1)),[Object.assign(Object.create(W),_defineProperty({},"inequality"===W.type?"operator":"type",o(W)))],_toConsumableArray(r.slice(b+1,$))))}l=!1}else if(s.includes(S))R=!0,l=!1,N="Operations["+n(i(m))+"](",P=",",I=")";else if("addition"===S||"subtraction"===S){if(!e(x,{testNeedsRight:!0}).trim())return m.type={addition:"positive",subtraction:"negative"}[S],e(r,{isVarRef:l,whitespaceError:f,elidedComparison:d,testNeedsRight:h});l=!1,N="Operations["+n(m.text)+"](",P=",",I=")"}else if("multiplication"===S||"division"===S)l=!1,N="Operations["+n(m.text)+"](",P=",",I=")";else if("positive"===S||"negative"===S)l=!1,E="negative"===S?"-1":"1",N="Operations['*'](",P=",",I=")";else if("not"===S)N="Operations.not(",_=e(k),I=")",M=C;else if("belongingProperty"===S)N="VarRef.create(",_=e(k,O("right")),I=","+n(m.name)+")"+(l?"":".get()"),M=C;else if("belongingOperator"===S||"belongingItOperator"===S)E=m.type.includes("It")?y:e(k,O("right")),_=e(x),N="VarRef.create(",P=",{computed:true,value:",I="})"+(l?"":".get()");else if("property"===S)N="VarRef.create(",E=e(x,O("left")),I=","+n(m.name)+")"+(l?"":".get()"),D=C;else if("itsProperty"===S||"belongingItProperty"===S)N="VarRef.create(",E=y,I=","+n(m.name)+")"+(l?"":".get()"),M=D=C;else if("possessiveOperator"===S||"itsOperator"===S)m.type.includes("it")&&(E=y,M=C),N="VarRef.create(",P=",{computed:true,value:",I="})"+(l?"":".get()"),p=!1;else if("twineLink"===S)P='Macros.run("link-goto", [section,'+n(m.innerText)+","+n(m.passage)+"])",M=D=A;else if("macro"===S){var U=m.children[0],G="$"===U.text[0]||"_"===U.text[0];"macroName"===U.type||G||t("Compiler.compile","macro token had no macroName child token"),P="Macros.run"+(G?"Custom":"")+"("+(G?"VarRef.create("+("_"===U.text[0]?"section.stackTop.tempV":"State.v")+"ariables,"+n(U.text.trim().slice(1,-1))+").get()":'"'+m.name+'"')+", [section,"+e(m.children.slice(1),{isTypedVar:p})+"])",M=D=A}else if("grouping"===S)P="("+e(m.children,{isVarRef:l})+")",M=D=A;else if("error"===S)return c("syntax",n(m.message),m.explanation?n(m.explanation):"");return b>-1?(E=(E||e(x,{isVarRef:l,isTypedVar:p})).trim(),_=(_||e(k)).trim(),R&&!E&&(E=y),M===j&&!E||D===j&&!_?h&&D&&!_?"":c("operation","I need usable code to be "+(M===j?"left ":"")+(M===j&&D===j?"and ":"")+(D===j?"right ":"")+"of "+m.text+"."):M===A&&E||D===A&&_?c("operation","There can't be a "+(E&&M===A&&_&&D===A?E+" or "+_:E&&M===A?E:_)+" to the "+(M===A?"left ":"")+(M===A&&D===A?"or ":"")+(D===A?"right ":"")+"of "+m.text+".","There could be a comma missing between them, or there could be a "):N+E+P+_+I):1===r.length?(("value"in r[0]?r[0].value:r[0].text)+"").trim()||" ":r.reduce(function(t,n){return t+e(n,{isVarRef:l,isTypedVar:p})},"")}}),define("internaltypes/twineerror",["jquery","utils"],function(e,t){var n=t.impossible,r=t.escape;e(document.documentElement).on("click","tw-folddown",function(t){var n=t.target;for((n=e(n)).toggleClass("open");n&&!n.next().length;)n=n.parent();n&&n.next().toggle()});var a={syntax:"The markup seems to contain a mistake.",saving:"I tried to save or load the game, but I couldn't do it.",operation:"I tried to perform an operation on some data, but the data's type was incorrect.",macrocall:"I tried to use a macro, but its call wasn't written correctly.",datatype:"I tried to use a macro, but was given the wrong type of data to it.",custommacro:"I tried to use a custom macro, but its code hook had a mistake in it.",infinite:"I almost ended up doing the same thing over and over, forever.",property:"I tried to access a value in a string/array/datamap, but I couldn't find it.",unimplemented:"I currently don't have this particular feature. I'm sorry.",javascript:"This error message was reported by your browser's Javascript engine. I don't understand it either, but it usually means that an expression was badly written.",propagated:"Click the 'Open' button to see the code hook as it was executed.",user:"This is a custom error created by (error:). It usually means you used a custom macro incorrectly.",assertion:"This command exists to provide a helpful error if a certain important condition wasn't true."},i={error:[],warning:[]},o={create:function(e,t,r,i){return t&&"string"==typeof t||n("TwineError.create","has a bad message string"),r||e in a||n("TwineError.create","no error explanation given"),"user"!==e&&(t=t[0].toUpperCase()+t.slice(1)),Object.assign(Object.create(this),{type:e,message:t,explanation:r,source:void 0,innerDOM:i,appendTitleText:!1})},fromError:function(e){return o.create("javascript","\u2615 "+e.message)},containsError:function(){for(var e=0;e<arguments.length;e+=1){var t=arguments.length<=e?void 0:arguments[e];if(t instanceof Error)return t;if(o.isPrototypeOf(t))return t;if(Array.isArray(t)){var n=o.containsError.apply(o,_toConsumableArray(t));if(n)return n}}return!1},createWarning:function(e,t){return Object.assign(this.create(e,t),{warning:!0})},render:function(n){var o=this;n=n||this.source||"";var s=e("<tw-error class='"+("javascript"===this.type?"javascript ":"")+(this.warning?"warning":"error")+"' title='"+r(n)+"'>"+r(this.message+(this.appendTitleText?" "+n:""))+"</tw-error>"),c=e("<tw-error-explanation>").text(this.explanation||a[this.type]).hide(),u=e("<tw-folddown tabindex=0>");return this.innerDOM&&e("<tw-open-button>").on("click",function(){var n=e("<tw-backdrop><tw-dialog></tw-backdrop>");n.find("tw-dialog").prepend(o.innerDOM,e("<tw-link tabindex=0>OK</tw-link>").on("click",function(){o.innerDOM.detach(),n.remove()}).wrap("<tw-dialog-links>").parent()),t.storyElement.prepend(n)}).appendTo(s),s.append(u).append(c),s.data("TwineError",this),i.error.forEach(function(e){return e(o,n)}),s},on:function(e,t){if(e in i)return"function"!=typeof t||i[e].includes(t)||i[e].push(t),o;n("TwineError.on","invalid event name")}};return o}),define("renderer",["utils","markup","twinescript/compiler","internaltypes/twineerror"],function(e,t,n,r){var a=e.escape,i=e.impossible,o=e.insensitiveName,s=void 0;function c(e,t){return"<"+t+">"+e+"</"+t+">"}function u(e,t){var n=s.render(e.children);return n&&c(n,t)}var l,p,f="text-align: center; max-width:50%; ",d=RegExp(t.Patterns.macroFront+t.Patterns.macroName,"ig");return s={options:{debug:!1,blockerMacros:[],metadataMacros:[]},preprocess:function(e){var a=s.options.metadataMacros;if(!(e.match(d)||[]).some(function(e){return a.some(function(t){return o(e.slice(1,-1))===t})}))return{};var i=!1,c={};return t.lex(e).children.forEach(function e(t){if("macro"===t.type){if(a.some(function(e){return t.name===e})){if(r.isPrototypeOf(c[t.name]))return;if(i)return void(c[t.name]=r.create("syntax","The ("+t.name+":) macro can't appear after non-metadata macros."));if(c[t.name])return void(c[t.name]=r.create("syntax","There is more than one ("+t.name+":) macro."));c[t.name]={code:n(t),source:t.text}}else i=!0;t.children.forEach(function e(t){"macro"===t.type&&a.some(function(e){return t.name===e})?c[t.name]=r.create("syntax","The ("+t.name+":) macro can't be inside another macro."):t.children.forEach(e)})}else t.children.forEach(e)}),c},exec:(l=void 0,p=void 0,function(e){return"string"!=typeof e?(i("Renderer.exec","source was not a string, but "+(void 0===e?"undefined":_typeof(e))),""):e===l?p:(l=e,p=s.render(t.lex(e).children))}),render:function e(i){var l="",p=[];if(!i)return l;for(var d=i.length,h=0;h<d;h+=1){var y=i[h];switch(y.type){case"error":l+=r.create("syntax",y.message,y.explanation).render(a(y.text))[0].outerHTML;break;case"numbered":case"bulleted":var m="numbered"===y.type?"ol":"ul";l+="<"+m+">";for(var g=1;h<d&&i[h];){if("br"===i[h].type){if(l+="</li>",!i[h+1]||i[h+1].type!==y.type)break}else i[h].type===y.type?(l+=("<"+m+">").repeat(Math.max(0,i[h].depth-g)),l+=("</"+m+">").repeat(Math.max(0,g-i[h].depth)),l+="<li>",g=i[h].depth):l+=e([i[h]]);h+=1}l+=("</"+m+">").repeat(g+1);break;case"align":for(;y&&"align"===y.type;){var v=y.align,b=h+=1;if("left"===v){h-=1;break}for(;h<d&&i[h]&&"align"!==i[h].type;)h+=1;var w=e(i.slice(b,h)),T="";switch(v){case"center":T+=f+"margin-left: auto; margin-right: auto;";break;case"justify":case"right":T+="text-align: "+v+";";break;default:+v&&(T+=f+"margin-left: "+v+"%;")}l+="<tw-align "+(T?'style="'+T+'"':"")+">"+w+"</tw-align>\n",y=i[h]}break;case"column":for(var S=[];y&&"column"===y.type;){var x=y.column,k=h+=1;if("none"===x){h-=1;break}for(;h<d&&i[h]&&"column"!==i[h].type;)h+=1;S.push({text:y.text,type:x,body:e(i.slice(k,h)),width:y.width,marginLeft:y.marginLeft,marginRight:y.marginRight}),y=i[h]}S.length&&function(){var e=S.reduce(function(e,t){return e+t.width},0);l+="<tw-columns>"+S.map(function(t){return"<tw-column type="+t.type+'  style="width:'+t.width/e*100+"%; margin-left: "+t.marginLeft+"em; margin-right: "+t.marginRight+'em;">'+t.body+"</tw-column>\n"}).join("")+"</tw-columns>"}();break;case"heading":for(l+="<h"+y.depth+">";++h<d&&i[h];){if("br"===i[h].type){l+="</h"+y.depth+">";break}l+=e([i[h]])}break;case"br":if(!p.length||/td|th/.test(p[0])){l+="<br>";for(var O=i[h+1];O&&("br"===O.type||"tag"===O.type&&/^<br\b/i.test(O.text));)l+="<tw-consecutive-br"+("tag"===O.type?" data-raw":"")+"></tw-consecutive-br>",O=i[(h+=1)+1]}break;case"hr":l+="<hr>";break;case"escapedLine":case"comment":break;case"inlineUrl":l+='<a class="link" href="'+a(y.text)+'">'+y.text+"</a>";break;case"scriptStyleTag":case"tag":var j=y.text.toLowerCase();/^<\/?(?:table|thead|tbody|tr|tfoot|td|th)\b/.test(j)&&p[y.text.startsWith("</")?"shift":"unshift"](j),l+=y.text.startsWith("</")?y.text:y.text.replace(/>$/," data-raw>");break;case"sub":case"sup":case"strong":case"em":l+=u(y,y.type);break;case"strike":l+=u(y,"s");break;case"bold":l+=u(y,"b");break;case"italic":l+=u(y,"i");break;case"twineLink":var A=_slicedToArray(t.lex("(link-goto:"+JSON.stringify(y.innerText)+","+JSON.stringify(y.passage)+")").children,1)[0];l+='<tw-expression type="macro" name="link-goto"'+(s.options.debug?' title="'+a(y.text)+'"':"")+' js="'+a(n(A))+'"></tw-expression>';break;case"hook":l+="<tw-hook "+(y.hidden?"hidden ":"")+(y.name?'name="'+o(y.name)+'"':"")+(s.options.debug&&y.name?' title="Hook: ?'+y.name+'"':"")+' source="'+a(y.innerText)+'"></tw-hook>';break;case"unclosedHook":return l+="<tw-hook "+(y.hidden?"hidden ":"")+(y.name?'name="'+o(y.name)+'"':"")+'source="'+a(i.slice(h+1,d).map(function(e){return e.text}).join(""))+'"></tw-hook>';case"verbatim":l+=c(a(y.innerText).replace(/\n/g,"<br>"),"tw-verbatim");break;case"collapsed":l+=u(y,"tw-collapsed");break;case"unclosedCollapsed":return l+="<tw-collapsed>"+e(i.slice(h+1,d))+"</tw-collapsed>";case"variable":case"tempVariable":case"macro":var C=function(){var t=[],i=[];if("macro"===y.type&&function n(r){"string"!==r.type&&"hook"!==r.type&&r.children.every(n);var a=r.firstChild();if("macro"===r.type&&a&&"macroName"===a.type&&s.options.blockerMacros.includes(o(a.text.slice(0,-1))))t.push(r);else if("hook"===r.type){if(!r.everyLeaf(function(e){return"error"!==e.type||(i.push(e),!1)}))return!1;r.html=e(r.children)}return!0}(y),i.length)return{v:r.create("syntax","This code hook's markup contained "+i.length+" error"+(i.length?"s":"")+":<br>\u2014"+i.map(function(e){return e.message}).join("<br>\u2014")).render(a(y.text))[0].outerHTML};var c=t.length&&t.map(function(e){var t=n(e);return e.type="blockedValue",t});l+='<tw-expression type="'+y.type+'" name="'+a(y.name||y.text)+'"'+(s.options.debug?' title="'+a(y.text)+'"':"")+(t.length?' blockers="'+a(JSON.stringify(c))+'"':"")+' js="'+a(n(y))+'"></tw-expression>',t.forEach(function(e){return e.type="macro"})}();if("object"===(void 0===C?"undefined":_typeof(C)))return C.v;break;default:l+=y.children&&y.children.length?e(y.children):y.text}}return l}},Object.freeze(s)}),define("passages",["jquery","utils/naturalsort","utils","markup","renderer","internaltypes/twineerror"],function(e,t,n,r,a,i){var o=n.unescape,s=n.onStartup,c=Object.assign;function u(e){var t=o(e.html()),n=a.preprocess(t);return c(new Map([["source",t],["tags",(e.attr("tags")||"").split(/\s/)||[]],["name",e.attr("name")]]),{TwineScript_TypeName:"a passage datamap",TwineScript_ObjectName:"a passage datamap",metadata:n})}var l=c(new Map,{TwineScript_ObjectName:"the Passages datamap",getTagged:function(e){var n=t("en",function(e){return e.get("name")}),r=[];return this.forEach(function(t){var n=t instanceof Map&&t.get("tags");Array.isArray(n)&&n.includes(e)&&r.push(t)}),r.sort(n)},getStorylets:function(e,n){var r=n?n.filter(e,[].concat(_toConsumableArray(l.values()))):[].concat(_toConsumableArray(l.values()));if(i.containsError(r))return r;var a=[],o=-1/0,s=r.reduce(function(t,n){if(t)return t;var r=n.get("storylet");if(r){var s=e.speculate(r,n.get("name"),"a (storylet:) macro");if(i.containsError(s))return s.message="There's an error in the storylet passage \""+n.get("name")+'":\n'+s.message,s.source=r.TwineScript_ToSource(),s;if(s){var c=n.get("exclusivity");o=Math.max(o,"number"==typeof c?c:0),a.push(n)}}},void 0);if(s)return s;var c=t("en");return a.filter(function(e){var t=e.get("exclusivity");return(t="number"==typeof t?t:0)===o}).sort(function(e,t){var n=e.get("urgency"),r=t.get("urgency");return(n="number"==typeof n?n:0)!==(r="number"==typeof r?r:0)?r-n:c(e.get("name"),t.get("name"))})},allStorylets:function(){return[].concat(_toConsumableArray(l.values())).filter(function(e){return e.get("storylet")})},loadMetadata:function(e){var t=[];return l.forEach(function(n){n.metadata&&Object.keys(n.metadata).forEach(function(r){if(i.containsError(n.metadata[r]))t.push(n.metadata[r]);else{var a=n.metadata[r],o=a.code,s=a.source,c=e.speculate(o,n.get("name"),"a ("+r+":) macro"),u='In "'+n.get("name")+'":\n';if(i.containsError(c))return c.message=u+c.message,c.source=s,void t.push(c);c instanceof Map?c.forEach(function(e,t){return l(t,e)}):l(r,c)}function l(e,r){n.has(e)?t.push(i.create("syntax","This passage's datamap already has a '"+JSON.stringify(e)+"' data name.")):n.set(e,r)}}),n.metadata=void 0}),t},hasValid:function(e){var t=this.get(e);return t&&t instanceof Map&&t.has("source")},create:u});return s(function(){Array.from(e("tw-storydata > tw-passagedata")).forEach(function(t){t=e(t),l.set(t.attr("name"),new u(t))})}),l}),define("utils/operationutils",["utils/naturalsort","utils","internaltypes/twineerror","patterns"],function(e,t,n,r){var a=t.impossible,i=t.nth,o=t.insensitiveName,s=t.permutations,c=r.validPropertyName,u="object",l="boolean",p="string",f="number",d="function";function h(e){return!!e&&((void 0===e?"undefined":_typeof(e))===u||(void 0===e?"undefined":_typeof(e))===d)}function y(e){return e&&Object.getPrototypeOf(e)===Object.prototype}function m(e){return Array.isArray(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":(void 0===e?"undefined":_typeof(e))===p?p:e&&(void 0===e?"undefined":_typeof(e))===u?u:""}function g(e){if(!h(e))return e;if(_typeof(e.TwineScript_Clone)===d)return e.TwineScript_Clone();if(Array.isArray(e))return[].concat(_toConsumableArray(e));if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if((void 0===e?"undefined":_typeof(e))===d)return Object.assign(e.bind(),e);switch(Object.getPrototypeOf(e)){case Object.prototype:return Object.assign({},e);case null:return Object.assign(Object.create(null),e)}return a("OperationUtils.clone","The value "+e+" cannot be cloned!"),e}function v(e){return h(e)&&"TwineScript_ObjectName"in e?e.TwineScript_ObjectName:Array.isArray(e)?"an array":e instanceof Map?"a datamap":e instanceof Set?"a dataset":(void 0===e?"undefined":_typeof(e))===l?"the boolean value '"+e+"'":(void 0===e?"undefined":_typeof(e))===p||(void 0===e?"undefined":_typeof(e))===f?"the "+(void 0===e?"undefined":_typeof(e))+" "+JSON.stringify(e):void 0===e?"an empty variable":"...whatever this is"}function b(e,t){return(void 0===e?"undefined":_typeof(e))!==u&&(void 0===t?"undefined":_typeof(t))!==u?e===t:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,n){return b(t[n],e)}):e instanceof Map&&t instanceof Map?b(Array.from(e.entries()).sort(),Array.from(t.entries()).sort()):e instanceof Set&&t instanceof Set?b([].concat(_toConsumableArray(e)),[].concat(_toConsumableArray(t))):e&&_typeof(e.TwineScript_is)===d?e.TwineScript_is(t):e&&(void 0===e?"undefined":_typeof(e))===u&&t&&(void 0===t?"undefined":_typeof(t))===u&&y(e)&&y(t)?b(Object.getOwnPropertyNames(e).map(function(t){return[t,e[t]]}),Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]})):Object.is(e,t)}return Object.freeze({isObject:h,isPureObject:y,singleTypeCheck:function e(t,n){if(null===n)return void 0===t;var r=void 0===t?"undefined":_typeof(t);if((void 0===n?"undefined":_typeof(n))!==d&&n.pattern){if("optional"===n.pattern||"zero or more"===n.pattern)return void 0===t||e(t,n.innerType);if("either"===n.pattern)return n.innerType.some(function(n){return e(t,n)});if("lambda"===n.pattern&&e(t,n.innerType))return n.clauses.includes("where")==="where"in t&&n.clauses.includes("making")==="making"in t&&n.clauses.includes("via")==="via"in t&&n.clauses.includes("with")==="with"in t;if("insensitive set"===n.pattern)return n.innerType.includes(o(t));if("range"===n.pattern)return n.range(t);if("wrapped"===n.pattern)return e(t,n.innerType)}return(void 0===n||void 0!==t)&&("anything"===n.TwineScript_TypeName&&void 0!==t&&!t.TwineScript_Unstorable||"everything"===n.TwineScript_TypeName&&void 0!==t||(n===String?r===p:n===Boolean?r===l:n===parseInt?r===f&&!Number.isNaN(t)&&!(t+"").includes("."):n===Number?r===f&&!Number.isNaN(t):n===Array?Array.isArray(t):n===Map||n===Set?t instanceof n:Object.isPrototypeOf.call(n,t)))},isValidDatamapName:function(e,t){if(e instanceof Map||a("isValidDatamapName","called with non-Map"),n.containsError(t))return t;if((void 0===t?"undefined":_typeof(t))!==p&&(void 0===t?"undefined":_typeof(t))!==f)return n.create("property","Only strings and numbers can be used as data names for "+v(e)+", not "+v(t)+".");var r=(void 0===t?"undefined":_typeof(t))===p?+t:""+t;return!(!Number.isNaN(r)&&e.has(r))||n.create("property","You mustn't use both "+v(t)+" and "+v(r)+" as data names in the same datamap.")},collectionType:m,isSequential:function(e){return(void 0===e?"undefined":_typeof(e))===p||Array.isArray(e)||_typeof(e.hooks)===d},unstorableValue:function e(t){return t&&t.TwineScript_Unstorable&&t||Array.isArray(t)&&t.find(e)||t instanceof Map&&[].concat(_toConsumableArray(t.values())).find(e)||t instanceof Set&&[].concat(_toConsumableArray(t)).find(e)},clone:g,objectName:v,typeName:function e(t){var n=y(t);if(n&&t.innerType)return t.typeName?t.typeName:"insensitive set"===t.pattern?"a case-insensitive string name":"either"===t.pattern?(Array.isArray(t.innerType)||a("typeName",'"either" pattern had non-array inner type'),t.innerType.map(e).join(" or ")):"optional"===t.pattern?"(optional) "+e(t.innerType):e(t.innerType);if(n&&t.pattern&&"range"===t.pattern){if(t.name)return t.name;var r=t.min,i=t.max;return"a"+(r>0?" positive":"")+(t.integer?" whole":"")+" number"+(0===r?" between 0 and "+i:i<1/0?" up to "+i:"")}return t===String||t===Number||t===Boolean?"a "+_typeof(t()):t===parseInt?"a whole number":t===Map?"a datamap":t===Set?"a dataset":t===Array?"an array":h(t)&&"TwineScript_TypeName"in t?t.TwineScript_TypeName:v(t)},typeID:function(e){var t=void 0===e?"undefined":_typeof(e);return[l,p,f].includes(t)?t:Array.isArray(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":e.TwineScript_TypeID||""},toSource:function t(r,o){var s=n.containsError(r);return s&&a("toSource","received a TwineError: "+s.message),_typeof(r.TwineScript_ToSource)===d?r.TwineScript_ToSource():y(r)&&"first"in r&&"last"in r?(r.first<0?(-1!==r.first?i(-r.first):"")+"last":i(r.first+1))+"to"+(r.last<0?(-1!==r.last?i(-r.last):"")+"last":i(r.last+1)):Array.isArray(r)?"(a:"+("property"===o?r.map(function(e){return e+(e>0)}):r).map(t)+")":r instanceof Map?"(dm:"+Array.from(r.entries()).sort(function(t,n){return[t[0],n[0]].sort(e("en"))[0]===t[0]?-1:1}).map(function(e){return e.map(t)})+")":r instanceof Set?"(ds:"+Array.from(r).sort(e("en")).map(t)+")":(void 0===r?"undefined":_typeof(r))===f&&"property"===o?r<0?-1===r?"last":i(-r)+"last":i(r+1):(void 0===r?"undefined":_typeof(r))===p&&"property"===o?RegExp(c).test(r)?r:"("+JSON.stringify(r)+")":JSON.stringify(r)},is:b,contains:function(e,t){if(e||""===e){if((void 0===e?"undefined":_typeof(e))===p)return(void 0===t?"undefined":_typeof(t))!==p?n.create("operation",v(e)+" can only contain strings, not "+v(t)+"."):e.includes(t);if(Array.isArray(e))return e.some(function(e){return b(e,t)});if(e instanceof Set||e instanceof Map)return Array.from(e.keys()).some(function(e){return b(e,t)})}return n.create("operation",v(e)+" cannot contain any values, let alone "+v(t))},isA:function(e,t){return _typeof(t.TwineScript_IsTypeOf)===d?t.TwineScript_IsTypeOf(e):n.create("operation",'"is a" should only be used to compare type names, not '+v(t)+".")},matches:function e(t,r){var a=!1;if(t&&_typeof(t.TwineScript_IsTypeOf)===d){var i=t.TwineScript_IsTypeOf(r);if(n.containsError(i))return i;a|=i}if(r&&_typeof(r.TwineScript_IsTypeOf)===d){var o=r.TwineScript_IsTypeOf(t);if(n.containsError(o))return o;a|=o}if(a)return!0;if(Array.isArray(t)&&Array.isArray(r)){for(var c=0,u=0,l=!0;l&&c<t.length&&u<r.length;){var p=t[c],f=r[u];if(p.rest){for(;u<r.length&&e(p,f);)f=r[u+=1];c+=1}else if(f.rest){for(;c<t.length&&e(p,f);)p=t[c+=1];u+=1}else e(p,f)?(c+=1,u+=1):l=!1}return l&&c>=t.length&&u>=r.length}return t instanceof Map&&r instanceof Map?e(Array.from(t.entries()).sort(),Array.from(r.entries()).sort()):t instanceof Set&&r instanceof Set?(t=[].concat(_toConsumableArray(t)),s.apply(void 0,_toConsumableArray(r)).some(function(n){return e(t,n)})):b(t,r)},subset:function e(t,r,a){if(!r||!a)return n.create("macrocall","The sub"+m(t)+" index value must not be "+(r&&a)+".");var i=(void 0===t?"undefined":_typeof(t))===p;if(i&&(t=Array.from(t)),r<0&&(r=Math.max(0,t.length+r+1)),a<0&&(a=Math.max(0,t.length+a+1)),r>a)return e(arguments[0],a,r);var o=t.slice(r>0?r-1:r,a).map(g);return i?o.join(""):o},range:function e(t,n){if(t>n)return e(n,t);var r=[t];for(n-=t;n-- >0;)r.push(++t);return r},printBuiltinValue:function e(t){return n.containsError(t)?t:t&&_typeof(t.TwineScript_Print)===d?t.TwineScript_Print():t instanceof Map?(t=Array.from(t.entries()),n.containsError(t)?t:t.reduce(function(t,n){var r=_slicedToArray(n,2),a=r[0],i=r[1];return t+"<tr><td>`"+e(a)+"`</td><td>`"+e(i)+"`</td></tr>"},"<table class=datamap>")+"</table>"):t instanceof Set?Array.from(t.values()).map(e)+"":Array.isArray(t)?t.map(e)+"":t&&_typeof(t.jquery)===p?t:h(t)?n.create("unimplemented","I don't know how to print this value yet."):t+""},unique:function(e,t,n){return!n.slice(t+1).some(function(t){return b(e,t)})}})}),define("utils/renderutils",["jquery","utils","renderer"],function(e,t,n){var r=RegExp(t.realWhitespace+"+"),a=RegExp(t.realWhitespace+"+","g");function i(e,t,n){var r=e.textContent.length;if(!(t>=r)){var a=void 0,i=[a=0===t?e:e.splitText(t)];return n&&(n<=0&&(n=r-n),n<r&&i.push(a.splitText(n-t))),i}}var o,s=(o=void 0,function(){if(void 0!==o)return o;var t=e("<p>");return t[0].normalize?(t.append(document.createTextNode("0-"),document.createTextNode("2"),document.createTextNode(""))[0].normalize(),o=1===t.contents().length):o=!1});var c="tw-collapsed,[collapsing=true]";var u=/^(=*)([^=]+)=*$/;return Object.freeze({dialog:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.section,i=r.parent,o=void 0===i?t.storyElement:i,s=r.cd,c=r.message,u=void 0===c?"":c,l=r.defaultValue,p=r.buttons,f=void 0===p?[{name:"OK",confirm:!0,callback:Object}]:p,d=e("<tw-backdrop><tw-dialog>"+(l||""===l?"<input type=text style='display:block;margin:0 auto'></input>\n":"")+"<tw-dialog-links>"+(f.length?f.reduce(function(e,t,n){var r=t.name;return e+"<tw-link style='margin:0 "+(n===f.length-1?"0 0 0.5em":0===n?"0.5em 0 0":"0.5em")+"' tabindex=0>"+r+"</tw-link>"},""):"<tw-link tabindex=0>"+f[0].name+"</tw-link>")+"</tw-dialog-links></tw-dialog></tw-backdrop>"),h=d.find("tw-dialog");if(o.append(d),a){a.renderInto(u,h,Object.assign({},s,{append:"prepend"}));var y=s&&s.transition&&d.find("tw-dialog > tw-transition-container");y&&y.length&&y.appendTo(d).append(h.prepend(y.contents().detach()))}else h.prepend(n.exec(u));if(l){var m=d.find("input").last();m.val(l).on("keypress",function(e){13===e.which&&(d.remove(),f.filter(function(e){return e.confirm}).forEach(function(e){return e.callback()}))}),setTimeout(function(){return m.focus()},100)}return f.reverse().forEach(function(t,n){e(d.find("tw-link").get(-n-1)).on("click",function(){d.remove(),t.callback()})}),d},realWhitespace:r,textNodeToChars:function(e){var t=[].concat(_toConsumableArray(e.textContent));return 1===t.length?[e]:t.reduce(function(e,t){return t.match(r)&&e.length&&e[e.length-1].match(r)?e[e.length-1]+=t:e.push(t),e},[]).reduce(function(t,n){var r=e;return n.length<e.textContent.length&&(e=e.splitText(n.length)),t.concat(r)},[])},findTextInNodes:function e(t,n){var r=[],a="",o=[];if(!t.length||!n)return o;for(;t.length>0;){r.push(t[0]),a+=t[0].textContent,t.shift();var s=a.indexOf(n);if(s>-1){for(var c,u=a.length-(s+n.length);s>=r[0].textContent.length;)s-=r[0].textContent.length,r.shift();if(1===r.length){var l=i(r[0],s,s+n.length);o.push(l[0]),l[1]&&t.unshift(l[1]);break}o.push(i(r[0],s,r[0].length)[0]),(c=o).push.apply(c,_toConsumableArray(r.slice(1,-1)));var p=i(r[r.length-1],0,r[r.length-1].textContent.length-u);o.push(p[0]),p[1]&&t.unshift(p[1]),o=o.filter(Boolean);break}}return[o].concat(_toConsumableArray(e(t,n)))},collapse:function(t){function n(t){return 0===e(this||t).parentsUntil(c).filter("tw-verbatim, tw-expression, [collapsing=false]").length}var r=function e(t){var n=t[0],r=t.parent();if(!r.length||t.findAndFilter("tw-story").length)return null;var a=r.textNodes().filter(function(e){var t=e.compareDocumentPosition(n);return 4&t&&!(8&t)});return(a=a[a.length-1])||e(r)}(t);e(r).parents(c).length||(r=null);var i=function e(t){var n=t[0],r=t.parent();if(!r.length||t.findAndFilter("tw-story").length)return null;var a=r.textNodes().filter(function(e){var t=e.compareDocumentPosition(n);return 2&t&&!(8&t)})[0];return a||e(r)}(t);e(i).parents(c).length||(i=null);var o="br:not([data-raw]),tw-consecutive-br:not([data-raw])";t.find(o).filter(n).replaceWith(document.createTextNode(" "));var u=(t=e(t.get().map(function(t){return e(t).filter(n).is(o)?e(document.createTextNode(" ")).replaceAll(t)[0]:t}))).textNodes(),l=0;u.reduce(function(e,t){return n(t)?(t.textContent=t.textContent.replace(a," ")," "!==t.textContent[0]||e&&e.textContent&&!(e.textContent.search(/\s$/)>-1)||(t.textContent=t.textContent.slice(1)),t):document.createTextNode("A")},r),[].concat(_toConsumableArray(u)).reverse().every(function(e){return!!n(e)&&(e.textContent.match(/^\s*$/)?(l+=e.textContent.length,e.textContent="",!0):(e.textContent=e.textContent.replace(/\s+$/,function(e){return l+=e.length,""}),!1))}),l>0&&i&&(u[u.length-1].textContent+=" "),t[0]&&s()&&t[0].normalize()},geomStringRegExp:u,geomParse:function(e){var t=e.length,n=u.exec(e)||[],r=_slicedToArray(n,3),a=r[0],i=r[1],o=r[2];return a?{marginLeft:i.length/t*100,size:o.length/t*100}:{marginLeft:0,size:0}}})}),define("datatypes/hookset",["jquery","utils","utils/renderutils","utils/operationutils"],function(e,t,n,r){var a=n.textNodeToChars,i=n.realWhitespace,o=n.findTextInNodes,s=r.toSource;function c(n){var r=n.dom,s=e();this.next&&(s=s.add(c.call(this.next,n)));var u=function(t,n){if(Array.isArray(n))return n.reduce(function(e,n){return e.add(t.get(n))},e());if(n&&"object"===(void 0===n?"undefined":_typeof(n))&&"first"in n&&"last"in n){var r=n.first,o=n.last,s=t.length;r<0&&(r+=s),o<0&&(o+=s);for(var c=[t.get(r)];r!==o;)r+=Math.sign(o-r),c.push(t.get(r));return e(c)}if("string"==typeof n){if("chars"===n){var u=[],l=!0,p=!1,f=void 0;try{for(var d,h=t.textNodes(":not(tw-error, tw-error *)")[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value,m=!0,g=!1,v=void 0;try{for(var b,w=a(y)[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var T=b.value;T.textContent.match(i)||u.push(T)}}catch(e){g=!0,v=e}finally{try{!m&&w.return&&w.return()}finally{if(g)throw v}}}}catch(e){p=!0,f=e}finally{try{!l&&h.return&&h.return()}finally{if(p)throw f}}return e(u)}if("links"===n)return t.findAndFilter("tw-link, .enchantment-link");if("visited"===n)return t.findAndFilter("tw-link.visited");if("lines"===n){var S=t.findAndFilter("br:not(tw-sidebar *),tw-consecutive-br:not(tw-sidebar *)").get(),x=[[]];return t.textNodes(":not(tw-error, tw-error *):not(tw-sidebar, tw-sidebar *)").forEach(function(e){S.length&&2&e.compareDocumentPosition(S[0])&&(S.shift(),x.push([])),x[x.length-1]=x[x.length-1].concat(e)}),x=x.map(function(t){return t.map(function(n){for(var r=n.parentNode;e(r).textNodes().every(function(e){return t.includes(e)})&&!t.every(function(t){return e(r).has(t).length});){r=(n=r).parentNode}return n})}),e(x.map(function(t){return e(t).wrapAll("<tw-pseudo-hook>").parent()[0]}))}}return e(t.get(n))};if(this.selector){var l=void 0;if("string"===this.selector.type)l=function(t,n){var r=o(n.textNodes(),t),a=e();return r.forEach(function(t){a=a.add(e(t).wrapAll("<tw-pseudo-hook>").parent())}),a}(this.selector.data,r);else{if("base"===this.selector.type)return s.add(u(c.call(this.selector.data,n),this.property));var p=function(e){var n='tw-hook[name="'+(e=t.insensitiveName(e).replace(/"/g,"&quot;"))+'"],tw-enchantment[name="'+e+'"]';return n+={page:", tw-story",passage:", tw-passage",sidebar:", tw-sidebar",link:", tw-link, .enchantment-link"}[e]||""}(this.selector.data);l=r.findAndFilter(p).add(r.parentsUntil(t.storyElement.parent())).filter(p)}s=this.property?s.add(u(l,this.property)):s.add(l)}return s}function u(e){if(!e)return[];var n=e.selector,r=e.property,a=e.next;return[JSON.stringify(["base"===n.type?u(n.data):t.insensitiveName(n.data),r])].concat(_toConsumableArray(u(a))).sort()}var l=Object.freeze({forEach:function(t,n){var r=c.call(this,t).each(function(t){n(e(this),t)});return t.dom.findAndFilter("tw-pseudo-hook").contents().unwrap(),r},hooks:function(e){return c.call(this,e)},get TwineScript_ObjectName(){return this.property||this.next?"a complex hook name":"?"+this.selector.data+" (a hook name)"},TwineScript_TypeID:"hookName",TwineScript_TypeName:"a hook name (like ?this)",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){var e="",n=this.selector,r=n.type,a=n.data;return"name"===r?a.match(RegExp("^"+t.anyRealLetter+"+$"))?e+="?"+a:e+="(hooks-named:"+JSON.stringify(a)+")":"string"===r?e+=JSON.stringify(a):"base"===r&&(e+=a.TwineScript_ToSource()+"'s "+s(this.property,"property")),this.next&&(e+=" + "+this.next.TwineScript_ToSource()),e},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){return u(this)+""==u(e)+""},TwineScript_GetProperty:function(e){return l.create({type:"base",data:this},e,void 0)},TwineScript_Properties:["chars","links","lines","visited"],TwineScript_Clone:function(){return l.create(this.selector,this.property,this.next)},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Object.assign(Object.create(this||l),{selector:Object.freeze(e),property:t,next:n})},from:function(e){return l.isPrototypeOf(e)||"string"==typeof e||t.impossible("HookSet.from() was given a non-HookSet non-string."),l.isPrototypeOf(e)?e:l.create({type:"string",data:e})}});return l}),define("internaltypes/changedescriptor",["jquery","utils","renderer","datatypes/hookset"],function(e,t,n,r){var a=t.assertOnlyHas,i=t.impossible,o=t.transitionIn,s=n.exec,c=Object.assign,u=Object.keys,l=Object.create,p=Object.seal,f=function(e){return e.split(/\n/g).reduce(function(e,t,n,r){var a=r.length;return e.concat(document.createTextNode(t),n!==a-1&&document.createElement(t.length?"br":"tw-consecutive-br"))},[])},d=void 0,h={source:"",appendSource:null,enabled:!0,enablers:null,verbatim:!1,target:null,append:"",newTargets:null,transition:"",transitionTime:null,transitionDeferred:!1,transitionDelay:0,transitionSkip:0,transitionOrigin:null,loopVars:null,styles:null,attr:null,data:null,innerEnchantments:null,section:null,timestamp:0,summary:function(){var e=this;return["source","appendSource","enabled","verbatim","target","append","newTargets","transition","transitionTime","transitionDeferred","transitionDelay","transitionSkip","transitionOrigin","innerEnchantments","enablers"].filter(function(t){return e.hasOwnProperty(t)}).concat([this.attr.length&&"attr",this.styles.length&&"styles",u(this.loopVars).length&&"loopVars",u(this.data).length&&"data"].filter(Boolean))},create:function(e,t){var n=c(l(this),{attr:[].concat(this.attr||[]),styles:[].concat(this.styles||[]),loopVars:this.loopVars||{},data:this.data||{}},e);return t&&t.run(n),n},update:function(){var e=this,t=this.section,n=this.newTargets,a=this.transition,i=this.transitionDeferred,s=this.append,c=this.target;"function"==typeof c&&(c=c());var l=function(t){if(Array.isArray(e.styles)&&e.styles.length>0){var n=e.styles.reduce(function(e,t){return u(t).forEach(function(n){var r=t[n];e[+("function"==typeof r)].push(_defineProperty({},n,r))}),e},[[],[]]),r=_slicedToArray(n,2),a=r[0],i=r[1];a.forEach(function(e){return t.css(e)}),setTimeout(function(){i.forEach(function(e){return t.css(e)})})}e.attr&&e.attr.forEach(function(e){return t.attr(e)}),e.data&&t.data(e.data)};if(Array.isArray(n)&&n.length&&(c=n.map(function(e){return e.target})),[].concat(c).forEach(function(e){r.isPrototypeOf(e)?e.forEach(t,l):l(e)}),a&&!i&&!s){var p=c,f=void 0;do{!(f=p.data("timestamp"))&&(p=p.parent())}while(!f&&p.length);o(c,a,this.transitionTime,this.transitionDelay,this.transitionSkip,f?Date.now()-f:0,this.transitionOrigin)}},render:function(){var t=this,n=this.source,u=this.transition,l=this.transitionTime,p=this.transitionDeferred,y=this.enabled,m=this.enablers,g=this.data,v=this.section,b=this.newTargets,w=this.innerEnchantments,T=this.appendSource,S=this.target,x=this.target,k=this.append;if("function"==typeof S&&(S=S()),a(this,d),!k)return i("ChangeDescriptor.render","This doesn't have an 'append' method chosen."),e();if(m&&m.length){var O=m[0],j=O.descriptor,A=O.changer,C=j.render();if(A){var E=h.create({section:v,target:C});A.run(E),E.update()}return C}if(!y||void 0!==S.attr("hidden"))return h.create({target:S,attr:this.attr.filter(function(e){return!("style"in e)}),data:c({},g,{originalSource:n,hidden:!0})}).update(),e();if(Array.isArray(b)&&b.length&&(S=b),!S)return i("ChangeDescriptor.render","ChangeDescriptor has source but not a target!"),e();var _=e();if([].concat(S).filter(function(e){return!e.jquery}).map(function(e){var t=k,n=void 0;if(e.target&&e.append){var r=e;t=r.append,n=r.before,e=e.target}return{elements:e.hooks(v,x).filter(function(){return!(n&&1&this.compareDocumentPosition(document)&&2&this.compareDocumentPosition(x[0]))}),append:t}},[]).forEach(function(n){var r=n.elements,a=n.append;r.each(function(n,r){r=e(r),_=_.add(t.create({target:r,append:a,newTargets:null}).render()),r.filter("tw-pseudo-hook").contents().unwrap()})}),_.length||Array.isArray(S)||r.isPrototypeOf(S))return _;if(!(k in S)){if("replace"!==k)return i("ChangeDescriptor.render","The target doesn't have a '"+k+"' method."),e();S[0]instanceof Text?k="replaceWith":(S.empty(),k="append")}return S[0]instanceof Text&&("append"===k&&(k="after"),"prepend"===k&&(k="before")),_=e(n&&(this.verbatim?f(n):e.parseHTML(s(n),document,!0))),Array.isArray(T)&&T.forEach(function(n){var r=n.source,a=n.append,i=e(t.verbatim?f(r):e.parseHTML(s(r),document,!0));_="append"===a?_.add(i):"prepend"===a?i.add(_):i}),S[k](_.length?_:void 0),S.data("timestamp",Date.now()),this.update(),u&&!p&&o("replace"===k?S:_,u,l,this.transitionDelay,this.transitionSkip,this.expedite,this.transitionOrigin),w&&w.map(function(e){return e(S)}).forEach(function(e){return v.addEnchantment(e)}),_}};return d=u(h),p(h)}),define("datatypes/changercommand",["utils","utils/operationutils","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r){var a=e.impossible,i=t.is,o=t.toSource,s={},c={TwineScript_TypeID:"changer",TwineScript_TypeName:"a changer",TwineScript_Print:function(){return"`[A ("+this.macroName+":) changer]`"},TwineScript_ToSource:function(){return"("+this.macroName+":"+("else"===this.name?"":this.params.map(o))+")"+(this.next?"+"+this.next.TwineScript_ToSource():"")},summary:function(){var e=n.create();return this.run(e),e.summary()},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(t)||a("ChangerCommand.create","params was not an array but "+t),Object.assign(Object.create(this),{macroName:e,params:t,next:n,TwineScript_ObjectName:"a ("+e+":) changer"})},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){if(c.isPrototypeOf(e))return this.macroName===e.macroName&&i(this.params,e.params)&&i(this.next,e.next)},TwineScript_Clone:function(){for(var e=this.create(this.macroName,this.params,this.next),t=e;t.next;)t=t.next=t.next.TwineScript_Clone();return e},run:function(e){var t=s[this.macroName].apply(s,[e].concat(_toConsumableArray(this.params)));if(r.containsError(t))return t;this.next&&this.next.run(e)},register:function(e,t){s[e]=t}};return Object.freeze(c)}),define("state",["utils","passages","datatypes/changercommand","internaltypes/twineerror","utils/operationutils","markup","twinescript/compiler"],function(e,t,n,r,a,i,o){var s=e.impossible,c=a.objectName,u=a.toSource,l=i.lex,p=Object.assign,f=Object.create,d=Object.defineProperty;d(Map.prototype,"toJSON",{value:void 0}),d(Set.prototype,"toJSON",{value:void 0});var h=["localStorage","sessionStorage"].map(function(e){try{return!!window[e]&&(window[e].setItem("test","1"),window[e].removeItem("test"),!0)}catch(e){return!1}}),y=p(f(null),{TwineScript_ObjectName:"this story's variables",TwineScript_TypeDefs:f(null),TwineScript_VariableStore:!0,TwineScript_MockVisits:null}),m={passage:"",variables:y,create:function(e,t){var n=f(m);return n.passage=e||"",n.variables=p(f(this.variables),t),n}},g=[],v=-1,b=m.create(),w=void 0,T={forward:[],back:[],load:[]},S=void 0;function x(e){b=(g[v]||m).create(e),function(){if(S.hasSessionStorage){var e=S.serialise();if("string"==typeof e)try{sessionStorage.setItem("Saved Session",e)}catch(e){return}}}()}return S=p({get passage(){return b.passage},get variables(){return b.variables},get pastLength(){return v},get futureLength(){return g.length-1-v},get mockVisits(){return b.variables.TwineScript_MockVisits||[]},set mockVisits(e){b.variables.TwineScript_MockVisits=e},passageNameVisited:function(e){var n=0;if(!t.get(e))return 0;for(var r=0;r<=v;r++)n+=+(e===g[r].passage);return n},passageNameLastVisited:function(e){if(!t.get(e))return 1/0;if(e===b.passage)return 0;for(var n=v;n>0;n--)if(g[n].passage===e)return v-n+1;return 1/0},pastPassageNames:function(){for(var e=[],t=v-1;t>=0;t--)e.unshift(g[t].passage);return e},timelinePassageNames:function(){return g.map(function(e){return e.passage})},play:function(e){b||s("State.play","present is undefined!"),b.passage=e,g=g.slice(0,v+1).concat(b),v+=1,x(e),T.forward.forEach(function(t){return t(e)})},rewind:function(e){var t=1,n=!1;if(e)if("string"==typeof e){if((t=this.passageNameLastVisited(e))===1/0)return}else"number"==typeof e&&(t=e);for(;t>0&&v>0;t--)n=!0,v-=1;return n&&(x(g[v].passage),T.back.forEach(function(e){return e()})),n},fastForward:function(e){var t=1,n=!1;for("number"==typeof e&&(t=e);t>0&&g.length>0;t--)n=!0,v+=1;return n&&(x(g[v].passage),T.forward.forEach(function(e){return e(g[v].passage,"fastForward")})),n},on:function(e,t){if(e in T)return"function"!=typeof t||T[e].includes(t)||T[e].push(t),S;s("State.on","invalid event name")},reset:function(){g=[],v=-1,b=m.create(),w=void 0,T.load.forEach(function(e){return e(g)})},hasStorage:h[0],hasSessionStorage:h[1]},function(){function e(e,t){Object.keys(t).forEach(function(n){return!n.startsWith("TwineScript_")&&(t[n]=e.eval(o(l(t[n],0,"macro"))))})}return{serialise:function(){var e=g.slice(0,v+1),t=e.map(function(e){return Object.keys(e.variables).filter(function(t){return e.variables[t]&&(n=e.variables[t],a=void 0===n?"undefined":_typeof(n),!(!r.containsError(n)&&("function"==typeof n.TwineScript_ToSource||Array.isArray(n)||n instanceof Map||n instanceof Set||"string"===a||"number"===a||"boolean"===a||Object.isPrototypeOf.call(y.TwineScript_TypeDefs,n))));var n,a}).map(function(t){return[t,e.variables[t]]})});if(w||(w=t.reduce(function(e,t,n){var r=_slicedToArray(t,2),a=r[0],i=r[1];return e||a&&[a,i,n+1]},void 0)),w){var n=_slicedToArray(w,3),a=n[0],i=n[1],o=n[2];return r.create("saving","The variable $"+a+" holds "+c(i)+" (which is, or contains, a complex data value) on turn "+o+"; the game can no longer be saved.")}try{return JSON.stringify(e,function(e,t){return this.TwineScript_VariableStore?"TwineScript_TypeDefs"===e?Object.keys(t).reduce(function(e,n){return e[n]=u(t[n]),e},{}):"TwineScript_MockVisits"===e?t:u(t):t})}catch(e){return!1}},deserialise:function(n,r){var a,i=void 0,o=y,s="The save data is unintelligible.";try{i=JSON.parse(r)}catch(e){return Error(s)}return Array.isArray(i)?(a=(i=i.map(function(r){if("object"!==(void 0===r?"undefined":_typeof(r))||!r.hasOwnProperty("passage")||!r.hasOwnProperty("variables"))return Error(s);if(!t.hasValid(r.passage))return Error("The data refers to a passage named '"+r.passage+"', but it isn't in this story.");if(r.variables=p(f(o),r.variables),Object.hasOwnProperty.call(r.variables,"TwineScript_TypeDefs")){var a=r.variables.TwineScript_TypeDefs=p(f(o.TwineScript_TypeDefs),r.variables.TwineScript_TypeDefs);try{e(n,a)}catch(e){return Error(s)}}try{e(n,r.variables)}catch(e){return Error(s)}return o=r.variables,p(f(m),r)})).find(function(e){return e instanceof Error}))?a:(g=i,T.load.forEach(function(e){return e(g)}),v=g.length-1,x(g[v].passage),!0):Error(s)}}}()),Object.seal(m),Object.freeze(S)}),define("internaltypes/varref",["state","internaltypes/twineerror","utils","utils/operationutils","datatypes/hookset"],function(e,t,n,r,a){var i=n.impossible,o=n.andList,s=n.nth,c=r.is,u=r.isObject,l=r.toSource,p=r.isSequential,f=r.objectName,d=r.typeName,h=r.clone,y=r.isValidDatamapName,m=r.subset,g=r.collectionType,v=r.unstorableValue,b=r.matches,w=void 0,T=0,S={set:[],delete:[]},x="You can only access position strings/numbers ('4th', 'last', '2ndlast', (2), etc.) or slices ('1stTo2ndlast', '3rdTo5th'), ",k="You can't access the '0th' or '0thlast' position of ";function O(e,n){var r=void 0;if(t.containsError(n))return r;if(e instanceof Map&&(r=t.containsError(y(e,n))))return r;if(p(e)){var i=void 0;if("number"==typeof n){if(0===n)return t.create("property","You can't access elements at position 0 of "+f(e)+".","Only positive and negative position values exist.");n>0&&(n-=1)}else if("string"==typeof n&&(i=/^(\d+)(?:st|[nr]d|th)last$/i.exec(n))){if("0"===i[1])return t.create("property",k+f(e)+".");n=-i[1]}else if("string"==typeof n&&(i=/^(\d+)(?:st|[nr]d|th)$/i.exec(n))){if("0"===i[1])return t.create("property",k+f(e)+".");n=i[1]-1}else if("string"==typeof n&&(i=/^(?:(\d+)(?:st|[nr]d|th)(last)?|last)to(?:(\d+)(?:st|[nr]d|th)(last)?|last)$/i.exec(n))){var s=_slicedToArray(i,5),c=s[1],u=void 0===c?0:c,l=s[2],d=s[3],h=void 0===d?0:d;n={last:h=s[4]?-h:h-1,first:u=l?-u:u-1}}else if("last"===n)n=-1;else if("random"===n){if(!e.length)return t.create("property","I can't get a random value from "+f(e)+", because it's empty");n=Math.random()*Array.from(e).length|0}else{if(a.isPrototypeOf(e)&&!a.TwineScript_Properties.includes(n))return t.create("property",x+o(a.TwineScript_Properties.map(function(e){return"'"+e+"'"}))+" of "+f(e)+", not "+f(n)+".");if(!["length","any","all","start","end","random"].includes(n)&&!a.isPrototypeOf(e))return t.create("property",x+"'length', 'any', 'all', 'start', 'end', and 'random' of "+f(e)+", not "+f(n)+".")}}else if(e instanceof Set){if(!["length","any","all"].includes(n))return t.create("property","You can only get the 'length', 'any' and 'all' of "+f(e)+".","To check contained values, use the 'contains' operator.");"length"===n&&(n="size")}else{if(Array.isArray(e.TwineScript_Properties)&&!e.TwineScript_Properties.includes(n))return t.create("property","You can only get the "+o(e.TwineScript_Properties.map(function(e){return"'"+e+"'"}))+" of "+f(e)+", not "+f(n)+".");if("number"==typeof e||"boolean"==typeof e)return t.create("property","You can't get data values from "+f(e)+".")}return n}function j(e,t){return t-0<0&&Math.abs(t)<=e.length?e.length+(t-0):t}var A=/[^\x0000-\xFFFF]/,C=new Map;function E(e,t){if(void 0===e)return e;if(e instanceof Map||w.isPrototypeOf(e))return e.get(t);if(("any"===t||"all"===t||"start"===t||"end"===t)&&!e.TwineScript_VariableStoreName)return function(e,t){var n="'"+t+"' value"+("any"===t?"":"s")+" of ";return{determiner:t,array:[].concat(_toConsumableArray(e)),string:"string"==typeof e&&e,TwineScript_ObjectName:n+f(e),TwineScript_TypeName:n+"a data structure",TwineScript_Unstorable:!0,TwineScript_Print:function(){return"`["+this.TwineScript_TypeName+"]`"}}}(e,t);if("string"==typeof e)if(C.has(e))e=C.get(e);else if(A.test(e)){var n=[].concat(_toConsumableArray(e));C.set(e,n),e=n}else C.set(e,e);if(p(e)&&Number.isFinite(t)&&(t=j(e,t)),e.TwineScript_GetProperty)return e.TwineScript_GetProperty(t);var r=e[t];return"function"!=typeof r?r:void 0}function _(e){if(e.computed){var t=e.value;return w.isPrototypeOf(t)&&(t=t.get()),"string"==typeof t?"('"+t+"')":"("+t+")"}return"number"==typeof e?s(e):"'"+e+"'"}function N(n,r,i){if(n.TwineScript_VariableStore){if(n.TwineScript_TypeDefs&&r in n.TwineScript_TypeDefs){var o=n.TwineScript_TypeDefs[r];if("const"===o.name){if(void 0!==n[r])return t.create("operation","I can't alter "+(n===e.variables?"$":"_")+r+" because it's been restricted to a constant value.","This variable can't be changed for the rest of the story.")}else if(!b(o,i))return t.create("operation","I can't set "+(n===e.variables?"$":"_")+r+" to "+d(i)+" because it's been restricted to "+l(o)+"-type data.","You can restrict a variable or data name by giving a typed variable to (set:) or (put:).")}return!0}return Array.isArray(r)?r.map(function(e){return N(n,e)}):n instanceof Map?"string"==typeof r||t.create("operation",f(n)+" can only have string data names, not "+f(r)+"."):p(n)?["length","random","any","all","start","end"].includes(r)?t.create("operation","I can't forcibly alter the '"+r+"' of "+f(n)+".","start"===r||"end"===r?"Alter the values at actual positions, like 1st or 2ndlast, rather than just the '"+r+"'.":void 0):+r==(0|r)||t.create("property",f(n)+" can only have position keys ('3rd', '1st', (5), etc.), not "+_(r)+"."):n.TwineScript_Identifiers&&r in n?t.create("keyword","I can't alter the value of the '"+r+"' identifier.","You can only alter data in variables and hooks, not fixed identifiers."):t.create("operation","I can't modify "+f(n),n instanceof Set?"You should use an (array:) if you need to modify the data inside this dataset.":a.isPrototypeOf(n)?"You should alter hooks indirectly using macros like (replace:) or (enchant:).":void 0)}function P(e,t,n){var r=t;e instanceof Map?e.set(t,n):(p(e)&&(t=j(e,t)),e.TwineScript_Set?e.TwineScript_Set(t):e[t]=n),S.set.forEach(function(t){return t(e,r,n)})}function I(e,t){var n=t;p(e)&&(t=j(e,t)),Array.isArray(e)&&/^(?:[1-9]\d*|0)$/.exec(t)?e.splice(t,1):e instanceof Map||e instanceof Set?e.delete(t):delete e[t],S.delete.forEach(function(t){return t(e,n)})}function M(e){return Object.assign(Object.create(w),{error:e})}function D(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(r&&"object"===(void 0===r?"undefined":_typeof(r))&&"last"in r&&"first"in r){if(a.isPrototypeOf(n))return n.TwineScript_GetProperty(r);var s=r.first,c=r.last;return m(n,s+(s>=0),c+(c>=0))}if(Array.isArray(r))return a.isPrototypeOf(n)?n.TwineScript_GetProperty(r):r.map(function(e){return D(n,e,e)})["string"==typeof n?"join":"valueOf"]("");var u=E(n,r);if(void 0===u){if(n===e.variables)return T;if(n.TwineScript_VariableStore)return t.create("property","There isn't a temp variable named _"+i+" in this place.","Temp variables only exist inside the same passage and hook in which they're (set:).");if(Array.isArray(n)&&"number"==typeof r)return t.create("property","This array of "+n.length+" elements doesn't have a "+_(i)+" element.",n.length?"It contains: "+o(n.map(f))+".":"The array is empty.");var l=Array.from("function"==typeof n.keys&&n.keys());return t.create("property","I can't find a "+_(i)+" data name in "+f(n),n instanceof Map&&l.length?"Its names include: "+o(l)+".":void 0)}return u}function R(e,n){var r=this,a=this.compiledPropertyChain.reduce(function(e,t){var n=void 0;return n=0===e.length?r.object:D.apply(void 0,_toConsumableArray(e[e.length-1])),e.push([n,t])&&e},[]).reduceRight(e,n);return t.containsError(a)?a:void 0}return w=Object.freeze({get:function(){if(this.error)return this.error;for(var e=this.object,t=0;t<this.compiledPropertyChain.length-1;t+=1)e=D(e,this.compiledPropertyChain[t]);return D(e,this.compiledPropertyChain.slice(-1)[0],this.propertyChain.slice(-1)[0])},set:function(n){var r=this;return this.error?this.error:!this.object||this.object.TwineScript_VariableStore||this.object.TwineScript_Identifiers?R.call(this,function(n,a,i){var o,s=_slicedToArray(a,2),c=s[0],l=s[1];if(o=t.containsError(n,c,l)||t.containsError(N(c,l,n)))return o;var d;if(d=v(n))return t.create("operation",f(n)+" can't be stored"+(g(n)?" because it holds "+f(d)+".":""));if(i>0)c=h(c);else if(c.TwineScript_VariableStore&&c!==e.variables){for(var y=c;y.TwineScript_VariableStore&&!y.hasOwnProperty(l);)y=Object.getPrototypeOf(y);y.TwineScript_VariableStore&&(c=y)}if("string"==typeof c){if("string"!=typeof n)return t.create("datatype","I can't put this non-string value, "+f(n)+", in a string.");if(n.length!==(Array.isArray(l)?l.length:1))return t.create("datatype",f(n)+"is not the right length to fit into this string location.");c=[].concat(_toConsumableArray(c));var m=[].concat(_toConsumableArray(n));[].concat(l).forEach(function(e){0+e<0&&(e=c.length+(0+e)),c=[].concat(_toConsumableArray(c.slice(0,e)),[m.shift()],_toConsumableArray(c.slice(e+1)))}),c=c.join("")}else u(c)&&(void 0!==n.TwineScript_KnownName&&(n.TwineScript_KnownName=r.TwineScript_ObjectName),Array.isArray(l)&&p(n)?("string"==typeof n&&(n=[].concat(_toConsumableArray(n))),l.map(function(e,t){return[e,n[t]]}).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return P(c,n,r)})):P(c,l,n));return c},n):t.create("macrocall","I can't (set:) "+f(this)+", if the "+(f(this.object).match(/ (.+$)/)||["","value"])[1]+" isn't stored in a variable.","Modifying data structures that aren't in variables won't change the game state at all.")},delete:function(){return this.error?this.error:R.call(this,function(e,n,r){var a,i=_slicedToArray(n,2),o=i[0],s=i[1];if(a=t.containsError(e,o,s)||t.containsError(N(o,s)))return a;if(r>0&&(o=h(o)),null===e){var c="string"==typeof o;c&&(o=[].concat(_toConsumableArray(o))),Array.isArray(s)?(p(o)&&(s=[].concat(_toConsumableArray(new Set(s)))).sort(function(e,t){return j(o,t)-j(o,e)}),s.forEach(function(e){return I(o,e)})):I(o,s),c&&(o=o.join(""))}else P(o,s,e);return o},null)},defineType:function(e){var n=this.object,r=this.compiledPropertyChain;if(!n||!n.TwineScript_VariableStore||1!==r.length||!n.TwineScript_TypeDefs)return t.create("unimplemented","I can only restrict the datatypes of variables, not data names or anything else.");var a=r[0];Object.hasOwnProperty.call(n,"TwineScript_TypeDefs")||(n.TwineScript_TypeDefs=Object.create(n.TwineScript_TypeDefs));var i=n.TwineScript_TypeDefs,o=i[a];if(o&&!c(o,e))return t.create("operation","I can't redefine the type of "+f(this)+" to "+(e.TwineScript_ObjectName||d(e))+", as it is already "+(o.TwineScript_ObjectName||d(o))+".");i[a]=e,"const"===e.name&&(n[a]=void 0)},matches:function(e,t){return this.object===e&&this.compiledPropertyChain[0]===t},getName:function(){return this.compiledPropertyChain[0]},create:function(e,n){var r=void 0;if(r=t.containsError(e))return M(r);if(n=[].concat(n),w.isPrototypeOf(e)){if(u(e.error))return e;n=e.propertyChain.concat(n),e=e.object}var a=function(e,n){return n.reduce(function(r,a,i){var o;return a.computed&&(a=a.value),w.isPrototypeOf(a)&&(a=a.get()),a=Array.isArray(a)?a.map(function(t){return O(e,t)}):O(e,a),(o=t.containsError(r,a))?o:(i<n.length-1&&(e=D(e,a)),r.push(a),r)},[])}(e,n);return(r=t.containsError(a))?M(r):Object.assign(Object.create(w),{object:e,propertyChain:n,compiledPropertyChain:a})},TwineScript_ToSource:function(){var t=this,n=function(e,n){return!n&&t.object.TwineScript_VariableStore?e:_(e)};return(this.object===e.variables?"$":this.object.TwineScript_VariableStore?"_":f(this.object)+"'s ")+(1===this.propertyChain.length?n(this.propertyChain[0]):this.propertyChain.reduce(function(e,t,r){return e+"'s "+n(t,r)}))},get TwineScript_ObjectName(){return this.TwineScript_ToSource()+(this.object.TwineScript_VariableStoreName?" in "+this.object.TwineScript_VariableStoreName:"")},on:function(e,t){if(e in S)return"function"!=typeof t||S[e].includes(t)||S[e].push(t),w;i("VarRef.on","invalid event name")}})}),define("internaltypes/varscope",[],function(){return Object.seal({TwineScript_ObjectName:"the temporary variables",TwineScript_VariableStore:!0,TwineScript_TypeDefs:Object.create(null)})}),define("internaltypes/twinenotifier",["jquery","utils"],function(e,t){var n=t.impossible,r={create:function(e){return e||n("TwineNotifier.create","called with only 1 string."),Object.assign(Object.create(r),{message:e})},render:function(){return e("<tw-notifier>").attr("message",this.message)}};return r}),define("datatypes/custommacro",["jquery","utils/operationutils","internaltypes/changedescriptor","internaltypes/varref","internaltypes/varscope","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,a,i,o){var s=t.objectName,c=t.typeName,u=t.matches,l=Object.assign,p=Object.create,f=function(t){return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];t.called+=1;var h=t.varNames,y=t.params,m=t.body,g=l(p(a),{TwineScript_VariableStoreName:t.TwineScript_ObjectName+" call #"+t.called,TwineScript_TypeDefs:p(null)}),v=[],b=0;f.forEach(function(e,t){var n=h[b];g.TwineScript_TypeDefs[n]=y[b].datatype.rest?y[b].datatype.create("array"):y[b].datatype;var a=r.create(g,n);if(y[b].datatype.rest){var i=(g[n]||[]).concat([e]);if(t<f.length-1)return void(g[n]=i);a.set(i)}else a.set(e),b+=1;v.push(o.create(s(a)+" is now "+s(g[n])))}),f.length&&(b+=1),y[b]&&y[b].datatype.rest&&(r.create(g,h[b]).set([]),g.TwineScript_TypeDefs[name]=y[b].datatype.create("array"));var w=void 0,T=e("<p>").append(m.html),S=c.stack.length;for(c.stack.unshift({tempVariables:g,dom:T,output:function(e){w=e}}),c.execute();c.stack.length>S;)c.stack.shift();var x,k,O=T.find("tw-error");return O.length?(T.prepend(v.map(function(e){return e.render()}),"<br>"),i.create("propagated",O.length+" error"+(O.length>1?"s":"")+" occurred when running "+t.TwineScript_ObjectName+".",void 0,T)):void 0===w?i.create("custommacro",t.TwineScript_ObjectName+" didn't output any data or hooks using (output:) or (output-data:)."):n.isPrototypeOf(w)?(x=w,k=l({TwineScript_TypeID:"command",TwineScript_ObjectName:"a custom command",TwineScript_TypeName:"a custom command",TwineScript_Print:function(){return"`[a custom command]`"},TwineScript_Attach:function(e){return e.run(x),k},TwineScript_Run:function(){return x}})):w}},d=Object.freeze({TwineScript_TypeID:"macro",TwineScript_TypeName:"a custom macro",get TwineScript_ObjectName(){return this.TwineScript_KnownName?"the "+this.TwineScript_KnownName+" macro":"a custom macro"},TwineScript_GetProperty:function(e){if("params"===e)return[].concat(_toConsumableArray(this.params))},TwineScript_Properties:["params"],TwineScript_Print:function(){return"`["+this.TwineScript_ObjectName+"]`"},TwineScript_Clone:function(){return l(p(d),this)},TwineScript_ToSource:function(){return"(macro:"+this.params.map(function(e){return e.TwineScript_ToSource()}).concat("")+this.body.TwineScript_ToSource()+")"},create:function(e,t){var n=l(p(this),{params:e,called:0,varNames:e.map(function(e){return e.varRef.propertyChain[0]}),typeSignature:e.map(function(e){var t=void 0;return t=e.datatype.toTypeSignatureObject?e.datatype.toTypeSignatureObject({rest:e.rest}):{pattern:"range",range:function(t){return u(e.datatype,t)},name:c(e.datatype)},e.rest?{pattern:"zero or more",innerType:t}:t}),body:t,TwineScript_KnownName:""});return n.fn=f(n),n}});return d}),define("datatypes/lambda",["utils/operationutils","internaltypes/varscope","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r){var a=e.objectName,i=Object.freeze({TwineScript_TypeID:"lambda",TwineScript_TypeName:"a lambda",get TwineScript_ObjectName(){return'a "'+("making"in this?"making ... ":"")+("where"in this?"where ... ":"")+("when"in this?"when ... ":"")+("via"in this?"via ... ":"")+'" lambda'},TwineScript_Print:function(){return"`[A lambda]`"},TwineScript_is:function(e){return e===this},TwineScript_ToSource:function(){return this.source},TypeSignature:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"lambda",innerType:i,clauses:t,typeName:'a "'+t.concat("").join(" ...")+'" lambda'}},TwineScript_Clone:function(){return Object.assign(Object.create(i),this)},create:function(e,o,s,c){var u=void 0;function l(e){var r=e&&e.varRef?e.varRef:e;return void 0===r||r&&n.isPrototypeOf(r)&&t.isPrototypeOf(r.object)&&1===r.propertyChain.length}if("making"===o&&!l(s))return r.create("syntax","I need a temp variable, or typed temp variable, to the right of '"+o+"', not "+a(s)+".");if(r.containsError(e))return e;if(i.isPrototypeOf(e)){if("when"===o||"when"in e)return r.create("syntax","A 'when' lambda cannot have any other clauses, such as '"+o+"'.");if(o in e&&("where"!==o||"true"!==e[o]))return r.create("syntax","This lambda has two '"+o+"' clauses.");u=e}else{if("when"===o&&void 0!==e)return r.create("syntax","A 'when' lambda shouldn't begin with a temp variable (just use 'when' followed by the condition).");if(!l(e))return r.create("syntax","This lambda needs to start with a single temp variable, or typed temp variable, not "+a(e)+".");(u=Object.create(this)).loop=e||""}return u.source=c.trim(),u[o]=s,u.making&&u.making.getName()===(u.loop&&u.loop.getName())?r.create("syntax","This lambda has two variables named '"+u.loop.getName()+"'.","Lambdas should have all-unique parameter names."):u},apply:function(e,n){var a=n.loop,i=n.pos,o=n.making,s=n.ignoreVia,c=n.tempVariables;function u(e,t){if(e)if("datatype"in e&&"varRef"in e){var n=e.varRef.create(c,e.varRef.propertyChain);n.defineType(e.datatype);var a=n.set(t);if(r.containsError(a))return a}else c[e.getName()]=t}c=c||Object.create(e.stack.length?e.stackTop.tempVariables:t);var l=u(this.loop,a)||u(this.making,o);if(r.containsError(l))return l;e.stack.unshift(Object.assign(Object.create(e.stackTop||null),{tempVariables:c,lambdaPos:this.when?void 0:i}));var p=e.eval("Operations");!a||this.making||this.when?p.initialiseIt(r.create("operation","I can't use 'it', or an implied 'it', in "+this.TwineScript_ObjectName)):p.initialiseIt(a);var f=!s&&this.via,d=e.eval("where"in this||"when"in this?"Operations.where("+(this.where||this.when)+","+(f||"true")+",null)":f||"true");return e.stack.shift(),d},filter:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=void 0,o=t.reduce(function(t,o,s){if(i=r.containsError(t))return i;var c=n.apply(e,{loop:o,pos:s+1,ignoreVia:!0,tempVariables:a});return(i=r.containsError(c))?i:t.concat(c?[o]:[])},[]);return(i=r.containsError(o))?i:o}});return i}),define("datatypes/codehook",["internaltypes/twineerror","renderer"],function(e,t){var n=t.exec;return Object.freeze({TwineScript_TypeName:"a code hook",TwineScript_ObjectName:"a code hook",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return"["+this.source+"]"},create:function(t,r){r||(r=n(t));var a=e.containsError(r);return a||Object.assign(Object.create(this),{source:t,html:r})}})}),define("datatypes/colour",["jquery","utils"],function(e,t){var n=t.matMul,r=Math.max,a=Math.min,i=Math.sin,o=Math.cos,s=Math.pow,c=Math.round,u=Math.floor,l=Math.atan2,p=Math.cbrt,f=Math.sqrt,d=Math.PI,h=Object.assign,y=Object.create,m=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,g=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,v=y(null);function b(e){var t=e.r,n=e.g,i=e.b,o=e.a,s=r(t/=255,n/=255,i/=255),u=a(t,n,i),l=(s+u)/2,p=s-u;if(s===u)return{h:0,s:0,l:l};var f=void 0;switch(s){case t:f=(n-i)/p+(n<i?6:0);break;case n:f=(i-t)/p+2;break;case i:f=(t-n)/p+4}return{h:f=c(60*f),s:l>.5?p/(2-s-u):p/(s+u),l:l,a:o}}var w=[.96422,1,.82521],T=24389/27,S=216/24389,x=function(e){return e.map(function(e){return[e]})},k=function(e){return e.map(function(e){return e[0]})};function O(e){var t=e.l,r=e.c,a=e.h,c=e.a;t*=100;var u=[];u[1]=(t+16)/116,u[0]=r*o(a*d/180)/500+u[1],u[2]=u[1]-r*i(a*d/180)/200;var l=[s(u[0],3)>S?s(u[0],3):(116*u[0]-16)/T,t>T*S?s((t+16)/116,3):t/T,s(u[2],3)>S?s(u[2],3):(116*u[2]-16)/T].map(function(e,t){return e*w[t]}),p=k(n([[.9555766,-.0230393,.0631636],[-.0282895,1.0099416,.0210077],[.0122982,-.020483,1.3299098]],n([[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],x(l)))).map(function(e){return 255*e}),f=_slicedToArray(p,3);return{r:f[0],g:f[1],b:f[2],a:c}}function j(e){var t=O(e);return[t.r,t.g,t.b].every(function(e){return e>=0&&e<=255})}var A=Object.freeze({TwineScript_TypeID:"colour",TwineScript_TypeName:"a colour",TwineScript_ObjectName:"a colour",TwineScript_DebugName:function(){return"a colour "+this.TwineScript_Print()},"TwineScript_+":function(e){var t=this.toRGBA(),n=e.toRGBA();return A.create({r:Math.min(Math.round(.6*(t.r+n.r)),255),g:Math.min(Math.round(.6*(t.g+n.g)),255),b:Math.min(Math.round(.6*(t.b+n.b)),255),a:(t.a+n.a)/2})},TwineScript_Print:function(){var e=this.toRGBA();return"<tw-colour style='background-color:rgba("+[e.r,e.g,e.b,e.a]+");'></tw-colour>"},TwineScript_is:function(e){if(!A.isPrototypeOf(e))return!1;if(e.lcha&&this.lcha)return e.lcha.l===this.lcha.l&&e.lcha.c===this.lcha.c&&e.lcha.h===this.lcha.h&&e.a===this.a;var t=this.toRGBA();return(e=e.toRGBA()).r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},TwineScript_Clone:function(){return A.create(this)},toRGBAString:function(){var e=this.toRGBA();return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},toHSLA:function(){return b(this.toRGBA())},toRGBA:function(){return this.lch?O(function(e){if(j(e))return e;var t=(e=h({},e)).c,n=0;for(e.c/=2;t-n>1e-5;)j(e)?n=e.c:t=e.c,e.c=(t+n)/2;return e}(h({},this.lch,{a:this.a}))):this},toLCHA:function(){return this.lch?h({},this.lch):(t=(e=this).r,r=e.g,a=e.b,i=e.a,o=k(n([[1.0478112,.0228866,-.050127],[.0295424,.9904844,-.0170491],[-.0092345,.0150436,.7521316]],n([[.4124564,.3575761,.1804375],[.2126729,.7151522,.072175],[.0193339,.119192,.9503041]],x([t/255,r/255,a/255])))).map(function(e,t){return e/w[t]}).map(function(e){return e>S?p(e):(T*e+16)/116}),c=[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])],u=180*l(c[2],c[1])/d,{l:c[0]/100,c:f(s(c[1],2)+s(c[2],2)),h:u>=0?u:u+360,a:i});var e,t,r,a,i,o,c,u},LCHRotate:function(e){e<0&&(e=360+e);var t=this.toLCHA();return t.h=(t.h+e)%360,t.a=this.a,A.create(t)},TwineScript_GetProperty:function(e){if("lch"===e){var t=this.toLCHA();return new Map([["l",t.l],["c",t.c],["h",t.h]])}var n=this.toRGBA();return"h"===e||"s"===e||"l"===e?b(n)[e]:"r"===e||"g"===e||"b"===e||"a"===e?n[e]:void 0},TwineScript_Properties:["h","s","l","r","g","b","a","lch"],TwineScript_ToSource:function(){var e=!this.lch&&b(this);if(e&&!e.h&&!e.s){if(1===e.l)return"white";if(0===e.l)return"black"}return"("+(this.lch?"lch":"hsl")+":"+(this.lch?[this.lch.l,this.lch.c,this.lch.h]:[e.h,e.s,e.l])+(1!==this.a?","+this.a:"")+")"},create:function(t){return"string"==typeof t?this.create((A.isHexString(t)?function(e){return"string"!=typeof e?e:(e=(e=e.replace("#","")).replace(m,"$1$1$2$2$3$3"),{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)})}:function(t){if(t in v)return v[t];var n=e("<p>").css("background-color",t).css("background-color");return n="transparent"===n?{r:0,g:0,b:0,a:0}:n.startsWith("rgb")?n.match(/\d+/g).reduce(function(e,t,n){return e["rgb"[n]]=+t,e},{}):{r:192,g:192,b:192},v[t]=n,n})(t)):!("h"in t&&"s"in t&&"l"in t)||"r"in t||"g"in t||"b"in t?("a"in t&&"number"==typeof t.a||(t.a=1),h(y(this),"h"in t&&"c"in t&&!("s"in t)&&"l"in t?{a:t.a,lch:{l:t.l,c:t.c,h:t.h}}:t)):this.create(function(e){var t=e.h,n=e.s,r=e.l,a=e.a;if(0===n){var i=u(255*r);return{r:i,g:i,b:i}}var o=r<.5?r*(1+n):r+n-r*n,s=2*r-o;function c(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+6*(o-s)*e:e<.5?o:e<2/3?s+(o-s)*(2/3-e)*6:s}return{r:u(255*c((t/=360)+1/3)),g:u(255*c(t)),b:u(255*c(t-1/3)),a:a}}(t))},isHexString:function(e){return"string"==typeof e&&"#"===e[0]&&(e.slice(1).match(m)||e.slice(1).match(g))},isCSS3Function:function(e){return"string"==typeof e&&/^(?:rgb|hsl)a?\(\s*\d+\s*,\s*\d+%?\s*,\s*\d+%?(?:,\s*\d+(?:\.\d+)?\s*)?\)$/.test(e)}});return A}),define("datatypes/gradient",["utils/operationutils"],function(e){var t=e.toSource,n=Object.freeze({TwineScript_TypeID:"gradient",TwineScript_TypeName:"a gradient",TwineScript_ObjectName:"a gradient",TwineScript_DebugName:function(){return"a gradient "+this.TwineScript_Print()},TwineScript_GetProperty:function(e){var t=this;return"angle"===e?this.angle:"stops"===e?this.stops.map(function(e){return new Map([[t.repeating?"pixels":"percent",e.stop],["colour",e.colour.TwineScript_Clone()]])}):void 0},TwineScript_Properties:["angle","stops"],TwineScript_ToSource:function(){return"(gradient:"+this.angle+","+this.stops.map(function(e){return t(e.stop)+","+t(e.colour)})+")"},TwineScript_is:function(e){var t=this;return e.angle===this.angle&&e.stops.length===this.stops.length&&e.stops.every(function(e,n){var r=e.colour,a=e.stop;return t.stops[n].stop===a&&t.stops[n].colour.TwineScript_is(r)})},TwineScript_Clone:function(){return n.create(this.angle,[].concat(_toConsumableArray(this.stops)))},TwineScript_Print:function(){return"<tw-colour style='background:"+this.toLinearGradientString()+"'></tw-colour>"},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.assign(Object.create(this),{angle:e,stops:t.sort(function(e,t){return e.stop-t.stop}),repeating:n})},multiply:function(e){return n.create(this.angle,this.stops.map(function(t){return{colour:t.colour,stop:t.stop*e}}))},toLinearGradientString:function(){var e=this;return(this.repeating?"repeating-":"")+"linear-gradient("+this.angle+"deg, "+this.stops.reduce(function(t,n){var r=n.colour,a=n.stop;return t+r.toRGBAString()+" "+a*(e.repeating?1:100)+(e.repeating?"px,":"%,")},"").slice(0,-1)+")"}});return n}),define("datatypes/datatype",["utils","utils/operationutils","datatypes/changercommand","datatypes/colour","datatypes/gradient","datatypes/lambda","datatypes/custommacro","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s){var c=e.realWhitespace,u=e.anyRealLetter,l=e.anyCasedLetter,p=e.anyNewline,f=t.objectName,d=Object.assign,h=Object.seal,y=Object.keys,m=Math.floor,g=Math.abs,v=void 0,b=void 0,w={TwineScript_TypeID:"datatype",TwineScript_TypeName:"a datatype",TwineScript_Print:function(){return"`["+this.TwineScript_ObjectName+"]`"},get TwineScript_ObjectName(){return"the "+(this.rest?"...":"")+this.name+" datatype"},TwineScript_is:function(e){return w.isPrototypeOf(e)&&e.name===this.name},TwineScript_Clone:function(){return this.rest?this:Object.create(this)},TwineScript_ToSource:function(){return(this.rest?"...":"")+this.name},TwineScript_IsTypeOf:function(e){var t=this.name,n=this.rest;return!!v[t]&&v[t](e,n)},toTypeSignatureObject:function(){var e=this.name,t={pattern:"range",range:v[e],name:"a "+("dm"===e?"datamap":"ds"===e?"dataset":"num"===e?e+"ber":"str"===e?e+"ing":"color"===e?"colour":"bool"===e?e+"ean":"alnum"===e?"alphanumeric character":"int"===e?e+"eger":"even"===e||"odd"===e?e+" number":e.endsWith("case")||"whitespace"===e?e+" character":"empty"===e?e+" value":e)};return this.rest?{pattern:"zero or more",innerType:t}:t},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e="datamap"===e?"dm":"dataset"===e?"ds":"number"===e?"num":"string"===e?"str":"color"===e?"colour":"boolean"===e?"bool":"alphanumeric"===e?"alnum":"integer"===e?"int":"newline"===e?"linebreak":e;var n=Object.create(this);return n.name=e,n.rest=t,n},from:function(e){var t=y(b).find(function(t){return b[t](e)});return t?w.create(t):s.create("datatype",f(e)+" doesn't correspond to a datatype value.")}};return b={array:Array.isArray,dm:function(e){return e instanceof Map},ds:function(e){return e instanceof Set},datatype:function(e){return w.isPrototypeOf(e)},changer:function(e){return n.isPrototypeOf(e)},colour:function(e){return r.isPrototypeOf(e)},gradient:function(e){return a.isPrototypeOf(e)},lambda:function(e){return i.isPrototypeOf(e)},macro:function(e){return o.isPrototypeOf(e)},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e}},v=d({},b,{even:function(e){return!isNaN(e)&&m(g(e))%2==0},odd:function(e){return!isNaN(e)&&m(g(e))%2==1},empty:function(e){return e instanceof Map||e instanceof Set?!e.size:!(!Array.isArray(e)&&"string"!=typeof e)&&!e.length},int:function(e){return"number"==typeof e&&e===(0|e)},uppercase:function(e){return"string"==typeof e&&1===[].concat(_toConsumableArray(e)).length&&[].concat(_toConsumableArray(e)).every(function(e){return e!==e.toLowerCase()})},lowercase:function(e){return"string"==typeof e&&1===[].concat(_toConsumableArray(e)).length&&[].concat(_toConsumableArray(e)).every(function(e){return e!==e.toUpperCase()})},whitespace:function(e){return"string"==typeof e&&!!e.match("^"+c+"$")},digit:function(e){return"string"==typeof e&&!!e.match("^\\d$")},alnum:function(e){return"string"==typeof e&&!!e.match("^"+u+"$")},anycase:function(e){return"string"==typeof e&&!!e.match("^"+l+"$")},linebreak:function(e){return"string"==typeof e&&!!e.match("^"+p+"$")},any:function(){return!0},const:function(){return!0}}),h(w)}),define("datatypes/typedvar",["utils/operationutils","datatypes/datatype","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r){var a=e.typeName,i=e.matches,o=e.toSource,s=e.unstorableValue,c=Object.freeze,u=Object.assign,l=Object.create,p=c({TwineScript_TypeName:"a typed variable name",get TwineScript_ObjectName(){return this.TwineScript_ToSource()},TwineScript_Print:function(){return"`[A typed variable name]`"},TwineScript_Unstorable:!0,TwineScript_Clone:function(){return u(l(p),{datatype:this.datatype.TwineScript_Clone(),varRef:this.varRef})},TwineScript_ToSource:function(){return o(this.datatype)+"-type "+this.varRef.TwineScript_ToSource()},TwineScript_GetProperty:function(e){return"name"===e?this.getName():this[e]},TwineScript_Properties:["datatype","name"],TwineScript_IsTypeOf:function(e){return i(this.datatype,e)},get:function(){var e;return(e=this.varRef).get.apply(e,arguments)},getName:function(){return this.varRef.getName()},defineType:function(){if("any"!==this.datatype.name)return this.varRef.defineType(this.datatype)},create:function(e,t){var n;if(n=r.containsError(t)||r.containsError(e)||t.error)return n;var i=s(e);return i&&!p.isPrototypeOf(i)?r.create("syntax","The -type syntax can't have "+a(i)+" to its left."):u(l(this),{datatype:e,varRef:t})}});return p}),define("macros",["jquery","utils/naturalsort","utils","utils/operationutils","datatypes/changercommand","datatypes/custommacro","datatypes/lambda","datatypes/hookset","datatypes/codehook","datatypes/typedvar","datatypes/datatype","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l,p,f){var d=n.insensitiveName,h=n.nth,y=n.plural,m=n.andList,g=n.lockProperty,v=(r.clone,r.objectName),b=r.typeName,w=r.singleTypeCheck,T=r.toSource,S=void 0,x={};function k(e,n,r){var a=n.fn,i=n.typeSignature,s=n.isChanger,u=void 0!==s&&s,l=r[0];r=function(e){return e.reduce(function(e,n){if(n&&!0===n.spreader){var r=n.value,a=f.containsError(r);if(a)e.push(a);else if(Array.isArray(r)||"string"==typeof r)for(var i=0;i<r.length;i++)e.push(r[i]);else r instanceof Set?e.push.apply(e,_toConsumableArray(Array.from(r).sort(t("en")))):e.push(f.create("operation","I can't spread out "+v(r)+", because it is not a string, dataset, or array."))}else e.push(n);return e},[])}(r.slice(1)),i=[].concat(i||[]);var p=!e,d=p?"":"("+(Array.isArray(e)&&e.length>1?e[0]:e)+":)";e=p?"this custom macro":"the "+d+" macro";var g=void 0;g=i.length>0?e+" must only be given "+m(i.map(b))+(i.length>1?", in that order":"."):e+" must not be given any data."+(p?"":" Just write "+d);for(var T=void 0,x=function(t,n){var a=i[t],s=r[t];if(f.containsError(s))return{v:s};if(c.isPrototypeOf(s)&&u)return{v:f.create("syntax","Please put this hook outside the parentheses of the changer macro, not inside it.","Hooks should appear after a macro"+(p?".":": "+d+"[Some text]"))};if(t>=i.length&&!T)return{v:f.create("datatype",r.length-i.length+" too many values were given to "+e+".",g)};if(a||(a=T),!a.innerType||"rest"!==a.pattern&&"zero or more"!==a.pattern||(T=a.innerType,"rest"===a.pattern&&(a=a.innerType)),!w(s,a)){if(void 0===s){var l=i.filter(function(e){return!("optional"===e.pattern||"zero or more"===e.pattern)}).length;return{v:f.create("datatype",e+" needs "+y(l-t,"more value")+".",g)}}return s&&s.TwineScript_Unstorable&&(a===S.TypeSignature.Any||a.innerType&&a.innerType===S.TypeSignature.Any)?{v:f.create("datatype",e+"'s "+h(t+1)+" value, "+v(s)+", is not valid data for this macro.",g)}:s&&o.isPrototypeOf(s)&&"lambda"===a.pattern?{v:f.create("datatype",e+"'s "+h(t+1)+" value (a lambda) should have "+m(["where","when","making","via","with"].filter(function(e){return a.clauses.includes(e)}).map(function(e){return"a '"+e+"' clause"}))+", not "+m(["where","when","making","via","with"].filter(function(e){return e in s}).map(function(e){return"a '"+e+"' clause"}))+".")}:"insensitive set"===a.pattern?{v:f.create("datatype",v(s)+" is not a valid name string for "+e+".","Only the following names are recognised (capitalisation and hyphens ignored): "+m(a.innerType)+".")}:{v:f.create("datatype",e+"'s "+h(t+1)+" value is "+v(s)+", but should be "+b(a)+".",a.message||g)}}},k=0,O=Math.max(r.length,i.length);k<O;k+=1){var j=x(k);if("object"===(void 0===j?"undefined":_typeof(j)))return j.v}return a.apply(void 0,[l].concat(_toConsumableArray(r)))}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={fn:t,typeSignature:n};r&&(a.isChanger=!0),Object.freeze(a),Array.isArray(e)?e.forEach(function(e){return g(x,d(e),a)}):g(x,d(e),a)}return S={has:function(e){return e=d(e),x.hasOwnProperty(e)},get:function(e){return e=d(e),x.hasOwnProperty(e)&&x[e]},add:function e(t,n,r){return O(t,n,r),e},addChanger:function e(t,n,r,i){return O(t,n,i,!0),a.register(Array.isArray(t)?t[0]:t,r),e},addCommand:function e(t,n,r,a){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return O(t,function(e,t,n,r){return function(a){for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var c=t.apply(void 0,o);if(c)return c;var u=p.create(),l=Object.assign({TwineScript_TypeID:"command",TwineScript_ObjectName:"a ("+e+":) command",TwineScript_TypeName:"a ("+e+":) command",TwineScript_Print:function(){return"`[A ("+e+":) command]`"},TwineScript_ToSource:function(){return"("+e+":"+o.map(T)+")"},TwineScript_is:function(e){return T(this)===T(e)}},r?{TwineScript_Attach:function(e,t){return u.section=e,t.run(u),l},TwineScript_Run:function(e){return n.apply(void 0,[u,e].concat(o))}}:{TwineScript_Run:function(e){return n.apply(void 0,[e].concat(o))}});return l}}([].concat(t)[0],n,r,i),a),e},TypeSignature:{optional:function(e){return{pattern:"optional",innerType:e}},zeroOrMore:function(e){return{pattern:"zero or more",innerType:e}},either:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"either",innerType:t}},rest:function(e){return{pattern:"rest",innerType:e}},insensitiveSet:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"insensitive set",innerType:t}},numberRange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return{pattern:"range",min:e,max:t,range:function(n){return"number"==typeof n&&!Number.isNaN(n)&&n>=e&&n<=t}}},nonNegativeInteger:{pattern:"range",integer:!0,min:0,max:1/0,range:function(e){return"number"==typeof e&&!Number.isNaN(e)&&e>=0&&!(e+"").includes(".")}},positiveInteger:{pattern:"range",integer:!0,min:1,max:1/0,range:function(e){return"number"==typeof e&&!Number.isNaN(e)&&e>=1&&!(e+"").includes(".")}},wrapped:function(e,t){return{pattern:"wrapped",innerType:e,message:t}},Any:{TwineScript_TypeName:"anything"},Everything:{TwineScript_TypeName:"everything"}},run:function(e,t){return S.has(e)?k(e,S.get(e),t):f.create("macrocall","I can't run the macro '"+e+"' because it doesn't exist.","Did you mean to run a macro? If you have a word written like (this:), it is regarded as a macro name.")},runCustom:function(e,t){return i.isPrototypeOf(e)?k("",e,t):f.create("macrocall","I can't call "+v(e)+" because it isn't a custom macro.")}},Object.assign(S.TypeSignature,{positiveNumber:S.TypeSignature.numberRange(Math.pow(2,-52),1/0),nonNegativeNumber:S.TypeSignature.numberRange(0,1/0),percent:S.TypeSignature.numberRange(0,1)}),Object.freeze(S)}),define("datatypes/varbind",["jquery","utils","utils/operationutils","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r,a){var i=n.objectName;return r.on("set",function(n,r){n.TwineScript_VariableStore&&e(t.storyElement).find("[data-2bind]").each(function(t,a){var i=(a=e(a)).data("twoWayBindEvent");"function"==typeof i&&i(a,n,r)})}),Object.freeze({TwineScript_TypeName:"a bound variable",TwineScript_ObjectName:"a bound variable",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return("two way"===this.bind?"2":"")+"bind "+this.varRef.TwineScript_ToSource()},set:function(e){var t,n=this.varRef.set(e);if(t=a.containsError(n))return t},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"one way";return r.isPrototypeOf(e)?e.error?e.error:Object.assign(Object.create(this),{varRef:e,bind:t}):a.create("operation","I can only 'bind' a variable, not "+i(e)+".")}})}),define("datatypes/assignmentrequest",["utils/operationutils","datatypes/typedvar","datatypes/datatype","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r,a){var i=e.objectName,o=e.matches;return Object.freeze({assignmentRequest:!0,TwineScript_TypeName:"a 'to' or 'into' expression",TwineScript_ObjectName:"a 'to' or 'into' expression",TwineScript_Unstorable:!0,set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=void 0,c=[],u=function e(s,c){var u,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=[],f=void 0;if(f=c&&r.isPrototypeOf(c)?c.get():c,u=a.containsError(f))return u;if(Array.isArray(f)&&Array.isArray(s)){for(var d=0,h=0;d<s.length&&h<f.length;){var y=s[d],m=f[h];if(t.isPrototypeOf(y)&&y.datatype.rest||n.isPrototypeOf(y)&&y.rest){for(var g=h;h<f.length&&o(y,m);)m=f[h+=1];t.isPrototypeOf(y)?y.datatype=[y.datatype]:n.isPrototypeOf(y)&&(y=n.create("array")),p=p.concat(e(y,r.isPrototypeOf(c)?r.create(c,{first:g+1,last:h+1}):f.slice(g,h)))}else p=p.concat(e(y,r.isPrototypeOf(c)?r.create(c,h+1):m)),h+=1;d+=1}return d<s.length?l&&a.create("operation","I can't unpack this array because it needs "+(s.length-d)+" more value"+(s.length-d>0?"s":"")+"."):p}if(s instanceof Map&&f instanceof Map){var v=!0,b=!1,w=void 0;try{for(var T,S=s.entries()[Symbol.iterator]();!(v=(T=S.next()).done);v=!0){var x=_slicedToArray(T.value,2),k=x[0],O=x[1];if(!f.has(k))return l&&a.create("operation","I can't unpack this datamap because it needs a '"+k+"' data name.");p=p.concat(e(O,r.isPrototypeOf(c)?r.create(c,k):f.get(k)))}}catch(e){b=!0,w=e}finally{try{!v&&S.return&&S.return()}finally{if(b)throw w}}return p}if(t.isPrototypeOf(s)){if("function"==typeof s.datatype.destructure)return[{dest:s,value:f,src:c}].concat(s.datatype.destructure(f));if(!o(f,s.datatype))return[l&&a.create("operation","I can't unpack "+i(f)+" into "+s.varRef.TwineScript_ToSource()+" because it doesn't match "+i(s.datatype)+".")];p=p.concat(e(s.datatype,f))}return r.isPrototypeOf(s)||t.isPrototypeOf(s)?p.concat({dest:s,value:f,src:c}):"function"==typeof s.destructure?p.concat(s.destructure(f)):o(f,s)?p:l&&a.create("operation","I tried to unpack, but "+i(s)+" in the pattern didn't match "+i(f)+".")}(this.dest,this.src);if(s=a.containsError(u))return s;if(!u.length)return a.create("operation","I can't store a new value inside "+i(this.dest)+" that isn't in a variable.","You need a variable, or a data structure containing variables at certain positions, to store the value.");var l=!0,p=!1,f=void 0;try{for(var d,h=u.reverse()[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value,m=y.dest,g=y.value,v=y.src;if(t.isPrototypeOf(m)){if(s=a.containsError(m.defineType()))return s;m=m.varRef}if(s=m.set(g),a.isPrototypeOf(s))return s;e&&v&&v.delete(),c.shift(i(m)+" is now "+i(g))}}catch(e){p=!0,f=e}finally{try{!l&&h.return&&h.return()}finally{if(p)throw f}}return c.join("; ")},create:function(e,t,n){return Object.assign(Object.create(this),{dest:e,src:t,operator:n})}})}),define("twinescript/operations",["jquery","state","datatypes/assignmentrequest","utils/operationutils","internaltypes/varref","datatypes/typedvar","datatypes/datatype","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s){var c=r.isObject,u=r.collectionType,l=r.is,p=r.isA,f=r.clone,d=r.unique,h=r.contains,y=r.matches,m=r.objectName,g=void 0,v=0;function b(e,t,n,r){return n=n||"do this to",function(a,i){1===t.length&&(i=a);var o;return(o=s.containsError(a,i))?o:(void 0===a?"undefined":_typeof(a))!==e||(void 0===i?"undefined":_typeof(i))!==e?s.create("operation","I can only "+n+" "+e+"s, not "+m((void 0===a?"undefined":_typeof(a))!==e?a:i)+".",r):t(a,i)}}function w(e){return function(t,n){var r;if(r=s.containsError(t,n))return r;if((void 0===t?"undefined":_typeof(t))!==(void 0===n?"undefined":_typeof(n))||c(t)&&"TwineScript_TypeName"in t&&c(n)&&"TwineScript_TypeName"in n&&t.TwineScript_TypeName!==n.TwineScript_TypeName||u(t)!==u(n)){var a=m(t)+" isn't the same type of data as "+m(n);return s.create("operation",a[0].toUpperCase()+a.slice(1))}return e(t,n)}}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function r(a,i){var o=void 0;if(o=s.containsError(a,i))return o;v=a;var c=a.determiner?[a,i]:i.determiner?[i,a]:[],u=_slicedToArray(c,2),l=u[0],p=u[1];if(l){var f=l.determiner;if("start"===f||"end"===f){if(t)return s.create("operation","I can't use '"+t+"' with the 'start' or 'end' of "+m(l)+".");if(p.determiner){if("start"===p.determiner||"end"===p.determiner)return s.create("operation","I can't compare one value's 'start' or 'end' with another value's 'start' or 'end'.","Please change one of them to use an exact range, such as '1stto4th' or '2ndlasttolast'.");var d=[p,l];l=d[0],p=d[1]}for(var h=l.string||l.array,y=0;y<h.length+1;y+=1){var g=y?"end"===f?h.slice(-y):h.slice(0,y):h.constructor(),b=l===a?r(g,i):r(a,g);if(o=s.containsError(b))return o;if(b!==n)return b}return n}var w="all"===f;return l.array.reduce(function(e,t){var n,o=l===a?r(t,i):r(a,t);return(n=s.containsError(e,o))?n:w?e&&o:e||o},w)}return e(a,i)}}function S(e,t){return T(function(t,n){var r=e(t,n);return s.containsError(r)?r:!r},t,!0)}var x="If one of these values is a number, you may want to write a check that it 'is not 0'. Also, if one is a string, you may want to write a check that it 'is not \"\" '.";return g={create:function(n){var r=Object.create(this);return r.Identifiers={TwineScript_Identifiers:!0,get it(){return v},get time(){return n.stackTop&&n.stackTop.evaluateOnly?s.create("operation","'time' can't be used in "+n.stackTop.evaluateOnly+"."):Date.now()-n.timestamp},get visits(){var e=n.stackTop.speculativePassage,r=function(n){return n===(e||t.passage)};return t.pastPassageNames().filter(r).length+t.mockVisits.filter(r).length+(!e||e===t.passage)},get visit(){return r.Identifiers.visits},get exits(){return n.stackTop&&n.stackTop.evaluateOnly?s.create("operation","'exit' and 'exits' can't be used in "+n.stackTop.evaluateOnly+"."):n.dom.find("tw-enchantment, tw-link").filter(function(t,n){return e(n).data("enchantmentEvent")||e(n).parent().data("linkPassageName")||e(n).parent().data("clickEvent")}).length},get exit(){return r.Identifiers.exits},get pos(){return n.stackTop&&!n.stackTop.evaluateOnly&&n.stackTop.lambdaPos?+n.stackTop.lambdaPos||1:s.create("operation","'pos' can only be used in lambdas that aren't 'when' lambdas.")}},r},elidedComparisonOperator:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.reduce(function(n,r){return"boolean"==typeof r?r:g[e](n,g[t](v,r))},"and"===e)},and:b("boolean",w(function(e,t){return e&&t}),"use 'and' to join",x),or:b("boolean",w(function(e,t){return e||t}),"use 'or' to join",x),not:b("boolean",function(e){return!e},"use 'not' to invert",x),"+":w(function(e,t){if(Array.isArray(e))return[].concat(_toConsumableArray(e),_toConsumableArray(t));var n=void 0;return e instanceof Map?(n=new Map(e),t.forEach(function(e,t){return n.set(t,e)}),n):e instanceof Set?new Set([].concat(_toConsumableArray(e),_toConsumableArray(t)).filter(d).map(f)):"function"==typeof e["TwineScript_+"]?e["TwineScript_+"](t):"string|number|boolean".includes(void 0===e?"undefined":_typeof(e))?e+t:s.create("operation","I can't use + on "+m(e)+".")}),"-":w(function(e,t){if(Array.isArray(e))return e.filter(function(e){return!t.some(function(t){return l(e,t)})});if(e instanceof Set){var n=[].concat(_toConsumableArray(t));return new Set([].concat(_toConsumableArray(e)).filter(function(e){return!n.some(function(t){return l(e,t)})}))}return"string"==typeof e?e.split(t).join(""):"number"==typeof e?e-t:s.create("operation","I can't use - on "+m(e)+".")}),"*":b("number",w(function(e,t){return e*t}),"multiply"),"/":b("number",w(function(e,t){return 0===t?s.create("operation","I can't divide "+m(e)+" by zero."):e/t}),"divide"),"%":b("number",w(function(e,t){return 0===t?s.create("operation","I can't modulo "+m(e)+" by zero."):e%t}),"modulus"),"<":T(b("number",w(function(e,t){return e<t}),"do < to"),"<"),">":T(b("number",w(function(e,t){return e>t}),"do > to"),">"),"<=":T(b("number",w(function(e,t){return e<=t}),"do <= to"),"<="),">=":T(b("number",w(function(e,t){return e>=t}),"do >= to"),">="),is:T(l),isNot:S(l),contains:T(h,"contains"),doesNotContain:S(h,"does not contain"),isIn:T(function(e,t){return h(t,e)},"is in"),isNotIn:S(function(e,t){return h(t,e)},"is not in"),isA:T(p,"is a"),isNotA:S(p,"is not a"),typifies:T(function(e,t){return p(t,e)}),untypifies:S(function(e,t){return p(t,e)}),matches:T(y),doesNotMatch:S(y),where:function(e,t,n){var r;return(r=s.containsError(e))?r:"boolean"!=typeof e?s.create("operation","This lambda's 'where' clause must evaluate to true or false, not "+m(e)+"."):e?t:n},makeSpreader:function(e){if(i.isPrototypeOf(e)||o.isPrototypeOf(e)){var t=f(e);return(i.isPrototypeOf(e)?t.datatype:t).rest=!0,t}return{value:e,spreader:!0,TwineScript_TypeName:"a spreaded '...' value",TwineScript_ObjectName:"a spreaded '...' value",TwineScript_Unstorable:!0}},makeAssignmentRequest:function(e,t,r){var a=s.containsError(e,t);return a||n.create(e,t,r)},setIt:function(e){return a.isPrototypeOf(e)||i.isPrototypeOf(e)?(v=e.get(),e):e},initialiseIt:function(e){v=e}},Object.freeze(g)}),define("twinescript/environ",["macros","state","utils","datatypes/colour","datatypes/hookset","datatypes/lambda","datatypes/datatype","datatypes/varbind","datatypes/codehook","datatypes/typedvar","internaltypes/varref","internaltypes/twineerror","twinescript/operations"],function(Macros,State,Utils,Colour,HookSet,Lambda,Datatype,VarBind,CodeHook,TypedVar,VarRef,TwineError,OperationsProto){return function(section){"object"===(void 0===section?"undefined":_typeof(section))&&section||Utils.impossible("TwineScript.environ","no Section argument was given!");var Operations=OperationsProto.create(section);return section.eval=function(){try{return eval(arguments[0])}catch(e){return e}},section}}),define("section",["jquery","utils","renderer","twinescript/environ","twinescript/operations","state","utils/operationutils","utils/renderutils","datatypes/changercommand","datatypes/hookset","datatypes/colour","datatypes/lambda","internaltypes/changedescriptor","internaltypes/varscope","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,a,i,o,s,c,u,l,p,f,d,h,y){var m,g=o.printBuiltinValue,v=o.objectName,b=o.typeID,w=o.isObject,T=s.collapse;function S(e,n,r){if(n&&"object"===(void 0===n?"undefined":_typeof(n))&&c.isPrototypeOf(n)){if(r.data("originalSource",r.popAttr("source")),!this.renderInto(r.data("originalSource"),r,n)){var a=t.insensitiveName(e.attr("name"));if(["if","elseif","unless","else","testfalse"].includes(a)&&(e.addClass("false"),"elseif"!==a&&(this.stackTop.lastHookShown=!1)),r.data("live")){var i=r.data("live"),o=i.delay,s=i.event;(function(e,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;i&&t.assertMustHave(i,["when"]);var o=n.data("originalSource")||"",s=_slicedToArray(this.stack,1)[0].tempVariables,c=this.whenUnblocked.bind(this,function(){if(r.inDOM()){var t=i&&i.filter(r,[!0],s);h.containsError(t)?t.render(e.attr("title")).replaceAll(e):!i||t[0]?(r.renderInto(o,n,{append:"replace"}),t||n.find("tw-expression[name='stop']").length||r.inDOM()&&setTimeout(c,a)):setTimeout(c,a)}});setTimeout(c,a)}).call(this,e,r,o,s)}return}}else{if(!1===n)return r.attr("source")&&(r.data("originalSource",r.popAttr("source")),r.data("hidden",!0)),e.addClass("false"),void(this.stackTop.lastHookShown=!1);!0!==n&&e.replaceWith(h.create("datatype",v(n)+" cannot be attached to this hook.","Only Booleans and changers can be attached to hooks.").render(e.attr("title")))}this.stackTop.lastHookShown=!0}function x(t){var n=(t instanceof e?t[0]:t).nextSibling;if(n&&(n instanceof Text&&!n.textContent.trim()||["br","tw-consecutive-br"].includes((n.tagName||"").toLowerCase()))){var r=x(n),a=r.whitespace,i=r.nextElem;return{whitespace:e(n).add(a),nextElem:i}}return{whitespace:e(),nextElem:e(n)}}var k={add:[],remove:[]};return m={create:function(e){var n=Object.assign(Object.create(this),{timestamp:Date.now(),dom:e||t.storyElement,stack:[],enchantments:[],unblockCallbacks:[]});return n=r(n)},get stackTop(){return this.stack[0]},inDOM:function(){return e(t.storyElement).find(this.dom).length>0},evaluateTwineMarkup:function(t,n){var r=e("<p>");this.stack.unshift({desc:f.create({target:r,source:t,section:this,append:"append"}),tempVariables:this.stackTop.tempVariables,evaluateOnly:n,finalIter:!0}),this.execute();var a;return(a=r.find("tw-error")).length>0?a:r},speculate:function(e,t,n){this.stack.unshift({evaluateOnly:n,finalIter:!0,tempVariables:Object.assign(Object.create(d),{TwineScript_VariableStoreName:n}),speculativePassage:t});var r=void 0;return r=p.isPrototypeOf(e)?e.apply(this,{fail:!1,pass:!0}):this.eval(e),this.stack.shift(),r},renderInto:function(t,n,r){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=f.create({target:n,source:t,section:this,append:"append"});if(r)if(c.isPrototypeOf(r)){var s=r.run(o);if(h.containsError(s))return s.render(n.attr("title")).replaceAll(n),!1}else Object.assign(o,r);if((n=o.target,this.stack.length>=50)&&this.stack.reduce(function(e,t){return e+!!t.finalIter},0)>=50)return h.create("infinite","Printing this expression may have trapped me in an infinite loop.").render(n.attr("title")).replaceAll(n),!1;var u=function(t,r,i){var o=n instanceof e&&n.is("tw-hook")&&n.parents("tw-collapsed,[collapsing=true]").length>0;a.stack.unshift({desc:t,finalIter:i,tempVariables:r,collapses:o,evaluateOnly:a.stackTop&&a.stackTop.evaluateOnly})};if(i||(i=Object.create(this.stack.length?this.stackTop.tempVariables:d)),!i.hasOwnProperty("TwineScript_VariableStoreName")){var l=n&&n.tag();i.TwineScript_VariableStoreName="tw-hook"===l?n.attr("name")?"?"+n.attr("name"):"an unnamed hook":"tw-expression"===l?"a "+n.attr("type")+" expression":"tw-passage"===l?"this passage":"an unknown scope"}return Object.keys(o.loopVars).length?function(){var e=Object.assign({},o.loopVars),t=Math.min.apply(Math,_toConsumableArray(Object.keys(e).map(function(t){return e[t].length})));if(y.create(t+" loop"+(1!==t?"s":"")).render().prependTo(n),t){for(var r=function(n){u(o,Object.keys(e).reduce(function(t,r){return t[r]=e[r][n],t},Object.create(i),n===t-1))},s=t-1;s>=0;s-=1)r(s);for(s=t-1;s>=0&&!a.stackTop.blocked;s-=1)a.execute()}}():(u(o,i,!0),this.execute()),0===this.stack.length&&this.updateEnchantments(),o.enabled},execute:function(){var n=this,r=this.stackTop,i=r.desc,o=r.dom,s=r.collapses,u=r.evaluateOnly;i&&!o&&(o=i.render(),this.stackTop.dom=o,this.stackTop.desc=void 0),o.findAndFilter("tw-hook,tw-expression").each(function(r,i){if(n.stackTop.blocked)return!1;switch((i=e(i)).tag()){case"tw-hook":var o=i.popAttr("source")||"";if(o&&i.data("originalSource",o),i.data("tempVariables",n.stackTop.tempVariables),i.popAttr("hidden")){i.data("hidden",!0);break}o&&n.renderInto(o,i);break;case"tw-expression":if(i.attr("blockers")){if(u)return void i.removeAttr("blockers").removeAttr("js").replaceWith(h.create("syntax","I can't use a macro like (prompt:) or (confirm:) in "+u+".","Please rewrite this without putting such macros here.").render(i.attr("title"),i));var s=[];try{s=JSON.parse(i.popAttr("blockers")),i.data("blockers",s)}catch(e){t.impossible("Section.execute","JSON.parse blockers failed.")}}if(i.data("blockers")){var p=i.data("blockers");if(p.length){n.stackTop.blocked=!0;var d=n.eval(p.shift());return h.containsError(d)&&(n.stackTop.blocked=!1,i.removeData("blockers").replaceWith(d.render(i.attr("title"),i))),!1}i.removeData("blockers")}i.attr("js")&&function(n){var r=this.eval(n.popAttr("js")||"");this.stackTop.evaluateOnly&&r&&(c.isPrototypeOf(r)||"function"==typeof r.TwineScript_Run)&&(r=h.create("syntax","I can't work out what "+this.stackTop.evaluateOnly+" should evaluate to, because it contains a "+(c.isPrototypeOf(r)?"changer.":"command."),"Please rewrite this without putting changers or commands here."));var i=void 0,o=void 0,s=e();for(o=n;c.isPrototypeOf(r);){var u=x(o);if(i=u.whitespace,(o=u.nextElem)[0]instanceof Text&&"+"===o[0].textContent.trim()){var p,d=o,m=x(d);if(p=m.whitespace,(o=m.nextElem).is("tw-expression")){var T=this.eval(o.popAttr("js"));if(h.containsError(T)){r=T;break}var k=a["+"](r,T);e(i).add(d).add(p).remove(),r=h.containsError(k)?h.create("operation","I can't combine "+v(r)+" with "+v(T)+".","function"==typeof T.TwineScript_Run?"If you want to attach this changer to "+v(T)+", remove the + between them.":"Changers can only be added to other changers."):k;continue}}if(o.is("tw-expression")){var O=this.eval(o.popAttr("js"));if(h.containsError(O)){r=O;break}if(O&&"object"===(void 0===O?"undefined":_typeof(O))&&"function"==typeof O.TwineScript_Attach){r=O.TwineScript_Attach(this,r);break}return c.isPrototypeOf(O)?void n.replaceWith(h.create("operation","Changers like ("+r.macroName+":) need to be combined using + between them.","Place the + between the changer macros, or the variables holding them. The + is absent only between a changer and its attached hook or command.").render(n.attr("title"))):void n.replaceWith(h.create("operation",v(O)+" can't have changers like ("+r.macroName+":) attached.","Changers placed just before hooks, links and commands will attempt to attach, but in this case it didn't work.").render(n.attr("title")))}if(o.is("tw-hook")){i.remove(),s=o;break}r.macroName||t.impossible("Section.runExpression","changer has no macroName");var j=n.attr("title")||"("+r.macroName+": ...)";return void n.replaceWith(h.create("syntax","The ("+r.macroName+":) changer should be stored in a variable or attached to a hook.","Macros like this should appear before a hook: "+j+"[Some text]").render(n.attr("title")))}n.attr("return",b(r)),s=s.length?s:x(n).nextElem.filter("tw-hook");var A=void 0;if(A=h.containsError(r))A instanceof Error&&(A=h.fromError(A)),n.replaceWith(A.render(n.attr("title"),n));else if(y.isPrototypeOf(r))n.append(r.render());else if(r&&"function"==typeof r.TwineScript_Run)if(r=r.TwineScript_Run(this),h.containsError(r))n.replaceWith(r.render(n.attr("title")));else if(f.isPrototypeOf(r)){if(r.data&&r.data.live)return void n.replaceWith(h.create("unimplemented","I currently can't attach (live:) or (event:) macros to commands - only hooks.").render(n.attr("title")));r.section=this,r.target=o,this.renderInto("",o,r)}else{if(w(r)&&r.blocked)return this.stackTop.blocked=r.blocked,void n.attr("js","section.blockedValue()");r&&t.impossible("Section.runExpression","TwineScript_Run() returned a non-ChangeDescriptor "+(void 0===r?"undefined":_typeof(r))+': "'+r+'"')}else!s.length&&("string"==typeof r||"number"==typeof r||r instanceof Map||r instanceof Set||Array.isArray(r)||l.isPrototypeOf(r))||r&&"function"==typeof r.TwineScript_Print&&!c.isPrototypeOf(r)?(r=g(r),h.containsError(r)?(r instanceof Error&&(r=h.fromError(r)),n.replaceWith(r.render(n.attr("title")))):"string"!=typeof r?t.impossible("printBuiltinValue() produced a non-string "+(void 0===r?"undefined":_typeof(r))):this.renderInto(r,n)):s.length?S.call(this,n,r,s):c.isPrototypeOf(r)||"boolean"==typeof r||t.impossible("Section.runExpression","The expression evaluated to an unknown value: "+r)}.call(n,i)}}),this.stackTop.blocked||(o.length&&s&&T(o),o.findAndFilter("tw-collapsed,[collapsing=true]").each(function(){T(e(this))}),this.stack.shift())},updateEnchantments:function(){this.enchantments.forEach(function(e){e.disenchant(),e.enchantScope()})},on:function(e,t){return k[e].push(t),this},addEnchantment:function(e){var t=this;this.enchantments.push(e),k.add.forEach(function(n){return n(t,e)})},removeEnchantment:function(e){var t=this,n=this.enchantments.indexOf(e);this.enchantments.splice(n,1),e.disenchant(),k.remove.forEach(function(n){return n(t,e)})},unblock:function(e){for(this.stack.length||t.impossible("Section.unblock","stack is empty"),this.stackTop.blocked=!1,void 0!==e&&(this.stackTop.blockedValues=(this.stackTop.blockedValues||[]).concat(e));this.stack.length&&!this.stackTop.blocked;)this.execute();if(!this.stack.length)for(;this.unblockCallbacks.length>0;){if(this.unblockCallbacks.shift()(),this.stackTop&&this.stackTop.blocked)return}},whenUnblocked:function(e){this.stack.length&&this.stackTop.blocked?this.unblockCallbacks=this.unblockCallbacks.concat(e):e()},blockedValue:function(){var e=this.stackTop;return e||t.impossible("Section.blockedValue","stack is empty"),e.blockedValues&&e.blockedValues.length||t.impossible("Section.blockedValue","blockedValues is missing or empty"),e.blockedValues.shift()}},Object.preventExtensions(m)}),define("engine",["jquery","utils","state","section","passages"],function(e,t,n,r,a){var i,o=t.escape,s=t.impossible,c=t.passageSelector,u=t.transitionOut,l=Object.create(null);function p(e,t){return"<tw-include type="+e+" name='"+o(t.get("name"))+"'>"+t.get("source")+"</tw-include>"}function f(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.assertOnlyHas(o,["stretch","transition"]);var f=a.get(i),d=t.storyElement,h=d.parent(),y=o.stretch,m=o.transition,g=(m=void 0===m?{}:m).depart,v=void 0===g?"instant":g,b=m.arrive,w=void 0===b?"dissolve":b,T=m.departOrigin,S=m.arriveOrigin,x=m.time;h.findAndFilter("tw-enchantment").each(function(t,n){var r=(n=e(n)).data("enchantedProperties");r&&d.css(r.reduce(function(e,t){return e[t]="",e},{})),n[0]===h[0]&&(h=d.unwrap().parent())}),a.hasValid(i)||s("Engine.showPassage","There's no passage with the name \""+i+'"!');var k,O,j,A,C=d.children(c).not(".transition-out, .transition-out *"),E=(f.get("tags")||[]).join(" "),_=(k=e("<tw-passage><tw-sidebar>"),O=k.children("tw-sidebar"),j=e('<tw-icon tabindex=0 alt="Undo" title="Undo">&#8630;</tw-icon>'),A=e('<tw-icon tabindex=0 alt="Redo" title="Redo">&#8631;</tw-icon>'),n.pastLength<=0&&j.css("visibility","hidden"),n.futureLength<=0&&A.css("visibility","hidden"),O.append(j,A),k);"function"==typeof T&&(T=T.call(C)),"function"==typeof S&&(S=S.call(_)),d.detach(),_.appendTo(d).attr({tags:E}),!y&&v&&(u(C,v,x,0,0,0,T),C.css("position","absolute")),d.attr({tags:E});var N=r.create(_),P=f.get("source");P=a.getTagged("header").map(p.bind(0,"header")).join("")+(l.debug?a.getTagged("debug-header").map(p.bind(0,"debug-header")).join(""):"")+P+a.getTagged("footer").map(p.bind(0,"footer")).join("")+(l.debug?a.getTagged("debug-footer").map(p.bind(0,"debug-footer")).join(""):""),n.pastLength<=0&&(l.debug&&(P=a.getTagged("debug-startup").map(p.bind(0,"debug-startup")).join("")+P),P=a.getTagged("startup").map(p.bind(0,"startup")).join("")+P),N.renderInto(P,_,{transition:w,transitionTime:x,transitionOrigin:S}),h.append(d.parents().length?d.parents().last():d),scroll(0,y?_.offset().top-.05*e(window).height():d.offset().top)}return i={goBack:function(e){n.rewind()&&f(n.passage,e)},goForward:function(e){n.fastForward()&&f(n.passage,e)},goToPassage:function(e,t){n.play(e),f(e,t)},toggleFullscreen:function(){var e=document.documentElement;document.fullscreenElement?document.exitFullscreen():document.msFullscreenElement?document.msExitFullscreen():(e.msRequestFullscreen||e.requestFullscreen).call(e)},showPassage:f,options:l},Object.freeze(i)}),define("debugmode/panel",["jquery"],function(e){return Object.freeze({create:function(t){var n=t.className,r=t.rowWrite,a=t.rowCheck,i=t.columnHead,o=t.tabName,s=t.tabUpdate,c=e("<div class='panel panel-"+n+"' hidden><table class='panel-rows'></table></div>"),u=e("<button class='tab tab-"+n+"'>0 "+o+"s</button>");return u.click(function(){u.toggleClass("enabled"),u.parent().siblings(".panel").attr("hidden",""),u.is(".enabled")&&(u.siblings(".tab:not(.tab-"+n+")").removeClass("enabled"),c.removeAttr("hidden"))}),s||(s=function(e){return u.text(e+" "+o+(1!==e?"s":""))}),Object.assign(Object.create(this),{tabName:o,tab:u,panel:c,panelRows:c.find(".panel-rows"),rowWrite:r,rowCheck:a,columnHead:i,tabUpdate:s})},update:function(t,n){var r=this.rowCheck,a=this.rowWrite,i=this.panelRows,o=this.columnHead,s=[],c=i.children();t.forEach(function(t){var n=c.filter(function(n,a){return r(t,e(a))}),o=a(t,n.length&&n);n.length||i.append(o),s.push.apply(s,_toConsumableArray(o.get()))}),c.filter(function(e,t){return!s.includes(t)&&!t.className.includes("panel-head")}).remove(),this.tabUpdate(n),n>0&&!i.find(".panel-head").length?i.prepend(o()):0===n&&i.find(".panel-head").remove()}})}),define("debugmode/mode",["jquery","utils","state","internaltypes/varref","internaltypes/twineerror","utils/operationutils","engine","passages","section","debugmode/panel"],function(e,t,n,r,a,i,o,s,c,u){var l=t.escape,p=t.nth,f=t.storyElement,d=t.debounce,h=i.objectName,y=i.isObject,m=i.toSource;return function(t,i){var g=e(document.documentElement),v=e("<tw-debugger>\n\t\t<div class='panel panel-errors' hidden><table></table></div>\n\t\t<div class='tabs'></div>\n\t\t<label style='user-select:none'>Turns: </label><select class='turns' disabled></select><button class='show-invisibles'>Debug View</button><button class='show-dom'>DOM View</button>\n\t\t<div class='resizer'>\n\t\t</tw-debugger>"),b=v.find(".tabs"),w=v.find(".show-dom"),T=v.find(".show-invisibles"),S=v.find(".turns");v.find(".resizer").mousedown(function(e){if(1!==e.which)return!0;e.stopPropagation();var t=e.pageX,n=v.width();g.on("mousemove.debugger-resizer",function(e){var r=e.pageX;v.width((n+t-r|0)+"px")}).on("mouseup.debugger-resizer",function(){g.off(".debugger-resizer")})}),T.click(function(){g.toggleClass("debug-mode").removeClass("dom-debug-mode"),T.toggleClass("enabled"),w.removeClass("enabled")}),w.click(function(){g.toggleClass("dom-debug-mode").removeClass("debug-mode"),w.toggleClass("enabled"),T.removeClass("enabled")}),n.timelinePassageNames().forEach(function(e,t){S.append("<option value="+t+">"+(t+1)+": "+e+"</option>")}),S.val(n.pastLength),n.pastLength>0&&S.removeAttr("disabled"),S.change(function(e){var t=e.target.value-n.pastLength;0!==t&&(n[t<0?"rewind":"fastForward"](Math.abs(t)),o.showPassage(n.passage))}),n.on("forward",function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.pastLength;a>=1&&S.removeAttr("disabled"),r?(S.find("[selected]").removeAttr("selected"),S.val(a)):(S.children().each(function(t,n){t>=a&&e(n).remove()}),S.append("<option value="+a+">"+(a+1)+": "+t+"</option>").val(a))}).on("back",function(){n.pastLength<=1&&S.attr("disabled"),S.find("[selected]").removeAttr("selected"),S.val(n.pastLength)}).on("load",function(e){S.empty(),S[e.length<=1?"attr":"removeAttr"]("disabled"),e.forEach(function(e,t){return S.append("<option value="+t+">"+(t+1)+": "+e.passage+"</option>")})});var x=new Set,k=u.create({className:"variables",tabName:"Variable",rowWrite:function(t,n){var r=t.name,a=t.dataset,i=t.path,o=t.value,s=t.tempScope,c=t.type,u=o&&o.length>48&&!o.TwineScript_DebugName,p=y(o)&&o.TwineScript_DebugName?o.TwineScript_DebugName():l(h(o).slice(0,48)+(u?"\u2026":"")),f="";i.length&&(f=i.reduce(function(e,t){return e+t+"'s "},"")),a&&(r="???");var d=c?m(c):"",g="object"===(void 0===o?"undefined":_typeof(o))||u;return n?(n.find(".variable-type").html(d?d+"-type ":""),f&&n.find(".variable-path").html((s?"_":"$")+l(f)),n.find(".variable-name").html((f?"":s?"_":"$")+l(r+"")),n.find(".temporary-variable-scope").html(s||""),n.find(".variable-value").html(p),n.find("tw-folddown")[g?"show":"hide"](),n.next(".panel-row-source td").html(g?l(m(o)):""),n.add(n.next(".panel-row-source"))):e('<div class="variable-row">').attr("data-name",r).attr("data-path",i+"").attr("data-scope",s||"").css("padding-left",Math.min(5,i.length)+"em").append("<td class='variable-type'>"+(d?d+"-type ":"")+"</td>","<td class='variable-name'>"+(f?"<span class='variable-path'>"+(s?"_":"$")+l(f)+"</span> ":"")+(f?"":s?"_":"$")+l(r+"")+"</td>","<td class='temporary-variable-scope'>"+(s||"")+"</td>","<td class='variable-value'>"+p+"</td><td class='panel-row-buttons'><tw-folddown tabindex=0 style='display:"+(g?"visible":"none")+"'>(source:) </tw-folddown></td>").add("<tr class='variable-row panel-row-source' style='display:none'><td colspan='5'>"+(g?l(m(o)):"")+"</td></tr>")},rowCheck:function(e,t){var n=e.name,r=e.path,a=e.tempScope;return t.attr("data-name")===n&&t.attr("data-path")===r+""&&t.attr("data-scope")===a},columnHead:function(){return'<tr class="panel-head"><th>Type</th><th>Name</th><th>Scope</th><th>Value</th></tr>'}}),O=d(function(){var e=[],t=n.variables,r=e.length;function a(t){if(!(e.length>500)){e.push(t);var n=t.path.concat(t.name),r=t.value,i=t.tempScope;Array.isArray(r)?r.forEach(function(e,t){return a({name:p(t+1),path:n,value:e,tempScope:i})}):r instanceof Map?[].concat(_toConsumableArray(r)).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],o=t[1];return a({name:r,path:n,value:o,tempScope:i})}):r instanceof Set&&[].concat(_toConsumableArray(r)).forEach(function(e,t){return a({name:t,dataset:!0,path:n,value:e,tempScope:i})})}}for(var i in t)i.startsWith("TwineScript")||(r+=1,a({name:i,path:[],value:t[i],tempScope:"",type:t.TwineScript_TypeDefs&&t.TwineScript_TypeDefs[i]}));e.push.apply(e,_toConsumableArray(x)),r+=x.size,k.update(e,r),k.panel[(r?"remove":"add")+"Class"]("panel-variables-empty")}),j=void 0;r.on("set",function(e,t,r){if(e!==n.variables&&e.TwineScript_VariableStoreName&&!e.TwineScript_VariableStoreName.match(/#\d+$/)){var a=e.TwineScript_VariableStoreName,i=e.TwineScript_TypeDefs&&e.TwineScript_TypeDefs[t],o=[].concat(_toConsumableArray(x)).find(function(e){return e.name===t&&e.tempScope===a});o?o.value=r:x.add({name:t,path:[],value:r,tempScope:a,type:i})}O(),j()}).on("delete",function(){O(),j()}),k.panel.append("<div class='panel-variables-bottom'>\n\t\t\t<button class='panel-variables-copy'>Copy $ variables as (set:) call</button>\n\t\t\t<input class='clipboard' type=\"text\" style='opacity:0;pointer-events:none;position:absolute;'></input>\n\t\t</div>").removeAttr("hidden"),k.tab.addClass("enabled");var A=k.panel.find(".clipboard");g.on("click",".panel-variables-copy",function(){var e=[];for(var t in n.variables)t.startsWith("TwineScript")||e.push("$"+t+" to "+m(n.variables[t]));A.val("(set:"+e+")")[0].select(),document.execCommand("copy")});var C=u.create({className:"enchantments",tabName:"Enchantment",rowWrite:function(t,n){var r=t.scope,a=t.changer,i=t.name,o=t.localHook,s=void 0;return s=a?l(h(a)):"<em>enchanted via ("+i+":)</em>",n||e('<div class="enchantment-row">').data("enchantment",t).append("<td><span class='enchantment-name'>"+m(r)+(o?"</span><span class=enchantment-local>"+("function"==typeof o.TwineScript_ToSource?o.TwineScript_ToSource():o.attr("name")?"?"+o.attr("name"):"an unnamed hook"):"")+"</span></td><td class='enchantment-value'>"+s+"</td>"+(a?"<td class='panel-row-buttons'><tw-folddown tabindex=0>(source:)</tw-folddown></td>":"")).add(a?"<tr class='panel-row-source' style='display:none'><td colspan='3'>"+l(m(a))+"</td></tr>":"")},rowCheck:function(e,t){return t.data("enchantment")===e},columnHead:function(){return'<tr class="panel-head"><th>Scope</th><th>Value</th></div>'}}),E=d(function(e){C.update(e.enchantments,e.enchantments.length)});c.on("add",E).on("remove",E);var _=c.create(f),N=u.create({className:"storylets",tabName:"Storylet",rowWrite:function(t,n){var r=t.name,a=t.active,i=t.storyletSource,o=t.exclusive,s=t.urgent;return n?(n[(a?"remove":"add")+"Class"]("storylet-closed"),n):e('<tr class="storylet-row '+(a?"":"storylet-closed")+'">').attr("data-name",r).append("<td class='storylet-name'>"+r+"</td><td class='storylet-lambda'>"+i+"</td><td class='storylet-exclusive'>"+o+"</td><td class='storylet-urgent'>"+s+"</td>")},rowCheck:function(e,t){var n=e.name;return t.attr("data-name")===l(n+"")},columnHead:function(){return"<tr class=\"panel-head\"><th>Name</th><th>Condition</th><th class='storylet-exclusive'>Exclusivity</th><th class='storylet-urgent'>Urgency</th></tr>"}});N.tab.hide(),j=d(function(){var e=s.getStorylets(_),t=a.containsError(e),n=s.allStorylets();N.update(n.map(function(n){return{name:n.get("name"),storyletSource:n.get("storylet").TwineScript_ToSource(),active:!t&&e.some(function(e){return e.get("name")===n.get("name")}),exclusive:"number"==typeof n.get("exclusivity")?n.get("exclusivity"):0,urgent:"number"==typeof n.get("urgency")?n.get("urgency"):0}}),t?0:e.length),N.panel[(t?"add":"remove")+"Class"]("storylet-error");var r=n.some(function(e){return e.get("exclusivity")&&"number"==typeof e.get("exclusivity")}),i=n.some(function(e){return e.get("urgency")&&"number"==typeof e.get("urgency")});N.panel[(r?"add":"remove")+"Class"]("panel-exclusive"),N.panel[(i?"add":"remove")+"Class"]("panel-urgent"),n.length&&N.tab.show()});var P=u.create({className:"source",tabName:"Source",rowWrite:e.noop,rowCheck:e.noop,tabUpdate:e.noop,columnHead:e.noop});P.tab.text("Source");var I=u.create({className:"errors",tabName:"Error",rowWrite:e.noop,rowCheck:e.noop,columnHead:e.noop,tabUpdate:function(e){return I.tab.css({background:e?"rgba(230,101,204,0.3)":""}).text(e+" Error"+(1!==e?"s":""))}}),M=function(t,r){if("propagated"!==t.type){I.panelRows.children().length>500&&I.panelRows.children(":first-child").remove();var a=e('<tr class="error-row"><td class="error-passage">'+n.passage+'</td><td class="error-message">'+t.message+"</td></tr>");a.find(".error-message").attr("title",r),I.panelRows.append(a),I.tabUpdate(I.panelRows.children().length)}};function D(){if(x=new Set,O(),j(),C.panelRows.empty(),C.tabUpdate(0),n.passage){var e=s.get(n.passage);e&&P.panelRows.text(e.get("source"))}}a.on("error",M),v.prepend(k.panel,C.panel,I.panel,N.panel,P.panel),b.prepend(k.tab,C.tab,I.tab,N.tab,P.tab),n.on("forward",D).on("back",D).on("load",D),t&&(M(t,i),D()),e(document.body).append(v)}}),define("macrolib/values",["macros","utils","utils/operationutils","datatypes/colour","datatypes/gradient","datatypes/datatype","datatypes/hookset","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s){var c=t.realWhitespace,u=t.nth,l=t.anyRealLetter,p=n.subset,f=n.objectName,d=n.clone,h=n.toSource,y=e.TypeSignature,m=y.rest,g=y.zeroOrMore,v=y.either,b=y.optional,w=y.insensitiveSet,T=y.numberRange,S=y.percent,x=y.nonNegativeInteger,k=y.positiveInteger,O=y.Any,j=Math.max,A=Math.min,C=Math.round,E=Math.floor,_=Math.ceil;function N(e){return function(){var t=e.apply(void 0,arguments);return"number"!=typeof t||isNaN(t)?s.create("macrocall","This mathematical expression doesn't compute!"):t}}e.add(["str","string","text"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.join("")},[g(e.TypeSignature.either(String,Number,Boolean,Array))])("source",function(e,t){return t&&"command"===t.TwineScript_TypeID&&!t.TwineScript_ToSource?s.create("datatype","I can't construct the source code of a command created by a custom macro."):h(t)},[O])("substring",function(e,t,n,r){return p(t,n,r)},[String,parseInt,parseInt])("lowercase",function(e,t){return t.toLowerCase()},[String])("uppercase",function(e,t){return t.toUpperCase()},[String])("lowerfirst",function(e,t){return t.replace(RegExp(l+"+"),function(e){return(e=Array.from(e))[0].toLowerCase()+e.slice(1).join("").toLowerCase()})},[String])("upperfirst",function(e,t){return t.replace(RegExp(l+"+"),function(e){return(e=Array.from(e))[0].toUpperCase()+e.slice(1).join("").toLowerCase()})},[String])("words",function(e,t){return t.split(RegExp(c+"+")).filter(Boolean)},[String])(["str-repeated","string-repeated"],function(e,t,n){return 0===n.length?s.create("macrocall","I can't repeat an empty string."):n.repeat(t)},[x,String])(["str-reversed","string-reversed"],function(e,t){return[].concat(_toConsumableArray(t)).reverse().join("")},[String])("joined",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.join(t)},[m(String)])("plural",function(e,t,n,r){return n&&""!==r?t+" "+(1!==Math.abs(t)?r||n+"s":n):s.create("macrocall","The (plural:) macro can't be given empty strings.")},[parseInt,String,b(String)])(["str-nth","string-nth"],function(e,t){return u(t)},[parseInt])(["num","number"],function(e,t){return Number.isNaN(+t)?s.create("macrocall","I couldn't convert "+f(t)+" to a number."):+t},[String])("datatype",function(e,t){return i.from(t)},[O])("datapattern",function(e,t){return function e(t){var n,r=void 0;return Array.isArray(t)?r=t.map(e):t instanceof Map?(r=new Map,[].concat(_toConsumableArray(t)).forEach(function(t){var n=_slicedToArray(t,2),a=n[0],i=n[1];return r.set(a,e(i))})):r=i.from(t),(n=s.containsError(r))?n:r}(t)},[O])(["rgb","rgba"],function(e){return r.create({r:arguments.length<=1?void 0:arguments[1],g:arguments.length<=2?void 0:arguments[2],b:arguments.length<=3?void 0:arguments[3],a:arguments.length<=4?void 0:arguments[4]})},[T(0,255),T(0,255),T(0,255),b(S)])(["hsl","hsla"],function(e,t,n,a,i){return(t=C(t)%360)<0&&(t+=360),r.create({h:t,s:n,l:a,a:i})},[Number,S,S,b(S)])(["lch","lcha"],function(e,t,n,a,i){return(a=C(a)%360)<0&&(a+=360),r.create({l:t,c:n,h:a,a:i})},[S,T(0,132),Number,b(S)])("complement",function(e,t){return t.LCHRotate(180)},[r])("palette",function(e,t,n){var a=n.toLCHA(),i=a.l,o={l:i<=.75?.75+i/3:.75-3*(1-i),c:80,h:a.h,a:1},s=void 0,c=void 0,u=void 0;return s=r.create(o),o.l+=i<=.75?-.1:.1,o.l<.5&&(o.l*=.5/o.l),c=r.create(o),o.l+=i<=.85?.15:-.15,u=r.create(o),"adjacent"===t?(c=(s=s.LCHRotate(-30)).LCHRotate(30),u=s.LCHRotate(60)):"triad"===t&&(u=s.LCHRotate(180),c=s.LCHRotate(140),s=s.LCHRotate(-140)),[n,s,c,u]},[w("mono","adjacent","triad"),r])("gradient",function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if((t=C(t)%360)<0&&(t+=360),i.length<4)return s.create("datatype","(gradient:) must be given at least 2 colour-stop pairs of numbers and colours.");var c=void 0,u=[],l=i.reduce(function(e,t){if(s.containsError(e))return e;if(void 0===c)c=t;else{if("number"!=typeof c||!r.isPrototypeOf(t))return s.create("datatype","(gradient:) colour-stops should be pairs of numbers and colours, not colours and numbers.");u.push({stop:c,colour:d(t)}),c=void 0}return e},!0);return s.containsError(l)?l:void 0!==c?s.create("macrocall","This gradient has a colour-stop percent without a colour."):a.create(t,u)},[Number,m(v(S,r))])("stripes",function(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];(t=C(t)%360)<0&&(t+=360);var s=0,c=[];return i.forEach(function(e){c.push({stop:s,colour:d(e)}),s+=n,c.push({stop:s,colour:d(e)})}),a.create(t,c,!0)},[Number,k,r,m(r)])("hooks-named",function(e,t){return t?o.create({type:"name",data:t}):s.create("datatype","(hooks-named:) can't be given an empty string.")},[String])("cond",function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=2){var n=arguments.length<=t+1?void 0:arguments[t+1];if(t===(arguments.length<=1?0:arguments.length-1)-1||s.containsError(n))return n;if("boolean"!=typeof n)return s.create("datatype","(cond:)'s "+u(t+1)+" value is "+f(n)+", but should be a boolean.");if(n)return arguments.length<=t+1+1?void 0:arguments[t+1+1]}return s.create("macrocall","An odd number of values must be given to (cond:), not "+(arguments.length<=1?0:arguments.length-1),"(cond:) must be given one or more pairs of booleans and values, as well as one final value.")},[Boolean,O,m(O)]),{weekday:[function(){return["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur"][(new Date).getDay()]+"day"},null],monthday:[function(){return(new Date).getDate()},null],currenttime:[function(){var e=new Date,t=e.getHours()<12;return(e.getHours()%12||12)+":"+((e.getMinutes()<10?"0":"")+e.getMinutes())+" "+(t?"A":"P")+"M"},null],currentdate:[function(){return(new Date).toDateString()},null],min:[A,m(Number)],max:[j,m(Number)],abs:[Math.abs,Number],sign:[Math.sign,Number],sin:[Math.sin,Number],cos:[Math.cos,Number],tan:[Math.tan,Number],floor:[E,Number],round:[C,Number],trunc:[function(e){return e>0?E(e):_(e)},Number],ceil:[_,Number],pow:[N(Math.pow),[Number,Number]],exp:[Math.exp,Number],sqrt:[N(Math.sqrt),Number],log:[N(Math.log),Number],log10:[N(Math.log10),Number],log2:[N(Math.log2),Number],random:[function(e,t){var n=void 0,r=void 0;return t?(n=A(e,t),r=j(e,t)):(n=0,r=e),r+=1,~~(Math.random()*(r-n))+n},[parseInt,e.TypeSignature.optional(parseInt)]],either:[function(){var e;return e=~~(Math.random()*arguments.length),arguments.length<=e?void 0:arguments[e]},m(O)],nth:[function(e){var t;return e<=0?s.create("datatype","(nth:)'s first value should be a positive whole number, not "+e):(t=(e-1)%(arguments.length<=1?0:arguments.length-1)+1,arguments.length<=t?void 0:arguments[t])},[parseInt,m(O)]],"":function(){var t=this;Object.keys(this).forEach(function(n){if(n){var r=t[n][0],a=t[n][1];e.add(n,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r.apply(void 0,n)},a)}})}}[""]()}),define("macrolib/commands",["jquery","macros","utils","state","passages","renderer","engine","internaltypes/twineerror","internaltypes/twinenotifier","datatypes/assignmentrequest","datatypes/hookset","datatypes/codehook","datatypes/lambda","datatypes/colour","datatypes/gradient","internaltypes/varref","datatypes/typedvar","datatypes/varbind","utils/operationutils","utils/renderutils"],function(e,t,n,r,a,i,o,s,c,u,l,p,f,d,h,y,m,g,v,b){var w=v.printBuiltinValue,T=v.objectName,S=v.clone,x=v.toSource,k=b.dialog,O=b.geomParse,j=b.geomStringRegExp,A=t.TypeSignature,C=A.Any,E=A.Everything,_=A.rest,N=A.either,P=A.optional,I=A.zeroOrMore,M=A.positiveInteger,D=A.positiveNumber,R=Object.assign,L=Math.floor,F=Math.ceil,q=Math.abs,V=Math.max,H=Math.min,z=e.noop;function W(e){return"("+e+" "+o.options.ifid+") "}["set","put","unpack"].forEach(function(e){return t.add(e,function(t){for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n+=1){var r=arguments.length<=n+1?void 0:arguments[n+1];if("into"===r.operator&&"set"===e)return s.create("macrocall","Please say 'to' when using the (set:) macro.");if("to"===r.operator&&"set"!==e)return s.create("macrocall","Please say 'into' when using the (put:) or (unpack:) macro.");if((y.isPrototypeOf(r.dest)||m.isPrototypeOf(r.dest))===("unpack"===e))return s.create("macrocall","unpack"===e?"Please use the (unpack:) macro with arrays, datamaps or (p:) patterns containing variables to the right of 'into'.":"Please use the ("+e+":) macro with just single variables and typed variables to the "+("set"===e?"left of 'to'.":"right of 'into'."));var a=r.set();if(s.containsError(a))return a}return{TwineScript_TypeID:"instant",TwineScript_TypeName:"a ("+e+":) operation",TwineScript_ObjectName:"a ("+e+":) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return o.options.debug,""}}},[_(u)])}),t.add("move",function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];if("into"!==n.operator)return s.create("macrocall","Please say 'into' when using the (move:) macro.");var r=n.set(!0);if(s.containsError(r))return r}return{TwineScript_TypeID:"instant",TwineScript_TypeName:"a (move:) operation",TwineScript_ObjectName:"a (move:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return o.options.debug,""}}},[_(u)]),t.addCommand("display",function(e){if(!a.hasValid(e))return s.create("macrocall","I can't (display:) the passage '"+e+"' because it doesn't exist.")},function(e,t,r){return R(e,{source:n.unescape(a.get(r).get("source"))})},[String])("print",z,function(e,t,n){return R(e,{source:w(n)})},[C])(["verbatim-print","v6m-print"],z,function(e,t,n){return R(e,{verbatim:!0,source:w(n)})},[C])(["verbatim-source","v6m-source"],function(e){if(e&&"command"===e.TwineScript_TypeID&&!e.TwineScript_ToSource)return s.create("datatype","I can't construct the source code of a command created by a custom macro.")},function(e,t,n){return R(e,{verbatim:!0,source:w(x(n))})},[C])("go-to",function(e){if(!a.hasValid(e))return s.create("macrocall","I can't (go-to:) the passage '"+e+"' because it doesn't exist.")},function(e,t,n){return requestAnimationFrame(function(){return o.goToPassage(n,{transition:e.data.passageT8n})}),{blocked:!0}},[String])("undo",z,function(e){return r.pastLength<1?s.create("macrocall","I can't (undo:) on the first turn."):(requestAnimationFrame(function(){return o.goBack({transition:e.data.passageT8n})}),{blocked:!0})},[]),n.onStartup(function(){return e(n.storyElement).on("click.icon","tw-icon",function(t){var n=e(this),a=n.data("clickEvent"),i=n.attr("alt");a&&a(n),"Undo"===i&&(t.stopPropagation(),o.goBack()),"Redo"===i&&(t.stopPropagation(),o.goForward()),"Fullscreen"===i&&(t.stopPropagation(),o.toggleFullscreen()),"Restart"===i&&(r.hasSessionStorage&&sessionStorage.removeItem("Saved Session"),window.location.reload())})}),[["Undo","&#8630;",function(){return r.pastLength>0}],["Redo","&#8631;",function(){return r.futureLength>0}],["Fullscreen","&#9974;",function(){return document.fullscreenEnabled||document.msFullscreenEnabled}],["Restart","&#10226;",Object]].forEach(function(e){var n=_slicedToArray(e,3),r=n[0],a=n[1],i=n[2];t.addCommand("icon-"+r.toLowerCase(),function(e,t){if("string"==typeof e&&"string"==typeof t){var n=[].concat(_toConsumableArray(e)).length,a=[].concat(_toConsumableArray(t)).length;if(n>1&&a>1)return s.create("datatype","One of the two strings given to (icon-"+r.toLowerCase()+":) should be 1 character long, for its icon.");if(1===n&&1===a)return s.create("datatype","One of the two strings given to (icon-"+r.toLowerCase()+":) should be 2 or more characters long, for its label.")}},function(e,t,n,o){if("string"==typeof o&&1===[].concat(_toConsumableArray(o)).length||"string"==typeof n&&[].concat(_toConsumableArray(n)).length>1){var s=[o,n];n=s[0],o=s[1]}return R(e,{source:'<tw-icon tabindex=0 alt="'+r+'" '+(o?'data-label="'+o.replace('"',"&quot;")+'"':"")+' title="'+r+'" '+(i()?"":'style="visibility:hidden"')+">"+(n||a)+"</tw-icon>"})},[P(String),P(String)])}),t.addCommand("icon-counter",function(e,t,n){var r=" label string given to (icon-counter:) can't be empty or only whitespace.";return t&&t.trim()?"string"!=typeof n||n.trim()?void 0:s.create("datatype","The 2nd "+r):s.create("datatype","The 1st "+r)},function(e,t,r,a,i){e.attr.push({"data-2bind":!0}),e.data.twoWayBindEvent=function(t,n,o){if(r.varRef.matches(n,o)){var s=r.varRef.get();if("number"==typeof s)e.target.children("tw-icon").text(s>0?L(s):F(s)).attr("data-label",1!==q(s)&&void 0!==i?i:a)}};var o=r.varRef.get();return"number"!=typeof o?s.create("datatype","(icon-counter:) can only be bound to a variable holding a number, not "+T(o)+"."):R(e,{source:'<tw-icon data-label="'+n.escape(1!==q(o)&&void 0!==i?i:a)+'">'+(o>0?L(o):F(o))+"</tw-icon>"})},[g,String,P(String)]),t.addCommand("meter",function(e,t,n,r){return"string"!=typeof r||r.trim()?-1===n.search(j)||!n.includes("=")&&n.length>1?s.create("datatype",'The (meter:) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not '+JSON.stringify(n)+"."):void 0:s.create("datatype","The label string given to (meter:) can't be empty or only whitespace.")},function(e,t,n,r,a,i,o){i&&"string"!=typeof i&&(o=i,i=void 0),o||(o=d.create({h:0,s:0,l:.5,a:.5})),d.isPrototypeOf(o)&&(o=h.create(90,[{colour:o,stop:0},{colour:o,stop:1}]));var c=O(a),u=c.marginLeft,l=c.size,p=u>0&&Math.ceil(u+l)<100,f=function(e){var t=V(0,H(1,e/r)),n=o.repeating?o:o.multiply(r/e);return"height:100%;background-repeat:no-repeat;background-image:"+(p?R(n,n.repeating?{}:{angle:270}).toLinearGradientString()+", ":"")+R(n,n.repeating?{}:{angle:p||0===u?90:270}).toLinearGradientString()+";background-size:"+(p?Array(2).fill(50*t+"%"):100*t+"%")+";background-position-x:"+(p?-100/(2-t)+100+"%,"+100/(2-t)+"%":0===u?"left":"right")+";text-align:"+(p?"center":0===u?"left":"right")};e.styles.push({"margin-left":u+"%",width:l+"%",height:"1.5em",display:"block"}),e.attr.push({"data-2bind":!0});var y=i&&t.stackTop.tempVariables;e.data.twoWayBindEvent=function(t,r,a){if(n.varRef.matches(r,a)){var o=n.varRef.get();if("number"==typeof o){var s=e.target.children("tw-meter");s.attr("style",f(o)),i&&e.section.renderInto("",null,{source:i,target:s,append:"replace",transitionDeferred:!1},y)}}};var m=n.varRef.get();return"number"!=typeof m?s.create("datatype","(meter:) can only be bound to a variable holding a number, not "+T(m)+"."):R(e,{source:'<tw-meter style="'+f(m)+'">'+(i||"")+"</tw-meter>"})},[g,D,String,P(N(String,d,h)),P(N(d,h))]),[["cycling-link"],["seq-link","sequence-link"]].forEach(function(e,n){return t.addCommand(e,function(){return""===(arguments.length<=0?void 0:arguments[0])?s.create("datatype","The first string in a ("+e[0]+":) can't be empty."):arguments.length<=(g.isPrototypeOf(arguments.length<=0?void 0:arguments[0])?2:1)?s.create("datatype","I need two or more strings to "+(n?"sequence":"cycle")+" through, not just '"+(t=arguments.length-1,arguments.length<=t?void 0:arguments[t])+"'."):void 0;var t},function(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];var o=void 0;g.isPrototypeOf(a[0])&&(o=a.shift());var c=0;if(o&&"two way"===o.bind){e.attr.push({"data-2bind":!0});var u=a.indexOf(o.varRef.get());u>-1&&(c=u)}var l=t.stackTop.tempVariables;function p(t,r){var i=c>=a.length-1&&n,u=""===a[c]?"":i?a[c]:"<tw-link>"+a[c]+"</tw-link>";if(i&&(e.data.clickEvent=void 0),o&&!r){var p=o.set(a[c]);if(s.containsError(p))return void t.replaceWith(p.render(a[c]))}var f=R({},e,{source:u,transitionDeferred:!1});e.section.renderInto("",null,f,l)}a[c]&&(e.data.clickEvent=function(e){c=(c+1)%a.length,p(e,!1)})&&(e.data.twoWayBindEvent=function(e,t,n){if(o.varRef.matches(t,n)){var r=o.varRef.get(),i=a.indexOf(r);i>-1&&i!==c&&(c=i,p(e,!0))}});var f="<tw-link>"+a[c]+"</tw-link>";if(o){var d=o.set(a[c]);if(s.containsError(d))return d}return R(e,{source:f,append:"replace",transitionDeferred:!0})},[N(g,String),_(String)])}),n.onStartup(function(){return e(n.storyElement).on("change.dropdown-macro","select",function(){var t=e(this),n=t.closest("tw-expression, tw-hook").data("dropdownEvent");n&&n(t)})}),t.addCommand("dropdown",function(e){var t;return""===(arguments.length<=1?void 0:arguments[1])||""===(t=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=t?void 0:arguments[t])?s.create("datatype","The first or last strings in a (dropdown:) can't be empty.","Because empty strings create separators within (dropdown:)s, having them at the start or end doesn't make sense."):(arguments.length<=1?0:arguments.length-1)<=1?s.create("datatype","I need two or more strings to create a (dropdown:) menu, not just "+(arguments.length<=1?0:arguments.length-1)+"."):void 0},function(t,r,a){for(var i=arguments.length,o=Array(i>3?i-3:0),c=3;c<i;c++)o[c-3]=arguments[c];var u=0;if("two way"===a.bind){t.attr.push({"data-2bind":!0});var l=o.indexOf(a.varRef.get());l>-1&&(u=l)}var p=Math.max.apply(Math,_toConsumableArray(o.map(function(e){return[].concat(_toConsumableArray(e)).length}))),f="<select>"+o.map(function(e,t){return"<option"+(t===u?" selected":"")+(""===e?" disabled":"")+">"+n.escape(e||"\u2500".repeat(p))+"</option>"}).join("\n")+"</select>";t.data.dropdownEvent=function(e){var t=e.val(),n=a.set(t);s.containsError(n)&&e.replaceWith(n.render(t))},t.data.twoWayBindEvent=function(e,t,n){if(a.varRef.matches(t,n)){var r=a.varRef.get(),i=o.indexOf(r);i>-1&&i!==u&&(e.find("select").val(r),u=i)}},t.styles.push({"background-color":function(){return n.parentColours(e(this)).backgroundColour}});var d=a.set(o[u]);return s.containsError(d)?d:R(t,{source:f,append:"replace"})},[g,String,_(String)]),n.onStartup(function(){return e(n.storyElement).on("input.checkbox-macro","input[type=checkbox]",function(){var t=e(this),n=t.closest("tw-expression").data("checkboxEvent");n&&n(t)})});var $=1;t.addCommand("checkbox",function(){},function(e,t,n,r){var a=!1,i="checkbox-"+ ++$;if("two way"===n.bind){e.attr.push({"data-2bind":!0});var o=n.varRef.get();"boolean"==typeof o&&(a=o),e.data.twoWayBindEvent=function(e,t,r){if(n.varRef.matches(t,r)){var a=n.varRef.get();"boolean"==typeof a&&e.children("input[type=checkbox]").prop("checked",a)}}}return e.data.checkboxEvent=function(e){var t=e.is(":checked"),r=n.set(t);s.containsError(r)&&e.replaceWith(r.render(""))},R(e,{source:'<input id="'+i+'" type="checkbox" '+(a?"checked":"")+'><label for="'+i+'">'+r+"</label>",append:"replace"})},[g,String]),n.onStartup(function(){return e(document).on("fullscreenchange",function(){e("input[type=checkbox][id^=fullscreen]",n.storyElement).each(function(t,n){(e(n).closest("tw-expression").data("fullscreenEvent")||Object)(n)})})}),t.addCommand("checkbox-fullscreen",function(){},function(t,n,r){var a="fullscreenCheckbox-"+ ++$;return t.data.fullscreenEvent=function(t){return e(t).prop("checked",!(!document.fullscreenElement&&!document.msFullscreenElement))},t.data.checkboxEvent=function(){return o.toggleFullscreen()},R(t,{source:'<input id="'+a+'" type="checkbox" '+(document.fullscreenEnabled||document.msFullscreenEnabled?" ":"disabled ")+(document.fullscreenElement||document.msFullscreenElement?"checked":"")+'><label for="'+a+'">'+r+"</label>",append:"replace"})},[String]),n.onStartup(function(){return e(n.storyElement).on("input.input-box-macro","textarea",function(){var t=e(this),n=t.closest("tw-expression").data("inputBoxEvent");n&&n(t)})}),["input-box","force-input-box"].forEach(function(e){return t.addCommand(e,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=g.isPrototypeOf(n[0]),i="number"==typeof n[1+a],o="string"==typeof n[1+a+i],c=n[+a];if("string"!=typeof c||-1===c.search(j)||!c.includes("=")&&c.length>1)return s.create("datatype","The ("+e+':) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not '+JSON.stringify(c)+".");if("force-input-box"===e&&!o)return s.create("datatype","The ("+e+":) macro requires a string of text to forcibly input.");var u=1+a+i+o;return n.length>u?s.create("datatype","An incorrect combination of values was given to this ("+e+":) macro."):void 0},function(t,r){for(var a=arguments.length,i=Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];var c="force-input-box"===e,u=g.isPrototypeOf(i[0]),l="number"==typeof i[1+u],p=u&&i[0],f=l?i[1+u]:3,d=O(i[+u]),h=d.marginLeft,y=d.size,m="string"==typeof i[1+u+l]?i[1+u+l]:"",v=c?"":m;if("two way"===p.bind){t.attr.push({"data-2bind":!0});var b=p.varRef.get();if("string"==typeof b){v=c?m.slice(0,b.length):b;var w=p.set(v);if(s.containsError(w))return w}t.data.twoWayBindEvent=function(e,t,n){if(p.varRef.matches(t,n)){var r=p.varRef.get();"string"==typeof r&&e.find("textarea").val(c?m.slice(0,r.length):r)}}}else if(p){var T=p.set(c?"":m);if(s.containsError(T))return T}!c&&p&&(t.data.inputBoxEvent=function(e){var t=e.val(),n=p.set(t);s.containsError(n)&&e.replaceWith(n.render(""))});var S='<textarea style="width:100%" rows='+f+">"+n.escape(v)+"</textarea>";if(c){var x=Array.from(m);t.data.inputBoxEvent=function(e){var t=e.val().length,n=x.slice(0,t).join("");if(e.val(n),p){var r=p.set(n);s.containsError(r)&&e.replaceWith(r.render(""))}return!0}}return t.styles.push({display:"block","margin-left":h+"%",width:y+"%","border-style":function(){return this.style.borderStyle||"solid"}}),R(t,{source:S,append:"replace"})},[N(g,String),P(N(M,String)),P(N(M,String)),P(String)])}),["show","rerun"].forEach(function(n){return t.addCommand(n,z,function(t,r){for(var a=arguments.length,i=Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];return i.forEach(function(a){return a.forEach(r,function(a){var i=a.data("hidden");if(void 0!==i!=("rerun"===n))if(a.removeData("hidden"),i instanceof e)a.empty().append(i);else{var o=a.data("tempVariables");r.renderInto("",null,R({},t,{append:"replace",source:a.data("originalSource")||"",target:a}),o&&Object.create(o))}})}),t},[_(l)])});var B=function(e){return["I can't use a dialog macro in "+e+".","Please rewrite this without putting such macros here."]};t.addCommand("hide",z,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){return t.forEach(e,function(e){Boolean(e.data("hidden"))||e.data("hidden",e.contents().detach())})})},[_(l)],!1)("stop",z,z,[],!1)("load-game",z,function(e,t){var n=localStorage.getItem(W("Saved Game")+t);if(!n)return s.create("saving","I can't find a save slot named '"+t+"'!");var a=r.deserialise(e,n);if(a instanceof Error){var i=k({message:"Sorry to interrupt... The story tried to load saved data, but there was a problem.\n"+a.message+"\n\nThat data might have been saved from a different version of this story. Should I delete it?\n(Type 'delete' and choose Yes to delete it.)\n\nEither way, the story will now continue without loading the data.",defaultValue:"",buttons:[{name:"Yes",confirm:!0,callback:function(){"delete"===i.find("input").last().val()&&localStorage.removeItem(W("Saved Game")+t),e.unblock("")}},{name:"No",cancel:!0,callback:function(){return e.unblock()}}]});return{blocked:i}}requestAnimationFrame(o.showPassage.bind(o,r.passage,!1))},[String],!1)("mock-visits",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!o.options.debug)return s.create("operation","(mock-visits:) cannot be used outside of debug mode.","This macro is not meant to be used outside of debugging your story.");var r=t.find(function(e){return!a.hasValid(e)});return r?s.create("datatype","I can't mock-visit '"+r+"' because no passage with that name exists."):void 0},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r.mockVisits=S(n)},[_(String)],!1)(["dialog","alert"],function(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(g.isPrototypeOf(e)){if("two way"===e.bind)return s.create("datatype","(dialog:) shouldn't be given two-way bound variables.");if(void 0===t)return s.create("datatype","(dialog:) needs a message string to display.")}else void 0!==t&&a.unshift(t);var o=a.findIndex(function(e){return""===e});if(o>-1)return s.create("datatype","(dialog:)'s "+n.nth(o+1)+" link text shouldn't be an empty string.")},function(e,t,n,r){for(var a=arguments.length,i=Array(a>4?a-4:0),o=4;o<a;o++)i[o-4]=arguments[o];return g.isPrototypeOf(n)||(void 0!==r&&i.unshift(r),r=n,n=void 0),i.length||(i=["OK"]),{blocked:k({section:t,message:r,cd:e,buttons:i.map(function(e){return{name:e,callback:function(){t.unblock(n&&n.set(e)||"")}}})})}},[N(g,String),I(String)])("open-url",z,function(e,t){window.open(t,"")},[String],!1)(["restart","reload"],z,function(){if(r.pastLength<1)return s.create("infinite","I mustn't (restart:) the story in the starting passage.");r.hasSessionStorage&&sessionStorage.removeItem("Saved Session"),window.location.reload()},[],!1)("goto-url",z,function(e,t){window.location.assign(t)},[String],!1)("ignore",z,z,[I(E)])("assert-exists",function(e){if(""===e)return s.create("datatype","(assert-exists:) mustn't be given an empty string.")},function(e,t,n){var r=0;return("string"==typeof n?l.create({type:"string",data:n}):n).forEach(t,function(){++r}),r?e:s.create("assertion","I didn't see any "+("string"==typeof n?"text occurrences of":"hooks matching")+" "+x(n)+" in this passage.")},[N(l,String)]),t.add("assert",function(e,t){return t?{TwineScript_TypeID:"instant",TwineScript_TypeName:"an (assert:) operation",TwineScript_ObjectName:"an (assert:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return""}}:R(s.create("assertion","An assertion failed: "),{appendTitleText:!0})},[Boolean])("save-game",function(e,t,n){if(n=n||"",!r.hasStorage)return!1;var a=r.serialise();if(s.containsError(a))return a;if(!1===a)return!1;try{return localStorage.setItem(W("Saved Game")+t,a),localStorage.setItem(W("Saved Game Filename")+t,n),!0}catch(e){return!1}},[String,P(String)])("prompt",function(e,t,n,r,a){if(e.stackTop&&e.stackTop.evaluateOnly)return s.create.apply(s,["macrocall"].concat(_toConsumableArray(B(e.stackTop.evaluateOnly))));if(""===a)return s.create("datatype","The text for (prompt:)'s confirm link can't be blank.");var i=k({section:e,message:t,defaultValue:n,buttons:[{name:a||"OK",confirm:!0,callback:function(){return e.unblock(i.find("input").last().val())}}].concat(""===r?[]:{name:r||"Cancel",cancel:!0,callback:function(){return e.unblock(n)}})});e.stackTop.blocked=i,setTimeout(function(){return i.find("input").last().focus()},100)},[String,String,P(String),P(String)])("confirm",function(e,t,n,r){if(e.stackTop&&e.stackTop.evaluateOnly)return s.create.apply(s,["macrocall"].concat(_toConsumableArray(B(e.stackTop.evaluateOnly))));if(""===r)return s.create("datatype","The text for (confirm:)'s confirm link can't be blank.");var a=k({section:e,message:t,defaultValue:!1,buttons:[{name:r||"OK",confirm:!0,callback:function(){return e.unblock(!0)}}].concat(""===n?[]:{name:n||"Cancel",cancel:!0,callback:function(){return e.unblock(!1)}})});e.stackTop.blocked=a},[String,P(String),P(String)])("page-url",function(){return window.location.href},[]),i.options.blockerMacros.push("prompt","confirm")}),define("macrolib/datastructures",["jquery","utils","utils/naturalsort","macros","utils/operationutils","state","engine","passages","datatypes/lambda","datatypes/datatype","datatypes/typedvar","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l,p,f){var d=t.shuffled,h=t.permutations,y=a.objectName,m=a.subset,g=a.collectionType,v=a.isValidDatamapName,b=a.is,w=a.unique,T=a.clone,S=a.range,x=r.TypeSignature,k=x.optional,O=x.rest,j=x.either,A=x.zeroOrMore,C=x.Any,E=x.nonNegativeInteger;r.add(["a","array"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n},A(j(l,C)))("range",function(e,t,n){return S(t,n)},[parseInt,parseInt])("subarray",function(e,t,n,r){return m(t,n,r)},[Array,parseInt,parseInt])("reversed",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reverse().map(T)},A(C))("shuffled",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return d.apply(void 0,n).map(T)},[C,O(C)])("sorted",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.sort(n("en"))},[j(Number,String),O(j(Number,String))])("rotated",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return 0===(t*=-1)?f.create("macrocall","I can't rotate these values by 0 positions."):Math.abs(t)>=r.length?f.create("macrocall","I can't rotate these "+r.length+" values by "+t+" positions."):r.slice(t).concat(r.slice(0,t)).map(T)},[parseInt,C,O(C)])("rotated-to",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);if(f.containsError(i))return i;if(!i.length)return f.create("macrocall","None of these "+r.length+" values matched the lambda, so I can't rotate them.");var o=r.indexOf(i[0]);return r.slice(o).concat(r.slice(0,o)).map(T)},[c.TypeSignature("where"),C,O(C)])("repeated",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=[];t-- >0;)i.push.apply(i,r);return i.map(T)},[E,O(C)])("interlaced",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=Math.min.apply(Math,_toConsumableArray(n.map(function(e){return e.length}))),i=[],o=0;o<a;o+=1)for(var s=0;s<n.length;s+=1)i.push(T(n[s][o]));return i},[Array,O(Array)])("permutations",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?h.apply(void 0,n):[]},[A(C)]),r.add("altered",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.map(function(n,r){return t.apply(e,{loop:n,pos:r+1})})},[c.TypeSignature("via"),A(C)])("find",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return t.filter(e,r)},[c.TypeSignature("where"),A(C)])(["all-pass","pass"],function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);return f.containsError(i)||i.length===r.length},[c.TypeSignature("where"),A(C)])("some-pass",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);return f.containsError(i)||i.length>0},[c.TypeSignature("where"),A(C)])("none-pass",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);return f.containsError(i)||0===i.length},[c.TypeSignature("where"),A(C)])("folded",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return"where"in t&&(r=t.filter(e,r)),f.containsError(r)||r.reduce(function(n,r,a){return t.apply(e,{making:n,loop:r,pos:a+1})})},[j(c.TypeSignature("where","via","making"),c.TypeSignature("via","making")),O(C)]),r.add("datanames",function(e,t){return Array.from(t.keys()).sort(n("en"))},[Map])("datavalues",function(e,t){return Array.from(t.entries()).sort(n("en",function(e){return String(e[0])})).map(function(e){return T(e[1])})},[Map])("dataentries",function(e,t){return Array.from(t.entries()).sort(function(e,t){return[e[0],t[0]].sort(n("en"))[0]===e[0]?-1:1}).map(function(e){return new Map([["name",e[0]],["value",T(e[1])]])})},[Map])("history",function(e,t){var n=i.mockVisits.concat(i.pastPassageNames());if(!t)return n;var r=t.filter(e,n.map(function(e){return s.get(e)}));return f.containsError(r)?r:r.map(function(e){return e.get("name")})},[k(c.TypeSignature("where"))])("passage",function(e,t){return T(s.get(t||i.passage))||f.create("macrocall","There's no passage named '"+t+"' in this story.")},[k(String)])("passages",function(e,t){var r=n("en"),a=[].concat(_toConsumableArray(s.values())).map(function(e){return T(e)}),i=t?t.filter(e,a):a,o=f.containsError(i);return o||i.sort(function(e,t){return r(e.get("name"),t.get("name"))})},[k(c.TypeSignature("where"))])("open-storylets",function(e,t){if(e.stackTop.evaluateOnly)return f.create("macrocall","(open-storylets:) can't be used in "+e.stackTop.evaluateOnly+".");var n=s.getStorylets(e,t),r=f.containsError(n);return r||n.map(T)},[k(c.TypeSignature("where"))])("savedgames",function(){function e(e){return"("+e+" "+o.options.ifid+") "}var t=0,n=void 0,r=new Map;do{if(!i.hasStorage)break;n=localStorage.key(t),t+=1;var a=e("Saved Game");n&&n.startsWith(a)&&(n=n.slice(a.length),r.set(n,localStorage.getItem(e("Saved Game Filename")+n)))}while(n);return r},[])(["datamap","dm"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=void 0,i=new Map,o=n.reduce(function(e,t){var n=void 0;if(f.containsError(e))return e;if(void 0===a)a=t;else{if(n=f.containsError(v(i,a)))return n;if(i.has(a))return f.create("macrocall","You used the same data name ("+y(a)+") twice in the same (datamap:) call.");i.set(a,T(t)),a=void 0}return e},!0);return f.containsError(o)?o:void 0!==a?f.create("macrocall","This datamap has a data name without a value."):i},A(j(l,C)))(["dataset","ds"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Set(n.filter(w).map(T))},A(C))("count",function e(t,n){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(a.length>1){var o,s=a.map(function(r){return e(t,n,r)});return(o=f.containsError(s))?o:s.reduce(function(e,t){return e+t},0)}var c=a[0];switch(g(n)){case"dataset":case"datamap":return f.create("macrocall","(count:) shouldn't be given a datamap or dataset.","You should use the 'contains' operator instead. For instance, write: $variable contains 'value'.");case"string":return"string"!=typeof c?f.create("macrocall",y(n)+" can't contain  "+y(c)+" because it isn't also a string."):c?n.split(c).length-1:0;case"array":return n.reduce(function(e,t){return e+b(t,c)},0);default:return f.create("macrocall",y(n)+" can't contain values, let alone "+y(c)+".")}},[C,O(C)])}),define("macrolib/stylechangers",["jquery","macros","utils","utils/renderutils","datatypes/colour","datatypes/hookset","datatypes/gradient","datatypes/changercommand","datatypes/lambda","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l){var p=r.geomParse,f=r.geomStringRegExp,d=Object.assign,h=t.TypeSignature,y=h.either,m=h.wrapped,g=h.optional,v=h.Any,b=h.Everything,w=h.zeroOrMore,T=h.rest,S=h.insensitiveSet,x=h.positiveNumber,k=h.positiveInteger,O=h.nonNegativeNumber,j=h.percent,A=[m(Boolean,'If you gave a number, you may instead want to check that the number is not 0. If you gave a string, you may instead want to check that the string is not "".')];n.onStartup(function(){return e(n.storyElement).on("mouseenter.hover-macro","[hover=false]",function(){var t=e(this),n=t.data("hoverChanger");t.data({mouseoutStyle:t.attr("style")||""}),u.create({target:t},n).update(),t.attr("hover",!0)}).on("mouseleave.hover-macro","[hover=true]",function(){var t=e(this),n=t.data("mouseoutStyle");t.attr("style",n).removeData("mouseoutStyle").attr("hover",!1)})});var C,E,_=S("instant","dissolve","fade","rumble","shudder","pulse","zoom","flicker","slideleft","slideright","slideup","slidedown","fadeleft","faderight","fadeup","fadedown","blur"),N=S("dotted","dashed","solid","double","groove","ridge","inset","outset","none");t.addChanger("if",function(e,t){return s.create("if",[t])},function(e,t){return e.enabled=e.enabled&&t},A)("unless",function(e,t){return s.create("unless",[t])},function(e,t){return e.enabled=e.enabled&&!t},A)("elseif",function(e,t){return"lastHookShown"in e.stack[0]?s.create("elseif",[!1===e.stack[0].lastHookShown&&!!t]):l.create("macrocall","There's no (if:) or something else before this to do (else-if:) with.")},function(e,t){return e.enabled=e.enabled&&t},A)("else",function(e){return"lastHookShown"in e.stack[0]?s.create("else",[!1===e.stack[0].lastHookShown]):l.create("macrocall","There's nothing before this to do (else:) with.")},function(e,t){return e.enabled=e.enabled&&t},null)("hidden",function(){return s.create("hidden")},function(e){return e.enabled=!1},null)(["verbatim","v6m"],function(){return s.create("verbatim")},function(e){return e.verbatim=!0},null)("live",function(e,t){return s.create("live",[t])},function(e,t){e.enabled=!1,e.data.live={delay:t}},g(Number))("event",function(e,t){return s.create("event",[t])},function(e,t){e.enabled=!1,e.data.live={event:t}},c.TypeSignature("when"))("more",function(){return s.create("more")},function(e){e.enabled=!1,e.data.live={event:{when:!0,filter:function(e){return 0!==e.eval("Operations").Identifiers.exits?[]:[!0]}}}},null)("after",function(e,t,n){return s.create("after",[t].concat(void 0!==n?[n]:[]))},function(e,t,r){e.enabled=!1,e.data.live={event:{when:!0,filter:function(e){return n.anyInputDown()&&r&&(t-=r),e.eval("Operations").Identifiers.time>t?[!0]:[]}}}},[x,g(O)])("hook",function(e,t){return t?s.create("hook",[t]):l.create("datatype","(hook:) names can't be empty strings.")},function(e,t){return e.attr.push({name:t})},[String])(["for","loop"],function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return t.loop?s.create("for",[t].concat(r)):l.create("datatype","The lambda provided to (for:) must refer to a temp variable, not just 'it'.")},function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,o=t.filter(e.section,r);if(i=l.containsError(o))return i;e.loopVars[t.loop.getName()]=o||[]},[c.TypeSignature("where"),w(v)])(["transition","t8n"],function(e,t){return s.create("transition",[n.insensitiveName(t)])},function(t,r){return t.transition=r,"zoom"===r&&(t.transitionOrigin=function(){var t=e(this).offset(),r=t.left,a=t.top;return n.mouseCoords.x-r+"px "+(n.mouseCoords.y-a)+"px"}),t},[_])(["transition-time","t8n-time"],function(e,t){return s.create("transition-time",[t])},function(e,t){return e.transitionTime=t,e.data.passageT8n=d(e.data.passageT8n||{},{time:t}),e},[x])(["transition-delay","t8n-delay"],function(e,t){return s.create("transition-delay",[t])},function(e,t){return e.transitionDelay=t,e},[O])(["transition-skip","t8n-skip"],function(e,t){return s.create("transition-skip",[t])},function(e,t){return e.transitionSkip=t,e},[x])(["transition-depart","t8n-depart"],function(e,t){return s.create("transition-depart",[n.insensitiveName(t)])},function(t,r){return t.data.passageT8n=d(t.data.passageT8n||{},{depart:r}),"zoom"===r&&(t.data.passageT8n.departOrigin=function(){var t=e(this).offset(),r=t.left,a=t.top;return n.mouseCoords.x-r+"px "+(n.mouseCoords.y-a)+"px"}),t},[_])(["transition-arrive","t8n-arrive"],function(e,t){return s.create("transition-arrive",[n.insensitiveName(t)])},function(t,r){return t.data.passageT8n=d(t.data.passageT8n||{},{arrive:r}),"zoom"===r&&(t.data.passageT8n.arriveOrigin=function(){var t=e(this),r=t.offset(),a=r.left,i=r.top,o=t.height();return{"transform-origin":100*(n.mouseCoords.x-a)/t.width()+"% "+100*(n.mouseCoords.y-i)/o+"%",height:o+"px"}}),t},[_])("button",function(){return s.create("button",[])},function(e){return e.attr.push({class:function(){return this.className+(this.classList.contains("enchantment-button")?"":" ".repeat(this.className.length>0)+"enchantment-button")}}),e},[])(["border","b4r"],function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s.create("border",r.map(n.insensitiveName))},function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.styles.push({display:function(){var t=e(this).css("display");return r.every(function(e){return"none"===e})||!t.includes("inline")?t:"inline-block"},"border-style":r.join(" "),"border-width":function(){return this.style.borderWidth||"2px"}}),t},[N].concat(_toConsumableArray(Array(3).fill(g(N)))))(["border-size","b4r-size"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.create("border-size",n)},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-width":n.map(function(e){return e+"px"}).join(" ")}),e},[O].concat(_toConsumableArray(Array(3).fill(g(O)))))("corner-radius",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.create("corner-radius",n)},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-radius":n.map(function(e){return e+"px"}).join(" "),padding:function(){return this.style.padding||n.map(function(e){return e+"px"}).join(" ")}}),e},[O].concat(_toConsumableArray(Array(3).fill(g(O)))))(["border-colour","b4r-colour","border-color","b4r-color"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.create("border-colour",n.map(function(e){return a.isPrototypeOf(e)?e.toRGBAString(e):e}))},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-color":n.join(" ")}),e},[y(String,a)].concat(_toConsumableArray(Array(3).fill(g(y(String,a))))))("opacity",function(e,t){return s.create("opacity",[t])},function(e,t){return e.styles.push({opacity:t})},[j])("font",function(e,t){return s.create("font",[t])},function(e,t){return e.styles.push({"font-family":t}),e},[String])("align",function(e,t){var n=void 0,r=t.indexOf("><");if(!/^(==+>|<=+|=+><=+|<==+>)$/.test(t))return l.create("datatype",'The (align:) macro requires an alignment arrow ("==>", "<==", "==><=" etc.) be provided, not "'+t+'"');if(~r){var a=Math.round(r/(t.length-2)*50);n=d({"text-align":"center","max-width":"50%"},25===a?{"margin-left":"auto","margin-right":"auto"}:{"margin-left":a+"%"})}else n="<"===t[0]&&">"===t.slice(-1)?{"text-align":"justify","max-width":"50%"}:t.includes(">")?{"text-align":"right"}:{"text-align":"left"};return n.display="inline-block",s.create("align",[n])},function(e,t){e.styles.push(t)},[String])(["text-colour","text-color","color","colour"],function(e,t){return s.create("text-colour",[t])},function(e,t){return a.isPrototypeOf(t)&&(t=t.toRGBAString(t)),e.styles.push({color:t}),e},[y(String,a)])(["text-size","size"],function(e,t){return s.create("text-size",[t])},function(e,t){return e.styles.push({"font-size":24*t+"px","line-height":36*t+"px"}),e},[O])("text-indent",function(e,t){return s.create("text-indent",[t])},function(e,t){return e.styles.push({"text-indent":t+"px",display:"inline-block"}),e},[O])(["text-rotate-z","text-rotate"],function(e,t){return s.create("text-rotate-z",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" rotate("+n+"deg)"}}),t},[Number])("text-rotate-y",function(e,t){return s.create("text-rotate-y",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" perspective(50vw) rotateY("+n+"deg)"}}),t},[Number])("text-rotate-x",function(e,t){return s.create("text-rotate-x",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" perspective(50vw) rotateX("+n+"deg)"}}),t},[Number])(["background","bg"],function(e,t){return s.create("background",[t])},function(t,r){var i=void 0;return a.isPrototypeOf(r)?r=r.toRGBAString(r):o.isPrototypeOf(r)&&(r=r.toLinearGradientString(r)),i=a.isHexString(r)||a.isCSS3Function(r)?{"background-color":r}:r.startsWith("linear-gradient(")||r.startsWith("repeating-linear-gradient(")?{"background-image":r}:{"background-size":"cover","background-image":"url("+r+")"},t.styles.push(i,{display:function(){var t=e(this);return!t.children().length||n.childrenProbablyInline(t)?e(this).css("display"):"block"}}),t},[y(String,a,o)]).apply(void 0,_toConsumableArray((C={color:function(){return"transparent"}},E=d(Object.create(null),{none:{},bold:{"font-weight":"bold"},italic:{"font-style":"italic"},underline:{"text-decoration":"underline"},doubleunderline:{"text-decoration":"underline","text-decoration-style":"double"},wavyunderline:{"text-decoration":"underline","text-decoration-style":"wavy"},strike:{"text-decoration":"line-through"},doublestrike:{"text-decoration":"line-through","text-decoration-style":"double"},wavystrike:{"text-decoration":"line-through","text-decoration-style":"wavy"},superscript:{"vertical-align":"super","font-size":".83em"},subscript:{"vertical-align":"sub","font-size":".83em"},blink:{animation:"fade-in-out 1s steps(1,end) infinite alternate"},shudder:{animation:"shudder linear 0.1s 0s infinite"},mark:{"background-color":"hsla(60, 100%, 50%, 0.6)"},condense:{"letter-spacing":"-0.08em"},expand:{"letter-spacing":"0.1em"},outline:[{"text-shadow":function(){var t=e(this).css("color");return"-1px -1px 0 "+t+", 1px -1px 0 "+t+",-1px  1px 0 "+t+", 1px  1px 0 "+t}},{color:function(){return n.parentColours(e(this)).backgroundColour}}],shadow:{"text-shadow":function(){return"0.08em 0.08em 0.08em "+e(this).css("color")}},emboss:{"text-shadow":function(){return"0.04em 0.04em 0em "+e(this).css("color")}},smear:[{"text-shadow":function(){var t=e(this).css("color");return"0em   0em 0.02em "+t+",-0.2em 0em  0.5em "+t+", 0.2em 0em  0.5em "+t}},C],blur:[{"text-shadow":function(){return"0em 0em 0.08em "+e(this).css("color")}},C],blurrier:[{"text-shadow":function(){return"0em 0em 0.2em "+e(this).css("color")},"user-select":"none"},C],mirror:{display:"inline-block",transform:"scaleX(-1)"},upsidedown:{display:"inline-block",transform:"scaleY(-1)"},fadeinout:{animation:"fade-in-out 2s ease-in-out infinite alternate"},rumble:{animation:"rumble linear 0.1s 0s infinite"},sway:{animation:"sway linear 2.5s 0s infinite"},buoy:{animation:"buoy linear 2.5s 0s infinite"},fidget:{animation:function(){return"fidget step-end 60s "+60*-Math.random()+"s infinite"+(Math.random()<.5?" reverse":"")}}}),["text-style",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s.create("text-style",r.map(n.insensitiveName))},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0;a<n.length;a+=1)"none"===n[a]?e.styles=[]:e.styles=e.styles.concat(E[n[a]]);return e},[T(S.apply(void 0,_toConsumableArray(Object.keys(E))))]])))("collapse",function(){return s.create("collapse")},function(e){return e.attr.push({collapsing:!0}),e},[])("hover-style",function(e,t){var n=u.create(),r=(t.run(n),n.summary());return r+""=="styles"||r.every(function(e){return"styles"===e||"attr"===e})&&n.attr.every(function(e){return Object.keys(e)+""=="style"})?s.create("hover-style",[t]):l.create("datatype","The changer given to (hover-style:) must only change the hook's style.")},function(e,t){return e.data.hoverChanger=t,e.attr.push({hover:function(e,t){return void 0!==t&&t}}),e},[s])("css",function(e,t){return t.trim().endsWith(";")||(t+=";"),s.create("css",[t])},function(t,n){return t.attr.push({style:function(){return(e(this).attr("style")||"")+n}}),t},[String])("test-true",function(){return s.create("test-true",[])},function(e){return e.enabled=!0},w(b))("test-false",function(){return s.create("test-false",[])},function(e){return e.enabled=!1},w(b)),t.addCommand("animate",e.noop,function(e,t,r,a,i){r.forEach(t,function(t){var r=void 0;if("zoom"===name){var o=t.offset(),s=o.left,c=o.top;r=n.mouseCoords.x-s+"px "+(n.mouseCoords.y-c)+"px"}n.transitionIn(t,a,e.transitionTime||i,e.transitionDelay,e.transitionSkip,0,r)})},[T(i),S.apply(void 0,_toConsumableArray(_.innerType.filter(function(e){return"instant"!==e}))),g(x)]),["box","float-box"].forEach(function(r){return t.addChanger(r,function(e,t,n){var a=-1===t.search(f)||t.length>1&&!t.includes("="),i="float-box"===r&&(-1===n.search(f)||n.length>1&&!n.includes("="));return a||i?l.create("datatype","The ("+r+':) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not "'+(a?t:n)+'".'):s.create(r,[t,n].filter(function(e){return void 0!==e}))},function(t,a,i){var o,s=p(a),c=s.marginLeft,u=s.size,l=void 0;if("float-box"===r){var f=p(i);l=f.marginLeft,i=f.size}var h="box"===r?"%":"vw",y=(_defineProperty(o={display:"block",width:u+h,"max-width":u+h},"box"===r?"margin-left":"left",c+h),_defineProperty(o,"box-sizing","content-box"),_defineProperty(o,"overflow-y","auto"),_defineProperty(o,"padding",function(){var t=e(this).css("padding");return t&&"0px"!==t?t:"1em"}),o);return void 0!==i&&(y.height=i+("box"===r?"em":"vh")),"float-box"===r&&d(y,{position:"fixed",top:l+"vh","background-color":function(){return n.parentColours(e(this)).backgroundColour}}),t.styles.push(y),t},[String,"box"===r?g(k):String])})}),define("internaltypes/enchantment",["jquery","utils","internaltypes/changedescriptor","datatypes/changercommand","utils/operationutils","internaltypes/twineerror","utils/renderutils"],function(e,t,n,r,a,i,o){var s=a.objectName,c=o.collapse,u={create:function(n){return t.assertOnlyHas(n,["scope","localHook","section","attr","data","changer","functions","lambda","name"]),Object.assign(Object.create(this),{enchantments:e()},n)},enchantScope:function(){var a=this,o=this.attr,u=this.data,l=this.functions,p=this.section,f=this.scope,d=this.localHook,h=this.lambda,y=[];f.forEach(p,function(m,g){if(!d||(d.jquery?d:d.hooks(p)).has(m[0]).length){var v=void 0;if(h)if(v=h.apply(p,{loop:f.TwineScript_GetProperty(g),pos:g+1}),i.containsError(v))m.replaceWith(v.render("")),h=v=null;else if(r.isPrototypeOf(v)){var b=v.summary();(b.includes("newTargets")||b.includes("target"))&&(m.replaceWith(i.create("macrocall","The changer produced by the 'via' lambda given to enchantment macros can't include a revision or enchantment changer like (replace:) or (click:).").render("")),h=v=null)}else m.replaceWith(i.create("macrocall","The 'via' lambda given to enchantment macros must return a changer, not "+s(v)+".").render("")),h=v=null;else v=a.changer;var w=!o&&!u&&(!v||v.summary().every(function(e){return e.startsWith("transition")})),T=w?m:m.wrap("<tw-enchantment>").parent();if(o&&T.attr(o),u&&T.data(u),l&&l.forEach(function(e){return e(T)}),v){var S=n.create({section:p,target:T});if(v.run(S),S.update(),m.is(t.storyElement)){var x=Object.keys(Object.assign.apply(Object,[{}].concat(_toConsumableArray(S.styles))));m.css(x.reduce(function(e,t){return"background-color"===t||"background-image"===t?e.background="transparent":e[t]="inherit",e},{})),T.data({enchantedProperties:x})}else if(m.is("tw-passage")&&S.styles.some(function(e){return"margin-left"in e||"margin"in e||"margin-right"in e})){var k="padding-left",O="padding-right";t.storyElement.css(k,"0px").css(O,"0px"),T.data({enchantedProperties:[k,O]})}}m.is(t.storyElement)&&T.css({width:"100%",height:"100%"}),"true"===T.attr("collapsing")&&(T.find("[collapsing=false]").each(function(){e(this).removeAttr("collapsing")}),c(T)),w||y.push(T)}}),this.enchantments=e(y)},disenchant:function(){this.enchantments.each(function(){e(this).contents().unwrap();var n=e(this).data("enchantedProperties");n&&t.storyElement.css(n.reduce(function(e,t){return e[t]="",e},{}))})}};return Object.freeze(u)}),define("macrolib/enchantments",["jquery","utils","utils/operationutils","engine","state","passages","macros","datatypes/hookset","datatypes/changercommand","datatypes/lambda","internaltypes/changedescriptor","internaltypes/enchantment","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l,p,f){var d=n.is,h=o.TypeSignature,y=h.either,m=h.rest,g=h.optional;function v(e,t){if(c.isPrototypeOf(t)){var n=t.summary();if(["newTargets","target","appendSource","functions"].some(function(e){return n.includes(e)}))return f.create("datatype","The changer given to ("+e+":) can't include a revision or enchantment changer like (replace:) or (click:).")}}["enchant","change"].forEach(function(e){o.addCommand(e,function(t,n){var r=v(e,n);if(r)return r},function(t,n,r){var a;n=s.from(n);var i=[];if(c.isPrototypeOf(r)){var o=l.create({section:t});if(r.run(o),(o.innerEnchantments||[]).length>0){var u=o.innerEnchantments.map(function(e){return e(n)});i.push.apply(i,_toConsumableArray(u))}}return i.push(p.create((_defineProperty(a={scope:n},c.isPrototypeOf(r)?"changer":"lambda",r),_defineProperty(a,"section",t),a))),i.forEach(function(n){"enchant"===e?(t.addEnchantment(n),t.updateEnchantments()):n.enchantScope()}),""},[y(s,String),y(c,u.TypeSignature("via"))],!1)}),o.addChanger("enchant-in",function(e,t,n){var r=v("enchant-in",n);return r||c.create("enchant-in",[t,n])},function(e,t,n){return e.innerEnchantments=(e.innerEnchantments||[]).concat(function(r){var a;return p.create((_defineProperty(a={scope:s.from(t),localHook:r},c.isPrototypeOf(n)?"changer":"lambda",n),_defineProperty(a,"section",e.section),a))}),e},[y(s,String),y(c,u.TypeSignature("via"))]),[["link-style",s.create({type:"name",data:"link"})],["line-style",s.create({type:"base",data:s.create({type:"name",data:"page"})},"lines",void 0)],["char-style",s.create({type:"base",data:s.create({type:"name",data:"page"})},"chars",void 0)]].forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];o.addChanger(n,function(e,t){var r=v(n,t);return r||c.create(n,[t])},function(e,t){return e.innerEnchantments=(e.innerEnchantments||[]).concat(function(n){var a;return p.create((_defineProperty(a={scope:r,localHook:n},c.isPrototypeOf(t)?"changer":"lambda",t),_defineProperty(a,"section",e.section),a))}),e},[y(c,u.TypeSignature("via"))])});var b=["replace","append","prepend"];function w(n,a){return t.onStartup(function(){var r=n.classList.replace(/ /g,"."),a=n.blockClassList?n.blockClassList.replace(/ /g,"."):"",i="."+r+(a?",."+a:"");t.storyElement.on(n.event.map(function(e){return e+".enchantment"}).join(" "),i,function(){var t=e(Array.from(e(this).parents(i).add(this)).sort(function(e,t){return 8&e.compareDocumentPosition(t)?1:-1})[0]),n=t.data("enchantmentEvent");n&&n(t)})}),[function(e,t,n){if(!t)return f.create("datatype","A string given to this ("+a+":) macro was empty.");if(n){var r=v(a,n);if(r)return r}return c.create(a,[s.from(t)].concat(n?[n]:[]))},function(e,t,i){e.enabled=!1,e.transitionDeferred=!0,n.rerender&&(e.newTargets=(e.newTargets||[]).concat({target:t,append:n.rerender}));var o=e.section&&e.section.stackTop?e.section.stackTop.tempVariables:Object.create(null),s=p.create(_defineProperty({functions:[function(e){e.attr("class",e.children().is("tw-story, tw-sidebar, tw-passage")||"block"===e.children().css("display")?n.blockClassList:n.classList)}],attr:(n.classList+"").match(/\b(?:link|enchantment-clickblock)\b/)?{tabIndex:"0"}:{},data:{enchantmentEvent:function(){e.section.stackTop&&e.section.stackTop.blocked||(n.once&&e.section.removeEnchantment(s),n.goto?r.goToPassage(n.goto,{transition:n.transition}):n.undo?r.goBack({transition:n.transition}):e.section.renderInto(e.source,null,Object.assign({},e,{enabled:!0,transitionDeferred:!1}),o))}},scope:t,section:e.section,name:a},c.isPrototypeOf(i)?"changer":"lambda",i));return e.section&&(e.section.addEnchantment(s),s.enchantScope()),e},[y(s,String),g(y(c,u.TypeSignature("via")))]]}b.forEach(function(t){o.addChanger(t,function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.every(Boolean)?c.create(t,r.map(s.from)):f.create("datatype","A string given to this ("+t+":) macro was empty.")},function(n){for(var r,a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return e(n.target).parents().filter("tw-collapsed,[collapsing=true]").length>0||n.attr.some(function(e){return e.collapsing})||(n.attr=[].concat(_toConsumableArray(n.attr),[{collapsing:!1}])),n.newTargets=n.newTargets||[],(r=n.newTargets).push.apply(r,_toConsumableArray(i.filter(function(e){return!n.newTargets.some(function(n){var r=n.target,a=n.append;return d(e,r)&&t===a})}).map(function(e){return{target:e,append:t,before:!0}}))),n},m(y(s,String)))(t+"-with",function(e,n){return c.create(t+"-with",[n])},function(e,n){return e.appendSource=(e.appendSource||[]).concat({source:n,append:t}),e},String)});var T="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,S=[{name:"click",enchantDesc:{event:["click"],once:!0,rerender:"",classList:"link enchantment-link",blockClassList:"enchantment-clickblock"}},{name:"mouseover",enchantDesc:{event:["mouseenter",T?"click":""].filter(Boolean),once:!0,rerender:"",classList:"enchantment-mouseover",blockClassList:"enchantment-mouseoverblock"}},{name:"mouseout",enchantDesc:{event:["mouseleave",T?"click":""].filter(Boolean),once:!0,rerender:"",classList:"enchantment-mouseout",blockClassList:"enchantment-mouseoutblock"}}];S.forEach(function(e){return o.addChanger.apply(o,[e.name].concat(_toConsumableArray(w(e.enchantDesc,e.name))))}),t.onStartup(function(){S.forEach(function(n){var r=n.enchantDesc;r.blockClassList&&t.storyElement.on(r.event.map(function(e){return e+".enchantment"}).join(" "),function(){var t=e(Array.from(e(this).parents("."+r.blockClassList.replace(/ /g,"."))).sort(function(e,t){return 8&e.compareDocumentPosition(t)?1:-1})[0]),n=t.data("enchantmentEvent");n&&n(t)})})}),b.forEach(function(e){S.forEach(function(t){var n=Object.assign({},t.enchantDesc,{rerender:e}),r=t.name+"-"+e;o.addChanger.apply(o,[r].concat(_toConsumableArray(w(n,r))))})}),S.forEach(function(e){["goto","undo"].forEach(function(t){var n=e.name+"-"+t;o.addCommand(n,function(e,r){return!e||!r&&"goto"===t?f.create("datatype","A string given to this ("+n+":) macro was empty."):"goto"!==t||i.hasValid(r)?void 0:f.create("macrocall","I can't ("+n+":) the passage '"+r+"' because it doesn't exist.")},function(r,i,o,c){if("undo"===t&&a.pastLength<1)return f.create("macrocall","I can't (undo:) on the first turn.");var u=w(Object.assign({},e.enchantDesc,{transition:r.data.passageT8n},"undo"===t?{undo:!0}:{goto:c}),n);return(0,_slicedToArray(u,2)[1])({section:i},s.from(o)),Object.assign(r,{source:""})},[y(s,String)].concat("undo"===t?[]:String))})})}),define("macrolib/metadata",["macros","renderer","utils/operationutils","datatypes/lambda","internaltypes/twineerror"],function(e,t,n,r,a){var i=n.clone,o=n.objectName,s=n.isValidDatamapName,c=e.TypeSignature,u=c.zeroOrMore,l=c.Any,p=t.options.metadataMacros,f=function(e){return{TwineScript_TypeName:"a ("+e+":) macro",TwineScript_ObjectName:"a ("+e+":) macro",TwineScript_Unstorable:!0,TwineScript_Print:function(){return""}}};[["storylet",r.TypeSignature("when")],["urgency",Number],["exclusivity",Number]].forEach(function(t){var n=_slicedToArray(t,2),r=n[0],a=n[1];e.add(r,function(e,t){return e.stackTop.speculativePassage?t:f(r)},a),p.push(r)}),e.add("metadata",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var c=void 0,u=new Map,l=n.reduce(function(e,t){var n=void 0;if(a.containsError(e))return e;if(void 0===c)c=t;else{if(n=a.containsError(s(u,c)))return n;if(u.has(c))return a.create("macrocall","You used the same data name ("+o(c)+") twice in the same (metadata:) call.");u.set(c,i(t)),c=void 0}return e},!0);return a.containsError(l)?l:void 0!==c?a.create("macrocall","This (metadata:) macro has a data name without a value."):e.stackTop.speculativePassage?u:f("storylet")},u(l)),p.push("metadata")}),define("macrolib/patterns",["jquery","macros","utils","utils/operationutils","datatypes/datatype","datatypes/typedvar","internaltypes/twineerror"],function(e,t,n,r,a,i,o){var s=n.anyRealLetter,c=n.anyUppercase,u=n.anyLowercase,l=n.anyCasedLetter,p=n.realWhitespace,f=n.impossible,d=r.objectName,h=r.toSource,y=t.TypeSignature,m=y.rest,g=y.either,v=y.optional,b=y.nonNegativeInteger,w=Object.assign,T=Object.create,S=m(g(String,a,i)),x=function e(t){var n,r=t.name,y=t.fullArgs,m=t.args,g=t.makeRegExpString,v=void 0===g?function(e){return e.join("")}:g,b=t.insensitive,S=void 0!==b&&b,x=t.canContainTypedVars,k=void 0===x||x,O=t.canBeUsedAlone,j=void 0===O||O,A=m||y,C=A.map(function e(t){if(i.isPrototypeOf(t)){if(!k)return o.create("operation","Optional string patterns, like ("+r+":)"+("p-many"===r?" with min 0":"")+", can't have typed variables inside them.");var n=e(t.datatype);return o.containsError(n)?n:"("+n+")"}if(a.isPrototypeOf(t)){if(!k&&"typedVars"in t&&t.typedVars().length)return o.create("operation","("+r+":) can't have typed variables inside its pattern.");if(t.regExp)return(t.rest?"(?:":"")+(S?t.insensitive().regExp:t.regExp)+(t.rest?")*":"");var h=t.name,y=t.rest?"*":"";return"alnum"===h?s+y:"whitespace"===h?p+y:"uppercase"===h?(S?l:c)+y:"lowercase"===h?(S?l:u)+y:"anycase"===h?l+y:"digit"===h?"\\d"+y:"linebreak"===h?"(?:\\r|\\n|\\r\\n)"+y:"str"===h?".*?":["even","odd","int","num"].includes(h)?o.create("datatype","Please use string datatypes like 'digit' in ("+r+":) instead of number datatypes."):o.create("datatype","The ("+r+":) macro must only be given string-related datatypes, not "+d(t)+".")}return"string"==typeof t?(t=t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),S&&(t=t.replace(RegExp("("+c+"|"+u+")","g"),function(e){return"["+e.toUpperCase()+e.toLowerCase()+"]"})),t):(f("createPattern","mapper() was given a non-string non-datatype "+t),"")});if(n=o.containsError(C))return n;var E=v(C),_=w(T(a),{name:r,regExp:E,insensitive:function(){return S?_:e({name:r,fullArgs:y,args:A.map(function(e){return a.isPrototypeOf(e)&&"function"==typeof e.insensitive?e.insensitive():e}),makeRegExpString:v,insensitive:!0,canContainTypedVars:k,canBeUsedAlone:j})},typedVars:function(){return A.reduce(function(t,n){return i.isPrototypeOf(n)&&(t=t.concat(S?i.create(e({name:"p-ins",fullArgs:[n.datatype],insensitive:!0}),n.varRef):n),n=n.datatype),a.isPrototypeOf(n)&&"function"==typeof n.typedVars&&(t=t.concat(n.typedVars())),t},[])},destructure:function(t){if("string"!=typeof t)return[o.create("operation","I can't unpack "+d(t)+" into "+this.TwineScript_ToSource()+" because it isn't a string.")];var n=this.typedVars();if(!n.length)return[];var r=(RegExp("^"+(this.rest?"(?:":"")+E+(this.rest?")*":"")+"$").exec(t)||[]).slice(1);return r.length?r.map(function(t,r){var a=n[r];if(a)return a.datatype.rest&&!a.datatype.regExp&&((a=a.TwineScript_Clone()).datatype=e({name:"p",fullArgs:[a.datatype]})),{dest:a,value:t||"",src:void 0}}).filter(Boolean):[o.create("operation","I can't unpack "+d(t)+" because it doesn't match the pattern "+this.TwineScript_ToSource()+".")]},TwineScript_IsTypeOf:function(e){return j?"string"==typeof e&&!!e.match("^"+(this.rest?"(?:":"")+E+(this.rest?")*":"")+"$"):o.create("operation","A ("+r+":) datatype must only be used with a (p:) macro.")},TwineScript_toTypeSignatureObject:function(){var e=this;return{pattern:"range",name:r,range:function(t){return e.TwineScript_IsTypeOf(t)}}},TwineScript_ToSource:function(){return(this.rest?"...":"")+"("+r+":"+y.map(h)+")"}});return Object.defineProperty(_,"TwineScript_ObjectName",{get:function(){return"a ("+r+":) datatype"}}),_};t.add(["p","pattern"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p",fullArgs:n})},S)(["p-either","pattern-either"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p-either",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?:"+e.join("|")+")"}})},S)(["p-opt","pattern-opt","p-optional","pattern-optional"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p-opt",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?:"+e.join("")+")?"}})},S)(["p-not","pattern-not"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.find(function(e){return"string"==typeof e?1!==[].concat(_toConsumableArray(e)).length:e.rest||e.regExp||["str","empty"].includes(e.name)})?o.create("datatype","(p-not:) should only be given single character"):x({name:"p-not",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"[^"+e.map(function(e){return e.startsWith("[")&&e.endsWith("]")?e.slice(1,-1):e}).join("")+"]"}})},S)(["p-many","pattern-many"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=n.slice(),c=void 0,u=void 0;if("number"==typeof n[0]&&(c=n.shift(),u="number"==typeof n[0]?n.shift():1/0),void 0!==u&&u<c)return o.create("datatype","The (p-many:) macro needs to be given string patterns, not just min and max numbers.");if(!n.length)return o.create("datatype","The (p-many:) macro needs to be given string patterns, not just min and max numbers.");var l=n.find(function(e){return"string"!=typeof e&&!a.isPrototypeOf(e)&&!i.isPrototypeOf(e)});return l?o.create("datatype","This (p-many:) macro can only be given a min and max number followed by datatypes or strings, but was also given "+d(l)+"."):x({name:"p-many",args:n,fullArgs:s,canContainTypedVars:c>0,makeRegExpString:function(e){return"(?:"+e.join("")+")"+(void 0!==c?"{"+c+(u===1/0?",":u!==c?","+u:"")+"}":"+")}})},[m(g(b,String,a,i))])(["p-ins","pattern-ins","p-insensitive","pattern-insensitive"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p-ins",fullArgs:n,insensitive:!0})},S)(["split","splitted"],function(e,t,n){if(t=x({name:"split",fullArgs:[t],canContainTypedVars:!1}),o.containsError(t))return t;if(!n)return[""];if(!t.regExp)return[].concat(_toConsumableArray(n));for(var r=RegExp(t.regExp),a=[],i=void 0;n&&(i=r.exec(n));){if(i.index+i[0].length===0)return a;a.push(n.slice(0,i.index)),n=n.slice(i.index+i[0].length)}return a.concat(n||[])},[g(String,a),String])("trimmed",function(e,t,n){return void 0===n||a.isPrototypeOf(t)&&"whitespace"===t.name?t.trim():(t=x({name:"trimmed",fullArgs:[t],canContainTypedVars:!1}),o.containsError(t)?t:t.regExp?n.replace(RegExp("^("+t.regExp+")*|("+t.regExp+")*$","g"),""):n)},[g(String,a),v(String)])}),define("macrolib/links",["jquery","macros","utils","state","passages","engine","datatypes/changercommand","internaltypes/changedescriptor","datatypes/hookset","datatypes/lambda","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l){var p=t.TypeSignature,f=p.optional,d=p.rest,h=p.either,y=["Links can't have empty strings for their displayed text.","In the link syntax, a link's displayed text is inside the [[ and ]], and on the non-pointy side of the -> or <- arrow if it's there."],m=Object.assign;function g(e,t,r){r=r||t;var i=a.hasValid(t)&&t===r,o=e.evaluateTwineMarkup(n.unescape(r),"a link's passage name"),s=void 0;if(i){var c=o.children().length>0?"`".repeat((r.match(/`+/)||[]).reduce(function(e,t){return Math.max(e,t.length+1)},1)):"";t=c+"\0".repeat(!!c)+t+"\0".repeat(!!c)+c}else o.findAndFilter("tw-error").length&&(s=o.findAndFilter("tw-error").data("TwineError")),r=o.text();return{text:t,passage:r,error:s}}n.onStartup(function(){e(n.storyElement).on("click.passage-link","tw-link",function(t){var n=e(this),r=n.closest("tw-expression"),a=n.closest("tw-expression, tw-hook"),o=a.data("clickEvent"),s=a.data("section");if(!(s&&s.stackTop&&s.stackTop.blocked)||s.stackTop.blocked instanceof e&&s.stackTop.blocked.find(n).length){if(o){if(n.find("tw-error").length>0)return;return t.stopPropagation(),void o(n)}var c=r.data("linkPassageName"),u=Object.assign({},r.data("passageT8n")||{});return r.find("tw-enchantment").each(function(t,n){Object.assign(u,e(n).data("passageT8n")||{})}),c?(t.stopPropagation(),void i.goToPassage(c,{transition:u})):n.is("[undo]")?(t.stopPropagation(),void i.goBack({transition:u})):n.is("[fullscreen]")?(t.stopPropagation(),void i.toggleFullscreen()):void 0}}),e(document).on("fullscreenchange",function(){e("tw-link[fullscreen]",n.storyElement).each(function(t,n){(e(n).closest("tw-expression, tw-hook").data("fullscreenEvent")||Object)(n)})})}),[["link","link-replace"],["link-reveal"],["link-repeat"],["link-rerun"]].forEach(function(e){return t.addChanger(e,function(t,n,r){if(!n)return l.create("datatype",y[0]);if(r){var a=r.summary();if(["newTargets","target","appendSource","functions"].some(function(e){return a.includes(e)}))return l.create("datatype","The changer given to ("+e[0]+":) can't include a revision or enchantment changer like (replace:) or (click:).")}return o.create(e[0],[n].concat(r||[]))},function(t,n,r){var a=e[0],i=t.section&&t.section.stackTop?t.section.stackTop.tempVariables:Object.create(null),o=s.create({source:"<tw-link tabindex=0>"+n+"</tw-link>",target:function(){return t.target},append:"replace",data:{section:t.section,clickEvent:function(e){t.enablers=t.enablers.filter(function(e){return e.descriptor!==o}),"link-reveal"===a&&e.contents().unwrap();var n=e.parentsUntil(":not(tw-enchantment)").parent();if(n.length||(n=e.parent()),"link-rerun"===a){var r=e.parentsUntil(":not(tw-enchantment)");e.detach(),r.remove()}"link"!==a&&"link-rerun"!==a||n.empty(),t.section.renderInto("",null,t,i),"link-rerun"===a&&n.prepend(e)}}});return t.enablers=(t.enablers||[]).concat({descriptor:o,changer:r}),t},[String,f(o)])}),t.addCommand("link-goto",function(e){if(!e)return l.create.apply(l,["datatype"].concat(y))},function(e,t,i,o){var s,c=g(t,i,o);if(i=c.text,o=c.passage,s=c.error)return s;if(e.transition){var u="transition";return l.create("datatype","Please attach ("+u+"-depart:) or ("+u+"-arrive:) to a passage link, not ("+u+":).")}var p=void 0;return a.hasValid(o)||(p='<tw-broken-link passage-name="'+n.escape(o)+'">'+i+"</tw-broken-link>"),p=p||"<tw-link tabindex=0 "+(r.passageNameVisited(o)>0?'class="visited" ':"")+">"+i+"</tw-link>",e.data.linkPassageName=o,e.data.section=t,m(e,{source:p,transitionDeferred:!0})},[String,f(String)])("link-storylet",function(){var e,t=(e=1===arguments.length||"string"!=typeof(arguments.length<=0?void 0:arguments[0])?0:1,arguments.length<=e?void 0:arguments[e]);if(!t||"string"==typeof t)return l.create("datatype","(link-storylet:) should be given one index number or one 'where' lambda, after the optional link text string.")},function(e,t){var n,i,o,s=(n=2+(1==(arguments.length<=2?0:arguments.length-2)?0:3==(arguments.length<=2?0:arguments.length-2)||"string"==typeof(arguments.length<=2?void 0:arguments[2])?1:2),arguments.length<=n?void 0:arguments[n]),c="string"==typeof(arguments.length<=2?void 0:arguments[2])&&(arguments.length<=2?void 0:arguments[2]),p=(i=(arguments.length<=2?0:arguments.length-2)-1+2,(arguments.length<=i?void 0:arguments[i])!==s&&(o=(arguments.length<=2?0:arguments.length-2)-1+2,arguments.length<=o?void 0:arguments[o]));if(e.transition){var f="transition";return l.create("datatype","Please attach ("+f+"-depart:) or ("+f+"-arrive:) to (link-storylet:), not ("+f+":).")}var d=u.isPrototypeOf(s),h=a.getStorylets(t,d&&s),y=l.containsError(h);if(y)return y;var g=h[d?0:s<0?h.length+s:s-1],v=void 0;if(g)g=g.get("name"),c=c||g,v=v||"<tw-link tabindex=0 "+(r.passageNameVisited(g)>0?'class="visited" ':"")+">"+c+"</tw-link>",e.data.linkPassageName=g,e.data.section=t;else{if(!p)return e;v=p}return m(e,{source:v,transitionDeferred:!0})},[h(parseInt,String,u.TypeSignature("where")),f(h(parseInt,String,u.TypeSignature("where"))),f(String)])("link-undo",function(e){if(!e)return l.create("datatype",y[0])},function(e,t,n){return r.pastLength<1?l.create("macrocall","I can't use (link-undo:) on the first turn."):(e.data.section=t,m(e,{source:"<tw-link tabindex=0 undo>"+n+"</tw-link>",transitionDeferred:!0}))},[String])("link-show",function(e){if(!e)return l.create("datatype",y[0])},function(t,n,r){for(var a=arguments.length,i=Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];return t.data.section=n,t.data.clickEvent=function(r){r.contents().unwrap(),i.forEach(function(r){return r.forEach(n,function(r){var a=r.data("originalSource")||"",i=r.data("hidden");if(i)if(r.removeData("hidden"),i instanceof e)r.empty().append(i);else{var o=r.data("tempVariables");n.renderInto("",null,m({},t,{source:a,target:r,transitionDeferred:!1}),o&&Object.create(o))}})})},m(t,{source:"<tw-link tabindex=0>"+r+"</tw-link>",transitionDeferred:!0})},[String,d(c)])("link-fullscreen",function(e,t){if(!e||!t)return l.create("datatype",y[0])},function(e,t,n,r){var a=function(){return document.fullscreenEnabled||document.msFullscreenEnabled?"<tw-link tabindex=0 fullscreen>"+(document.fullscreenElement||document.msFullscreenElement?r:n)+"</tw-link>":r?"<tw-broken-link>"+r+"</tw-broken-link>":""},i=t.stackTop.tempVariables;return e.data.section=t,e.data.fullscreenEvent=function(){(document.fullscreenEnabled||document.msFullscreenEnabled)&&e.data.section.whenUnblocked(function(){var t=m({},e,{append:"replace",source:a(),transitionDeferred:!1});e.section.renderInto("",null,t,i)})},m(e,{source:a(),transitionDeferred:!0})},[String,String,f(String)]),t.addChanger(["link-reveal-goto"],function(e,t,n,r){if(!t)return l.create.apply(l,["datatype"].concat(y));if(o.isPrototypeOf(n)){if(o.isPrototypeOf(r))return l.create("datatype","You mustn't give two changers to (link-reveal-goto:)");r=n,n=void 0}if(r){var a=r.summary();if(["newTargets","target","appendSource","functions"].some(function(e){return a.includes(e)}))return l.create("datatype","The changer given to (link-reveal-goto:) can't include a revision or enchantment changer like (replace:) or (click:).")}var i=g(e,t,n);return t=i.text,n=i.passage,i.error||o.create("link-reveal-goto",[t,n,r].filter(function(e){return void 0!==e}))},function(e,t,o,c){if(a.hasValid(o)){var u=r.passageNameVisited(o),l=e.section&&e.section.stackTop?e.section.stackTop.tempVariables:Object.create(null),p=s.create({source:"<tw-link tabindex=0 "+(u>0?'class="visited" ':"")+">"+t+"</tw-link>",target:e.target,append:"replace",data:{section:e.section,append:"replace",clickEvent:function(t){e.enablers=e.enablers.filter(function(e){return e.descriptor!==p}),t.contents().unwrap(),e.section.renderInto("",null,e,l),e.section.whenUnblocked(function(){return i.goToPassage(o,{transition:e.data.passageT8n})})}}});return e.enablers=(e.enablers||[]).concat({descriptor:p,changer:c}),e}e.source='<tw-broken-link passage-name="'+n.escape(o)+'">'+t+"</tw-broken-link>"},[String,f(h(o,String)),f(o)])}),define("macrolib/custommacros",["utils","macros","state","utils/operationutils","datatypes/changercommand","datatypes/custommacro","datatypes/codehook","datatypes/typedvar","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c){var u=t.add,l=t.addChanger,p=t.addCommand,f=t.TypeSignature,d=f.rest,h=f.either,y=f.Any,m=r.objectName;u("macro",function(t){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var u=void 0,l=[];for(u=0;u<a.length;u+=1){var p=u===a.length-1;if(s.isPrototypeOf(a[u])===p)return c.create("datatype","The "+(p?"":e.nth(a.length-u+1)+"-")+"last value given to (macro:) should be a "+(p?"code hook":"datatyped variable")+", not "+m(a[u]));if(!p){var f="A custom macro";if(a[u].varRef.object===n.variables)return c.create("datatype",f+"'s typed variables must be temp variables (with a '_'), not global variables (with a '$').","Write them with a _ symbol at the start instead of a $ symbol.");if(a[u].varRef.propertyChain.length>1)return c.create("datatype",f+"'s typed variables can't be properties inside a data structure.");if(a[u].datatype.rest&&u!==a.length-2)return c.create("datatype",f+" can only have one spread variable, and it must be its last variable.");var d=a[u].varRef.propertyChain[0];if(l.includes(d))return c.create("datatype",f+"'s typed variables can't both be named '"+d+"'.");l.push(d)}}return i.create(a.slice(0,-1),a[a.length-1])},[d(h(s,o))]);var g=function(e,t,n){if(!t.some(function(e){if("function"==typeof e.output)return e.output(n),!0}))return c.create("macrocall","("+e+":) should only be used inside a code hook passed to (macro:).")};p(["output-data","out-data"],function(){},function(e,t){var n=e.stack;return g("output-data",n,t)||{blocked:!0}},[y],!1),l(["output","out"],function(e){return Object.assign(a.create("output",[e]))},function(e,t){var n=t.stack,r=t.stackTop;return e.loopVars=Object.keys(r.tempVariables).reduce(function(e,t){return e[t]=[r.tempVariables[t]],e},{}),g("output",n,e),r.blocked=!0,e},[]),p("error",function(e){if(!e)return c.create("datatype","This (error:) macro was given an empty string.")},function(e,t){var n=e.stack;return g("error",n,c.create("user",t))||{blocked:!0}},[String],!1)}),define("repl",["utils","engine","markup","twinescript/compiler","twinescript/environ"],function(e,t,n,r,a){e.onStartup(function(){return setTimeout(function(){t.options.debug&&(window.REPL=function(e){var t=r(n.lex("(print:"+e+")"));console.log(t);var i=a({}).eval(t);return i.TwineScript_Run?i.TwineScript_Run().source:i},window.LEX=function(e){var t=n.lex(e);return 1===t.length?t[0]:t})})})}),require.config({paths:{jquery:"../node_modules/jquery/dist/jquery",almond:"../node_modules/almond/almond","es6-shim":"../node_modules/es6-shim/es6-shim",jqueryplugins:"utils/jqueryplugins",markup:"./markup/markup",lexer:"./markup/lexer",patterns:"./markup/patterns"},deps:["es6-shim","jqueryplugins"]}),require(["jquery","debugmode/mode","renderer","state","section","engine","passages","utils","utils/renderutils","internaltypes/varscope","internaltypes/twineerror","macros","macrolib/values","macrolib/commands","macrolib/datastructures","macrolib/stylechangers","macrolib/enchantments","macrolib/metadata","macrolib/patterns","macrolib/links","macrolib/custommacros","repl"],function($,DebugMode,Renderer,State,Section,Engine,Passages,Utils,_ref118,VarScope,TwineError){var dialog=_ref118.dialog;function __HarloweEval(text){return eval(text+"")}var _installHandlers=function(){$(document.documentElement).on("keydown",function(e){13===e.which&&"0"===e.target.getAttribute("tabindex")&&$(e.target).trigger("click")}),Engine.options.debug?DebugMode():TwineError.on("error",function(e,t){return!$("tw-debugger").length&&DebugMode(e,t)}),_installHandlers=null},oldOnError;function printJSError(e){var t=e.name+": "+e.message;if(e.stack){var n=e.stack.split("\n"),r=n.findIndex(function(e){return e.includes("__HarloweEval")});t+="\n"+n.slice(0,r).join("\n").replace(/\([^\)]+\)/g,"")}return"<div style='font-family:monospace;overflow-y:scroll;max-height:30vh'>```"+t+"```</div>"}oldOnError=window.onerror,window.onerror=function(e,t,n,r,a){window.onerror=oldOnError,Utils.storyElement.parent().append(dialog({message:"Sorry to interrupt, but this page's code has got itself in a mess.\n\n"+printJSError(a)+"\n(This is probably due to a bug in the Harlowe game engine.)"})),"function"==typeof oldOnError&&oldOnError.apply(void 0,arguments)},Utils.onStartup(function(){var e=$("tw-storydata");if(0!==e.length){var t=e.attr("options");t&&t.split(/\s/).forEach(function(e){Renderer.options[e]=Engine.options[e]=!0});var n=e.attr("startnode");Renderer.options.ifid=Engine.options.ifid=e.attr("ifid"),n||(n=[].reduce.call($("tw-passagedata"),function(e,t){var n=t.getAttribute("pid");return n<e?n:e},1/0)),n=$("tw-passagedata[pid="+n+"]").attr("name"),_installHandlers();var r=!1;$("[role=script]").each(function(e){try{__HarloweEval($(this).html())}catch(t){r||(r=!0,dialog({parent:Utils.storyElement.parent(),message:"There is a problem with this story's "+Utils.nth(e+1)+" script:\n\n"+printJSError(t)}))}}),$("[role=stylesheet]").each(function(e){$(document.head).append('<style data-title="Story stylesheet '+(e+1)+'">'+$(this).html())});var a=Section.create();a.stack=[{tempVariables:Object.create(VarScope)}];var i=Passages.loadMetadata(a);if(i.length){var o=dialog({parent:Utils.storyElement.parent(),message:"These errors occurred when running the `(metadata:)` macro calls in this story's passages:<p></p>"});i.forEach(function(e){return o.find("p").append(e.render(""))})}var s=!Engine.options.debug&&State.hasSessionStorage&&sessionStorage.getItem("Saved Session");s&&!0===State.deserialise(a,s)?Engine.showPassage(State.passage,!1):Engine.goToPassage(n)}})}),define("harlowe",function(){}),require(["harlowe"])}();
</script>

</body>
</html>
